var aS=Object.defineProperty;var iS=(s,i,l)=>i in s?aS(s,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[i]=l;var _=(s,i,l)=>iS(s,typeof i!="symbol"?i+"":i,l);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function lS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Gc={exports:{}},ss={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function nS(){if(Nm)return ss;Nm=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:f}}return ss.Fragment=i,ss.jsx=l,ss.jsxs=l,ss}var Fm;function sS(){return Fm||(Fm=1,Gc.exports=nS()),Gc.exports}var x=sS(),qc={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function rS(){if(Um)return _t;Um=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function j(V,X,et){this.props=V,this.context=X,this.refs=D,this.updater=et||B}j.prototype.isReactComponent={},j.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=j.prototype;function A(V,X,et){this.props=V,this.context=X,this.refs=D,this.updater=et||B}var J=A.prototype=new F;J.constructor=A,C(J,j.prototype),J.isPureReactComponent=!0;var Y=Array.isArray;function Z(){}var Q={H:null,A:null,T:null,S:null},ht=Object.prototype.hasOwnProperty;function Et(V,X,et){var at=et.ref;return{$$typeof:s,type:V,key:X,ref:at!==void 0?at:null,props:et}}function At(V,X){return Et(V.type,X,V.props)}function Gt(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function lt(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return X[et]})}var mt=/\/+/g;function Bt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?lt(""+V.key):X.toString(36)}function St(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Z,Z):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function k(V,X,et,at,pt){var xt=typeof V;(xt==="undefined"||xt==="boolean")&&(V=null);var zt=!1;if(V===null)zt=!0;else switch(xt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(V.$$typeof){case s:case i:zt=!0;break;case y:return zt=V._init,k(zt(V._payload),X,et,at,pt)}}if(zt)return pt=pt(V),zt=at===""?"."+Bt(V,0):at,Y(pt)?(et="",zt!=null&&(et=zt.replace(mt,"$&/")+"/"),k(pt,X,et,"",function(za){return za})):pt!=null&&(Gt(pt)&&(pt=At(pt,et+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(mt,"$&/")+"/")+zt)),X.push(pt)),1;zt=0;var de=at===""?".":at+":";if(Y(V))for(var Jt=0;Jt<V.length;Jt++)at=V[Jt],xt=de+Bt(at,Jt),zt+=k(at,X,et,xt,pt);else if(Jt=b(V),typeof Jt=="function")for(V=Jt.call(V),Jt=0;!(at=V.next()).done;)at=at.value,xt=de+Bt(at,Jt++),zt+=k(at,X,et,xt,pt);else if(xt==="object"){if(typeof V.then=="function")return k(St(V),X,et,at,pt);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return zt}function W(V,X,et){if(V==null)return V;var at=[],pt=0;return k(V,at,"","",function(xt){return X.call(et,xt,pt++)}),at}function ft(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Vt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ot={map:W,forEach:function(V,X,et){W(V,function(){X.apply(this,arguments)},et)},count:function(V){var X=0;return W(V,function(){X++}),X},toArray:function(V){return W(V,function(X){return X})||[]},only:function(V){if(!Gt(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=S,_t.Children=Ot,_t.Component=j,_t.Fragment=l,_t.Profiler=o,_t.PureComponent=A,_t.StrictMode=r,_t.Suspense=p,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Q.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,X,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=C({},V.props),pt=V.key;if(X!=null)for(xt in X.key!==void 0&&(pt=""+X.key),X)!ht.call(X,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&X.ref===void 0||(at[xt]=X[xt]);var xt=arguments.length-2;if(xt===1)at.children=et;else if(1<xt){for(var zt=Array(xt),de=0;de<xt;de++)zt[de]=arguments[de+2];at.children=zt}return Et(V.type,pt,at)},_t.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:f,_context:V},V},_t.createElement=function(V,X,et){var at,pt={},xt=null;if(X!=null)for(at in X.key!==void 0&&(xt=""+X.key),X)ht.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=X[at]);var zt=arguments.length-2;if(zt===1)pt.children=et;else if(1<zt){for(var de=Array(zt),Jt=0;Jt<zt;Jt++)de[Jt]=arguments[Jt+2];pt.children=de}if(V&&V.defaultProps)for(at in zt=V.defaultProps,zt)pt[at]===void 0&&(pt[at]=zt[at]);return Et(V,xt,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:m,render:V}},_t.isValidElement=Gt,_t.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:ft}},_t.memo=function(V,X){return{$$typeof:g,type:V,compare:X===void 0?null:X}},_t.startTransition=function(V){var X=Q.T,et={};Q.T=et;try{var at=V(),pt=Q.S;pt!==null&&pt(et,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Z,Vt)}catch(xt){Vt(xt)}finally{X!==null&&et.types!==null&&(X.types=et.types),Q.T=X}},_t.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},_t.use=function(V){return Q.H.use(V)},_t.useActionState=function(V,X,et){return Q.H.useActionState(V,X,et)},_t.useCallback=function(V,X){return Q.H.useCallback(V,X)},_t.useContext=function(V){return Q.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,X){return Q.H.useDeferredValue(V,X)},_t.useEffect=function(V,X){return Q.H.useEffect(V,X)},_t.useEffectEvent=function(V){return Q.H.useEffectEvent(V)},_t.useId=function(){return Q.H.useId()},_t.useImperativeHandle=function(V,X,et){return Q.H.useImperativeHandle(V,X,et)},_t.useInsertionEffect=function(V,X){return Q.H.useInsertionEffect(V,X)},_t.useLayoutEffect=function(V,X){return Q.H.useLayoutEffect(V,X)},_t.useMemo=function(V,X){return Q.H.useMemo(V,X)},_t.useOptimistic=function(V,X){return Q.H.useOptimistic(V,X)},_t.useReducer=function(V,X,et){return Q.H.useReducer(V,X,et)},_t.useRef=function(V){return Q.H.useRef(V)},_t.useState=function(V){return Q.H.useState(V)},_t.useSyncExternalStore=function(V,X,et){return Q.H.useSyncExternalStore(V,X,et)},_t.useTransition=function(){return Q.H.useTransition()},_t.version="19.2.4",_t}var jm;function bf(){return jm||(jm=1,qc.exports=rS()),qc.exports}var w=bf();const Oe=lS(w);var Xc={exports:{}},rs={},Qc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function uS(){return Pm||(Pm=1,(function(s){function i(k,W){var ft=k.length;k.push(W);t:for(;0<ft;){var Vt=ft-1>>>1,Ot=k[Vt];if(0<o(Ot,W))k[Vt]=W,k[ft]=Ot,ft=Vt;else break t}}function l(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],ft=k.pop();if(ft!==W){k[0]=ft;t:for(var Vt=0,Ot=k.length,V=Ot>>>1;Vt<V;){var X=2*(Vt+1)-1,et=k[X],at=X+1,pt=k[at];if(0>o(et,ft))at<Ot&&0>o(pt,et)?(k[Vt]=pt,k[at]=ft,Vt=at):(k[Vt]=et,k[X]=ft,Vt=X);else if(at<Ot&&0>o(pt,ft))k[Vt]=pt,k[at]=ft,Vt=at;else break t}}return W}function o(k,W){var ft=k.sortIndex-W.sortIndex;return ft!==0?ft:k.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],g=[],y=1,S=null,E=3,b=!1,B=!1,C=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function J(k){for(var W=l(g);W!==null;){if(W.callback===null)r(g);else if(W.startTime<=k)r(g),W.sortIndex=W.expirationTime,i(p,W);else break;W=l(g)}}function Y(k){if(C=!1,J(k),!B)if(l(p)!==null)B=!0,Z||(Z=!0,lt());else{var W=l(g);W!==null&&St(Y,W.startTime-k)}}var Z=!1,Q=-1,ht=5,Et=-1;function At(){return D?!0:!(s.unstable_now()-Et<ht)}function Gt(){if(D=!1,Z){var k=s.unstable_now();Et=k;var W=!0;try{t:{B=!1,C&&(C=!1,F(Q),Q=-1),b=!0;var ft=E;try{e:{for(J(k),S=l(p);S!==null&&!(S.expirationTime>k&&At());){var Vt=S.callback;if(typeof Vt=="function"){S.callback=null,E=S.priorityLevel;var Ot=Vt(S.expirationTime<=k);if(k=s.unstable_now(),typeof Ot=="function"){S.callback=Ot,J(k),W=!0;break e}S===l(p)&&r(p),J(k)}else r(p);S=l(p)}if(S!==null)W=!0;else{var V=l(g);V!==null&&St(Y,V.startTime-k),W=!1}}break t}finally{S=null,E=ft,b=!1}W=void 0}}finally{W?lt():Z=!1}}}var lt;if(typeof A=="function")lt=function(){A(Gt)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Bt=mt.port2;mt.port1.onmessage=Gt,lt=function(){Bt.postMessage(null)}}else lt=function(){j(Gt,0)};function St(k,W){Q=j(function(){k(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ht=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(k){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var ft=E;E=W;try{return k()}finally{E=ft}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ft=E;E=k;try{return W()}finally{E=ft}},s.unstable_scheduleCallback=function(k,W,ft){var Vt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Vt+ft:Vt):ft=Vt,k){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=ft+Ot,k={id:y++,callback:W,priorityLevel:k,startTime:ft,expirationTime:Ot,sortIndex:-1},ft>Vt?(k.sortIndex=ft,i(g,k),l(p)===null&&k===l(g)&&(C?(F(Q),Q=-1):C=!0,St(Y,ft-Vt))):(k.sortIndex=Ot,i(p,k),B||b||(B=!0,Z||(Z=!0,lt()))),k},s.unstable_shouldYield=At,s.unstable_wrapCallback=function(k){var W=E;return function(){var ft=E;E=W;try{return k.apply(this,arguments)}finally{E=ft}}}})(Zc)),Zc}var km;function oS(){return km||(km=1,Qc.exports=uS()),Qc.exports}var Jc={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function cS(){if(Im)return Re;Im=1;var s=bf();function i(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,g,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Re.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return f(p,g,null,y)},Re.flushSync=function(p){var g=h.T,y=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=y,r.d.f()}},Re.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Re.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Re.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,S=m(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:b}):y==="script"&&r.d.X(p,{crossOrigin:S,integrity:E,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Re.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Re.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,S=m(y,g.crossOrigin);r.d.L(p,y,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Re.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Re.requestFormReset=function(p){r.d.r(p)},Re.unstable_batchedUpdates=function(p,g){return p(g)},Re.useFormState=function(p,g,y){return h.H.useFormState(p,g,y)},Re.useFormStatus=function(){return h.H.useHostTransitionStatus()},Re.version="19.2.4",Re}var Hm;function fS(){if(Hm)return Jc.exports;Hm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),Jc.exports=cS(),Jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function hS(){if(Ym)return rs;Ym=1;var s=oS(),i=bf(),l=fS();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p(t){if(f(t)!==t)throw Error(r(188))}function g(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(r(188));return e!==t?null:t}for(var a=t,n=e;;){var u=a.return;if(u===null)break;var c=u.alternate;if(c===null){if(n=u.return,n!==null){a=n;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===a)return p(u),t;if(c===n)return p(u),e;c=c.sibling}throw Error(r(188))}if(a.return!==n.return)a=u,n=c;else{for(var d=!1,v=u.child;v;){if(v===a){d=!0,a=u,n=c;break}if(v===n){d=!0,n=u,a=c;break}v=v.sibling}if(!d){for(v=c.child;v;){if(v===a){d=!0,a=c,n=u;break}if(v===n){d=!0,n=c,a=u;break}v=v.sibling}if(!d)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:e}function y(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=y(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),A=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),Et=Symbol.for("react.activity"),At=Symbol.for("react.memo_cache_sentinel"),Gt=Symbol.iterator;function lt(t){return t===null||typeof t!="object"?null:(t=Gt&&t[Gt]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Symbol.for("react.client.reference");function Bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===mt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case j:return"Profiler";case D:return"StrictMode";case Y:return"Suspense";case Z:return"SuspenseList";case Et:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case A:return t.displayName||"Context";case F:return(t._context.displayName||"Context")+".Consumer";case J:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return e=t.displayName||null,e!==null?e:Bt(t.type)||"Memo";case ht:e=t._payload,t=t._init;try{return Bt(t(e))}catch{}}return null}var St=Array.isArray,k=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Vt=[],Ot=-1;function V(t){return{current:t}}function X(t){0>Ot||(t.current=Vt[Ot],Vt[Ot]=null,Ot--)}function et(t,e){Ot++,Vt[Ot]=t.current,t.current=e}var at=V(null),pt=V(null),xt=V(null),zt=V(null);function de(t,e){switch(et(xt,e),et(pt,t),et(at,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?nm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=nm(e),t=sm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(at),et(at,t)}function Jt(){X(at),X(pt),X(xt)}function za(t){t.memoizedState!==null&&et(zt,t);var e=at.current,a=sm(e,t.type);e!==a&&(et(pt,t),et(at,a))}function ri(t){pt.current===t&&(X(at),X(pt)),zt.current===t&&(X(zt),as._currentValue=ft)}var dn,gn;function La(t){if(dn===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);dn=e&&e[1]||"",gn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dn+t+gn}var ol=!1;function cl(t,e){if(!t||ol)return"";ol=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(P){var U=P}Reflect.construct(t,[],q)}else{try{q.call()}catch(P){U=P}t.call(q.prototype)}}else{try{throw Error()}catch(P){U=P}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(P){if(P&&U&&typeof P.stack=="string")return[P.stack,U.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),d=c[0],v=c[1];if(d&&v){var M=d.split(`
`),N=v.split(`
`);for(u=n=0;n<M.length&&!M[n].includes("DetermineComponentFrameRoot");)n++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(n===M.length||u===N.length)for(n=M.length-1,u=N.length-1;1<=n&&0<=u&&M[n]!==N[u];)u--;for(;1<=n&&0<=u;n--,u--)if(M[n]!==N[u]){if(n!==1||u!==1)do if(n--,u--,0>u||M[n]!==N[u]){var H=`
`+M[n].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=n&&0<=u);break}}}finally{ol=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?La(a):""}function Du(t,e){switch(t.tag){case 26:case 27:case 5:return La(t.type);case 16:return La("Lazy");case 13:return t.child!==e&&e!==null?La("Suspense Fallback"):La("Suspense");case 19:return La("SuspenseList");case 0:case 15:return cl(t.type,!1);case 11:return cl(t.type.render,!1);case 1:return cl(t.type,!0);case 31:return La("Activity");default:return""}}function ws(t){try{var e="",a=null;do e+=Du(t,a),a=t,t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var zs=Object.prototype.hasOwnProperty,fl=s.unstable_scheduleCallback,T=s.unstable_cancelCallback,z=s.unstable_shouldYield,I=s.unstable_requestPaint,$=s.unstable_now,tt=s.unstable_getCurrentPriorityLevel,K=s.unstable_ImmediatePriority,rt=s.unstable_UserBlockingPriority,Dt=s.unstable_NormalPriority,Ft=s.unstable_LowPriority,_e=s.unstable_IdlePriority,Na=s.log,Ea=s.unstable_setDisableYieldValue,Ui=null,Se=null;function ia(t){if(typeof Na=="function"&&Ea(t),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(Ui,t)}catch{}}var De=Math.clz32?Math.clz32:Ns,Ls=Math.log,Au=Math.LN2;function Ns(t){return t>>>=0,t===0?32:31-(Ls(t)/Au|0)|0}var Fs=256,Us=262144,js=4194304;function ji(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ps(t,e,a){var n=t.pendingLanes;if(n===0)return 0;var u=0,c=t.suspendedLanes,d=t.pingedLanes;t=t.warmLanes;var v=n&134217727;return v!==0?(n=v&~c,n!==0?u=ji(n):(d&=v,d!==0?u=ji(d):a||(a=v&~t,a!==0&&(u=ji(a))))):(v=n&~c,v!==0?u=ji(v):d!==0?u=ji(d):a||(a=n&~t,a!==0&&(u=ji(a)))),u===0?0:e!==0&&e!==u&&(e&c)===0&&(c=u&-u,a=e&-e,c>=a||c===32&&(a&4194048)!==0)?e:u}function mn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Hy(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pf(){var t=js;return js<<=1,(js&62914560)===0&&(js=4194304),t}function Ou(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function pn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yy(t,e,a,n,u,c){var d=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,M=t.expirationTimes,N=t.hiddenUpdates;for(a=d&~a;0<a;){var H=31-De(a),q=1<<H;v[H]=0,M[H]=-1;var U=N[H];if(U!==null)for(N[H]=null,H=0;H<U.length;H++){var P=U[H];P!==null&&(P.lane&=-536870913)}a&=~q}n!==0&&kf(t,n,0),c!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=c&~(d&~e))}function kf(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-De(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|a&261930}function If(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var n=31-De(a),u=1<<n;u&e|t[n]&e&&(t[n]|=e),a&=~u}}function Hf(t,e){var a=e&-e;return a=(a&42)!==0?1:wu(a),(a&(t.suspendedLanes|e))!==0?0:a}function wu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yf(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Vm(t.type))}function Gf(t,e){var a=W.p;try{return W.p=t,e()}finally{W.p=a}}var ui=Math.random().toString(36).slice(2),xe="__reactFiber$"+ui,ze="__reactProps$"+ui,hl="__reactContainer$"+ui,Lu="__reactEvents$"+ui,Gy="__reactListeners$"+ui,qy="__reactHandles$"+ui,qf="__reactResources$"+ui,_n="__reactMarker$"+ui;function Nu(t){delete t[xe],delete t[ze],delete t[Lu],delete t[Gy],delete t[qy]}function dl(t){var e=t[xe];if(e)return e;for(var a=t.parentNode;a;){if(e=a[hl]||a[xe]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(t=dm(t);t!==null;){if(a=t[xe])return a;t=dm(t)}return e}t=a,a=t.parentNode}return null}function gl(t){if(t=t[xe]||t[hl]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function yn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function ml(t){var e=t[qf];return e||(e=t[qf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[_n]=!0}var Xf=new Set,Qf={};function Pi(t,e){pl(t,e),pl(t+"Capture",e)}function pl(t,e){for(Qf[t]=e,t=0;t<e.length;t++)Xf.add(e[t])}var Xy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zf={},Jf={};function Qy(t){return zs.call(Jf,t)?!0:zs.call(Zf,t)?!1:Xy.test(t)?Jf[t]=!0:(Zf[t]=!0,!1)}function ks(t,e,a){if(Qy(e))if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+a)}}function Is(t,e,a){if(a===null)t.removeAttribute(e);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+a)}}function Fa(t,e,a,n){if(n===null)t.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(e,a,""+n)}}function la(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zy(t,e,a){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,c=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return u.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){if(!t._valueTracker){var e=Kf(t)?"checked":"value";t._valueTracker=Zy(t,e,""+t[e])}}function Wf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var a=e.getValue(),n="";return t&&(n=Kf(t)?t.checked?"true":"false":t.value),t=n,t!==a?(e.setValue(t),!0):!1}function Hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jy=/[\n"\\]/g;function na(t){return t.replace(Jy,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Uu(t,e,a,n,u,c,d,v){t.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?t.type=d:t.removeAttribute("type"),e!=null?d==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+la(e)):t.value!==""+la(e)&&(t.value=""+la(e)):d!=="submit"&&d!=="reset"||t.removeAttribute("value"),e!=null?ju(t,d,la(e)):a!=null?ju(t,d,la(a)):n!=null&&t.removeAttribute("value"),u==null&&c!=null&&(t.defaultChecked=!!c),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+la(v):t.removeAttribute("name")}function $f(t,e,a,n,u,c,d,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),e!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||e!=null)){Fu(t);return}a=a!=null?""+la(a):"",e=e!=null?""+la(e):a,v||e===t.value||(t.value=e),t.defaultValue=e}n=n??u,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=v?t.checked:!!n,t.defaultChecked=!!n,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.name=d),Fu(t)}function ju(t,e,a){e==="number"&&Hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _l(t,e,a,n){if(t=t.options,e){e={};for(var u=0;u<a.length;u++)e["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=e.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&n&&(t[a].defaultSelected=!0)}else{for(a=""+la(a),e=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,n&&(t[u].defaultSelected=!0);return}e!==null||t[u].disabled||(e=t[u])}e!==null&&(e.selected=!0)}}function th(t,e,a){if(e!=null&&(e=""+la(e),e!==t.value&&(t.value=e),a==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=a!=null?""+la(a):""}function eh(t,e,a,n){if(e==null){if(n!=null){if(a!=null)throw Error(r(92));if(St(n)){if(1<n.length)throw Error(r(93));n=n[0]}a=n}a==null&&(a=""),e=a}a=la(e),t.defaultValue=a,n=t.textContent,n===a&&n!==""&&n!==null&&(t.value=n),Fu(t)}function yl(t,e){if(e){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=e;return}}t.textContent=e}var Ky=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ah(t,e,a){var n=e.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,a):typeof a!="number"||a===0||Ky.has(e)?e==="float"?t.cssFloat=a:t[e]=(""+a).trim():t[e]=a+"px"}function ih(t,e,a){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var u in e)n=e[u],e.hasOwnProperty(u)&&a[u]!==n&&ah(t,u,n)}else for(var c in e)e.hasOwnProperty(c)&&ah(t,c,e[c])}function Pu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(t){return $y.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ua(){}var ku=null;function Iu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vl=null,Sl=null;function lh(t){var e=gl(t);if(e&&(t=e.stateNode)){var a=t[ze]||null;t:switch(t=e.stateNode,e.type){case"input":if(Uu(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),e=a.name,a.type==="radio"&&e!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+na(""+e)+'"][type="radio"]'),e=0;e<a.length;e++){var n=a[e];if(n!==t&&n.form===t.form){var u=n[ze]||null;if(!u)throw Error(r(90));Uu(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(e=0;e<a.length;e++)n=a[e],n.form===t.form&&Wf(n)}break t;case"textarea":th(t,a.value,a.defaultValue);break t;case"select":e=a.value,e!=null&&_l(t,!!a.multiple,e,!1)}}}var Hu=!1;function nh(t,e,a){if(Hu)return t(e,a);Hu=!0;try{var n=t(e);return n}finally{if(Hu=!1,(vl!==null||Sl!==null)&&(Ar(),vl&&(e=vl,t=Sl,Sl=vl=null,lh(e),t)))for(e=0;e<t.length;e++)lh(t[e])}}function vn(t,e){var a=t.stateNode;if(a===null)return null;var n=a[ze]||null;if(n===null)return null;a=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,e,typeof a));return a}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=!1;if(ja)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Yu=!1}var oi=null,Gu=null,Gs=null;function sh(){if(Gs)return Gs;var t,e=Gu,a=e.length,n,u="value"in oi?oi.value:oi.textContent,c=u.length;for(t=0;t<a&&e[t]===u[t];t++);var d=a-t;for(n=1;n<=d&&e[a-n]===u[c-n];n++);return Gs=u.slice(t,1<n?1-n:void 0)}function qs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xs(){return!0}function rh(){return!1}function Le(t){function e(a,n,u,c,d){this._reactName=a,this._targetInst=u,this.type=n,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Xs:rh,this.isPropagationStopped=rh,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),e}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Le(ki),xn=S({},ki,{view:0,detail:0}),t0=Le(xn),qu,Xu,bn,Zs=S({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bn&&(bn&&t.type==="mousemove"?(qu=t.screenX-bn.screenX,Xu=t.screenY-bn.screenY):Xu=qu=0,bn=t),qu)},movementY:function(t){return"movementY"in t?t.movementY:Xu}}),uh=Le(Zs),e0=S({},Zs,{dataTransfer:0}),a0=Le(e0),i0=S({},xn,{relatedTarget:0}),Qu=Le(i0),l0=S({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),n0=Le(l0),s0=S({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r0=Le(s0),u0=S({},ki,{data:0}),oh=Le(u0),o0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=f0[t])?!!e[t]:!1}function Zu(){return h0}var d0=S({},xn,{key:function(t){if(t.key){var e=o0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),g0=Le(d0),m0=S({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=Le(m0),p0=S({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),_0=Le(p0),y0=S({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),v0=Le(y0),S0=S({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=Le(S0),b0=S({},ki,{newState:0,oldState:0}),C0=Le(b0),M0=[9,13,27,32],Ju=ja&&"CompositionEvent"in window,Cn=null;ja&&"documentMode"in document&&(Cn=document.documentMode);var T0=ja&&"TextEvent"in window&&!Cn,fh=ja&&(!Ju||Cn&&8<Cn&&11>=Cn),hh=" ",dh=!1;function gh(t,e){switch(t){case"keyup":return M0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function E0(t,e){switch(t){case"compositionend":return mh(e);case"keypress":return e.which!==32?null:(dh=!0,hh);case"textInput":return t=e.data,t===hh&&dh?null:t;default:return null}}function B0(t,e){if(xl)return t==="compositionend"||!Ju&&gh(t,e)?(t=sh(),Gs=Gu=oi=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fh&&e.locale!=="ko"?null:e.data;default:return null}}var R0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ph(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R0[t.type]:e==="textarea"}function _h(t,e,a,n){vl?Sl?Sl.push(n):Sl=[n]:vl=n,e=Ur(e,"onChange"),0<e.length&&(a=new Qs("onChange","change",null,a,n),t.push({event:a,listeners:e}))}var Mn=null,Tn=null;function V0(t){$g(t,0)}function Js(t){var e=yn(t);if(Wf(e))return t}function yh(t,e){if(t==="change")return e}var vh=!1;if(ja){var Ku;if(ja){var Wu="oninput"in document;if(!Wu){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),Wu=typeof Sh.oninput=="function"}Ku=Wu}else Ku=!1;vh=Ku&&(!document.documentMode||9<document.documentMode)}function xh(){Mn&&(Mn.detachEvent("onpropertychange",bh),Tn=Mn=null)}function bh(t){if(t.propertyName==="value"&&Js(Tn)){var e=[];_h(e,Tn,t,Iu(t)),nh(V0,e)}}function D0(t,e,a){t==="focusin"?(xh(),Mn=e,Tn=a,Mn.attachEvent("onpropertychange",bh)):t==="focusout"&&xh()}function A0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Js(Tn)}function O0(t,e){if(t==="click")return Js(e)}function w0(t,e){if(t==="input"||t==="change")return Js(e)}function z0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:z0;function En(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var u=a[n];if(!zs.call(e,u)||!Ge(t[u],e[u]))return!1}return!0}function Ch(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mh(t,e){var a=Ch(t);t=0;for(var n;a;){if(a.nodeType===3){if(n=t+a.textContent.length,t<=e&&n>=e)return{node:a,offset:e-t};t=n}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ch(a)}}function Th(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Th(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Eh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Hs(t.document);e instanceof t.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)t=e.contentWindow;else break;e=Hs(t.document)}return e}function $u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var L0=ja&&"documentMode"in document&&11>=document.documentMode,bl=null,to=null,Bn=null,eo=!1;function Bh(t,e,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eo||bl==null||bl!==Hs(n)||(n=bl,"selectionStart"in n&&$u(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bn&&En(Bn,n)||(Bn=n,n=Ur(to,"onSelect"),0<n.length&&(e=new Qs("onSelect","select",null,e,a),t.push({event:e,listeners:n}),e.target=bl)))}function Ii(t,e){var a={};return a[t.toLowerCase()]=e.toLowerCase(),a["Webkit"+t]="webkit"+e,a["Moz"+t]="moz"+e,a}var Cl={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},ao={},Rh={};ja&&(Rh=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Hi(t){if(ao[t])return ao[t];if(!Cl[t])return t;var e=Cl[t],a;for(a in e)if(e.hasOwnProperty(a)&&a in Rh)return ao[t]=e[a];return t}var Vh=Hi("animationend"),Dh=Hi("animationiteration"),Ah=Hi("animationstart"),N0=Hi("transitionrun"),F0=Hi("transitionstart"),U0=Hi("transitioncancel"),Oh=Hi("transitionend"),wh=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function _a(t,e){wh.set(t,e),Pi(e,[t])}var Ks=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},sa=[],Ml=0,lo=0;function Ws(){for(var t=Ml,e=lo=Ml=0;e<t;){var a=sa[e];sa[e++]=null;var n=sa[e];sa[e++]=null;var u=sa[e];sa[e++]=null;var c=sa[e];if(sa[e++]=null,n!==null&&u!==null){var d=n.pending;d===null?u.next=u:(u.next=d.next,d.next=u),n.pending=u}c!==0&&zh(a,u,c)}}function $s(t,e,a,n){sa[Ml++]=t,sa[Ml++]=e,sa[Ml++]=a,sa[Ml++]=n,lo|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function no(t,e,a,n){return $s(t,e,a,n),tr(t)}function Yi(t,e){return $s(t,null,null,e),tr(t)}function zh(t,e,a){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a);for(var u=!1,c=t.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(u=!0)),t=c,c=c.return;return t.tag===3?(c=t.stateNode,u&&e!==null&&(u=31-De(a),t=c.hiddenUpdates,n=t[u],n===null?t[u]=[e]:n.push(e),e.lane=a|536870912),c):null}function tr(t){if(50<Zn)throw Zn=0,mc=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Tl={};function j0(t,e,a,n){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,a,n){return new j0(t,e,a,n)}function so(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pa(t,e){var a=t.alternate;return a===null?(a=qe(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lh(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function er(t,e,a,n,u,c){var d=0;if(n=t,typeof t=="function")so(t)&&(d=1);else if(typeof t=="string")d=Yv(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Et:return t=qe(31,a,e,u),t.elementType=Et,t.lanes=c,t;case C:return Gi(a.children,u,c,e);case D:d=8,u|=24;break;case j:return t=qe(12,a,e,u|2),t.elementType=j,t.lanes=c,t;case Y:return t=qe(13,a,e,u),t.elementType=Y,t.lanes=c,t;case Z:return t=qe(19,a,e,u),t.elementType=Z,t.lanes=c,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:d=10;break t;case F:d=9;break t;case J:d=11;break t;case Q:d=14;break t;case ht:d=16,n=null;break t}d=29,a=Error(r(130,t===null?"null":typeof t,"")),n=null}return e=qe(d,a,e,u),e.elementType=t,e.type=n,e.lanes=c,e}function Gi(t,e,a,n){return t=qe(7,t,n,e),t.lanes=a,t}function ro(t,e,a){return t=qe(6,t,null,e),t.lanes=a,t}function Nh(t){var e=qe(18,null,null,0);return e.stateNode=t,e}function uo(t,e,a){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Fh=new WeakMap;function ra(t,e){if(typeof t=="object"&&t!==null){var a=Fh.get(t);return a!==void 0?a:(e={value:t,source:e,stack:ws(e)},Fh.set(t,e),e)}return{value:t,source:e,stack:ws(e)}}var El=[],Bl=0,ar=null,Rn=0,ua=[],oa=0,ci=null,Ba=1,Ra="";function ka(t,e){El[Bl++]=Rn,El[Bl++]=ar,ar=t,Rn=e}function Uh(t,e,a){ua[oa++]=Ba,ua[oa++]=Ra,ua[oa++]=ci,ci=t;var n=Ba;t=Ra;var u=32-De(n)-1;n&=~(1<<u),a+=1;var c=32-De(e)+u;if(30<c){var d=u-u%5;c=(n&(1<<d)-1).toString(32),n>>=d,u-=d,Ba=1<<32-De(e)+u|a<<u|n,Ra=c+t}else Ba=1<<c|a<<u|n,Ra=t}function oo(t){t.return!==null&&(ka(t,1),Uh(t,1,0))}function co(t){for(;t===ar;)ar=El[--Bl],El[Bl]=null,Rn=El[--Bl],El[Bl]=null;for(;t===ci;)ci=ua[--oa],ua[oa]=null,Ra=ua[--oa],ua[oa]=null,Ba=ua[--oa],ua[oa]=null}function jh(t,e){ua[oa++]=Ba,ua[oa++]=Ra,ua[oa++]=ci,Ba=e.id,Ra=e.overflow,ci=t}var be=null,Xt=null,Rt=!1,fi=null,ca=!1,fo=Error(r(519));function hi(t){var e=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vn(ra(e,t)),fo}function Ph(t){var e=t.stateNode,a=t.type,n=t.memoizedProps;switch(e[xe]=t,e[ze]=n,a){case"dialog":Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":case"embed":Ct("load",e);break;case"video":case"audio":for(a=0;a<Kn.length;a++)Ct(Kn[a],e);break;case"source":Ct("error",e);break;case"img":case"image":case"link":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"input":Ct("invalid",e),$f(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Ct("invalid",e);break;case"textarea":Ct("invalid",e),eh(e,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||e.textContent===""+a||n.suppressHydrationWarning===!0||im(e.textContent,a)?(n.popover!=null&&(Ct("beforetoggle",e),Ct("toggle",e)),n.onScroll!=null&&Ct("scroll",e),n.onScrollEnd!=null&&Ct("scrollend",e),n.onClick!=null&&(e.onclick=Ua),e=!0):e=!1,e||hi(t,!0)}function kh(t){for(be=t.return;be;)switch(be.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:be=be.return}}function Rl(t){if(t!==be)return!1;if(!Rt)return kh(t),Rt=!0,!1;var e=t.tag,a;if((a=e!==3&&e!==27)&&((a=e===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dc(t.type,t.memoizedProps)),a=!a),a&&Xt&&hi(t),kh(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Xt=hm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Xt=hm(t)}else e===27?(e=Xt,Ei(t.type)?(t=Lc,Lc=null,Xt=t):Xt=e):Xt=be?ha(t.stateNode.nextSibling):null;return!0}function qi(){Xt=be=null,Rt=!1}function ho(){var t=fi;return t!==null&&(je===null?je=t:je.push.apply(je,t),fi=null),t}function Vn(t){fi===null?fi=[t]:fi.push(t)}var go=V(null),Xi=null,Ia=null;function di(t,e,a){et(go,e._currentValue),e._currentValue=a}function Ha(t){t._currentValue=go.current,X(go)}function mo(t,e,a){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===a)break;t=t.return}}function po(t,e,a,n){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;t:for(;c!==null;){var v=c;c=u;for(var M=0;M<e.length;M++)if(v.context===e[M]){c.lanes|=a,v=c.alternate,v!==null&&(v.lanes|=a),mo(c.return,a,t),n||(d=null);break t}c=v.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=a,c=d.alternate,c!==null&&(c.lanes|=a),mo(d,a,t),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===t){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function Vl(t,e,a,n){t=null;for(var u=e,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var v=u.type;Ge(u.pendingProps.value,d.value)||(t!==null?t.push(v):t=[v])}}else if(u===zt.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(as):t=[as])}u=u.return}t!==null&&po(e,t,a,n),e.flags|=262144}function ir(t){for(t=t.firstContext;t!==null;){if(!Ge(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qi(t){Xi=t,Ia=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ce(t){return Ih(Xi,t)}function lr(t,e){return Xi===null&&Qi(t),Ih(t,e)}function Ih(t,e){var a=e._currentValue;if(e={context:e,memoizedValue:a,next:null},Ia===null){if(t===null)throw Error(r(308));Ia=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ia=Ia.next=e;return a}var P0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},k0=s.unstable_scheduleCallback,I0=s.unstable_NormalPriority,re={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _o(){return{controller:new P0,data:new Map,refCount:0}}function Dn(t){t.refCount--,t.refCount===0&&k0(I0,function(){t.controller.abort()})}var An=null,yo=0,Dl=0,Al=null;function H0(t,e){if(An===null){var a=An=[];yo=0,Dl=xc(),Al={status:"pending",value:void 0,then:function(n){a.push(n)}}}return yo++,e.then(Hh,Hh),e}function Hh(){if(--yo===0&&An!==null){Al!==null&&(Al.status="fulfilled");var t=An;An=null,Dl=0,Al=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Y0(t,e){var a=[],n={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var u=0;u<a.length;u++)(0,a[u])(e)},function(u){for(n.status="rejected",n.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),n}var Yh=k.S;k.S=function(t,e){Bg=$(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&H0(t,e),Yh!==null&&Yh(t,e)};var Zi=V(null);function vo(){var t=Zi.current;return t!==null?t:qt.pooledCache}function nr(t,e){e===null?et(Zi,Zi.current):et(Zi,e.pool)}function Gh(){var t=vo();return t===null?null:{parent:re._currentValue,pool:t}}var Ol=Error(r(460)),So=Error(r(474)),sr=Error(r(542)),rr={then:function(){}};function qh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xh(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(Ua,Ua),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Zh(t),t;default:if(typeof e.status=="string")e.then(Ua,Ua);else{if(t=qt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var u=e;u.status="fulfilled",u.value=n}},function(n){if(e.status==="pending"){var u=e;u.status="rejected",u.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Zh(t),t}throw Ki=e,Ol}}function Ji(t){try{var e=t._init;return e(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ki=a,Ol):a}}var Ki=null;function Qh(){if(Ki===null)throw Error(r(459));var t=Ki;return Ki=null,t}function Zh(t){if(t===Ol||t===sr)throw Error(r(483))}var wl=null,On=0;function ur(t){var e=On;return On+=1,wl===null&&(wl=[]),Xh(wl,t,e)}function wn(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function or(t,e){throw e.$$typeof===E?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Jh(t){function e(O,R){if(t){var L=O.deletions;L===null?(O.deletions=[R],O.flags|=16):L.push(R)}}function a(O,R){if(!t)return null;for(;R!==null;)e(O,R),R=R.sibling;return null}function n(O){for(var R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function u(O,R){return O=Pa(O,R),O.index=0,O.sibling=null,O}function c(O,R,L){return O.index=L,t?(L=O.alternate,L!==null?(L=L.index,L<R?(O.flags|=67108866,R):L):(O.flags|=67108866,R)):(O.flags|=1048576,R)}function d(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function v(O,R,L,G){return R===null||R.tag!==6?(R=ro(L,O.mode,G),R.return=O,R):(R=u(R,L),R.return=O,R)}function M(O,R,L,G){var ut=L.type;return ut===C?H(O,R,L.props.children,G,L.key):R!==null&&(R.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===ht&&Ji(ut)===R.type)?(R=u(R,L.props),wn(R,L),R.return=O,R):(R=er(L.type,L.key,L.props,null,O.mode,G),wn(R,L),R.return=O,R)}function N(O,R,L,G){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=uo(L,O.mode,G),R.return=O,R):(R=u(R,L.children||[]),R.return=O,R)}function H(O,R,L,G,ut){return R===null||R.tag!==7?(R=Gi(L,O.mode,G,ut),R.return=O,R):(R=u(R,L),R.return=O,R)}function q(O,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ro(""+R,O.mode,L),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return L=er(R.type,R.key,R.props,null,O.mode,L),wn(L,R),L.return=O,L;case B:return R=uo(R,O.mode,L),R.return=O,R;case ht:return R=Ji(R),q(O,R,L)}if(St(R)||lt(R))return R=Gi(R,O.mode,L,null),R.return=O,R;if(typeof R.then=="function")return q(O,ur(R),L);if(R.$$typeof===A)return q(O,lr(O,R),L);or(O,R)}return null}function U(O,R,L,G){var ut=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:v(O,R,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ut?M(O,R,L,G):null;case B:return L.key===ut?N(O,R,L,G):null;case ht:return L=Ji(L),U(O,R,L,G)}if(St(L)||lt(L))return ut!==null?null:H(O,R,L,G,null);if(typeof L.then=="function")return U(O,R,ur(L),G);if(L.$$typeof===A)return U(O,R,lr(O,L),G);or(O,L)}return null}function P(O,R,L,G,ut){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return O=O.get(L)||null,v(R,O,""+G,ut);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return O=O.get(G.key===null?L:G.key)||null,M(R,O,G,ut);case B:return O=O.get(G.key===null?L:G.key)||null,N(R,O,G,ut);case ht:return G=Ji(G),P(O,R,L,G,ut)}if(St(G)||lt(G))return O=O.get(L)||null,H(R,O,G,ut,null);if(typeof G.then=="function")return P(O,R,L,ur(G),ut);if(G.$$typeof===A)return P(O,R,L,lr(R,G),ut);or(R,G)}return null}function it(O,R,L,G){for(var ut=null,Lt=null,nt=R,vt=R=0,Tt=null;nt!==null&&vt<L.length;vt++){nt.index>vt?(Tt=nt,nt=null):Tt=nt.sibling;var Nt=U(O,nt,L[vt],G);if(Nt===null){nt===null&&(nt=Tt);break}t&&nt&&Nt.alternate===null&&e(O,nt),R=c(Nt,R,vt),Lt===null?ut=Nt:Lt.sibling=Nt,Lt=Nt,nt=Tt}if(vt===L.length)return a(O,nt),Rt&&ka(O,vt),ut;if(nt===null){for(;vt<L.length;vt++)nt=q(O,L[vt],G),nt!==null&&(R=c(nt,R,vt),Lt===null?ut=nt:Lt.sibling=nt,Lt=nt);return Rt&&ka(O,vt),ut}for(nt=n(nt);vt<L.length;vt++)Tt=P(nt,O,vt,L[vt],G),Tt!==null&&(t&&Tt.alternate!==null&&nt.delete(Tt.key===null?vt:Tt.key),R=c(Tt,R,vt),Lt===null?ut=Tt:Lt.sibling=Tt,Lt=Tt);return t&&nt.forEach(function(Ai){return e(O,Ai)}),Rt&&ka(O,vt),ut}function dt(O,R,L,G){if(L==null)throw Error(r(151));for(var ut=null,Lt=null,nt=R,vt=R=0,Tt=null,Nt=L.next();nt!==null&&!Nt.done;vt++,Nt=L.next()){nt.index>vt?(Tt=nt,nt=null):Tt=nt.sibling;var Ai=U(O,nt,Nt.value,G);if(Ai===null){nt===null&&(nt=Tt);break}t&&nt&&Ai.alternate===null&&e(O,nt),R=c(Ai,R,vt),Lt===null?ut=Ai:Lt.sibling=Ai,Lt=Ai,nt=Tt}if(Nt.done)return a(O,nt),Rt&&ka(O,vt),ut;if(nt===null){for(;!Nt.done;vt++,Nt=L.next())Nt=q(O,Nt.value,G),Nt!==null&&(R=c(Nt,R,vt),Lt===null?ut=Nt:Lt.sibling=Nt,Lt=Nt);return Rt&&ka(O,vt),ut}for(nt=n(nt);!Nt.done;vt++,Nt=L.next())Nt=P(nt,O,vt,Nt.value,G),Nt!==null&&(t&&Nt.alternate!==null&&nt.delete(Nt.key===null?vt:Nt.key),R=c(Nt,R,vt),Lt===null?ut=Nt:Lt.sibling=Nt,Lt=Nt);return t&&nt.forEach(function(eS){return e(O,eS)}),Rt&&ka(O,vt),ut}function Yt(O,R,L,G){if(typeof L=="object"&&L!==null&&L.type===C&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:t:{for(var ut=L.key;R!==null;){if(R.key===ut){if(ut=L.type,ut===C){if(R.tag===7){a(O,R.sibling),G=u(R,L.props.children),G.return=O,O=G;break t}}else if(R.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===ht&&Ji(ut)===R.type){a(O,R.sibling),G=u(R,L.props),wn(G,L),G.return=O,O=G;break t}a(O,R);break}else e(O,R);R=R.sibling}L.type===C?(G=Gi(L.props.children,O.mode,G,L.key),G.return=O,O=G):(G=er(L.type,L.key,L.props,null,O.mode,G),wn(G,L),G.return=O,O=G)}return d(O);case B:t:{for(ut=L.key;R!==null;){if(R.key===ut)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){a(O,R.sibling),G=u(R,L.children||[]),G.return=O,O=G;break t}else{a(O,R);break}else e(O,R);R=R.sibling}G=uo(L,O.mode,G),G.return=O,O=G}return d(O);case ht:return L=Ji(L),Yt(O,R,L,G)}if(St(L))return it(O,R,L,G);if(lt(L)){if(ut=lt(L),typeof ut!="function")throw Error(r(150));return L=ut.call(L),dt(O,R,L,G)}if(typeof L.then=="function")return Yt(O,R,ur(L),G);if(L.$$typeof===A)return Yt(O,R,lr(O,L),G);or(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(a(O,R.sibling),G=u(R,L),G.return=O,O=G):(a(O,R),G=ro(L,O.mode,G),G.return=O,O=G),d(O)):a(O,R)}return function(O,R,L,G){try{On=0;var ut=Yt(O,R,L,G);return wl=null,ut}catch(nt){if(nt===Ol||nt===sr)throw nt;var Lt=qe(29,nt,null,O.mode);return Lt.lanes=G,Lt.return=O,Lt}finally{}}}var Wi=Jh(!0),Kh=Jh(!1),gi=!1;function xo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pi(t,e,a){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Ut&2)!==0){var u=n.pending;return u===null?e.next=e:(e.next=u.next,u.next=e),n.pending=e,e=tr(t),zh(t,null,a),e}return $s(t,n,e,a),tr(t)}function zn(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,If(t,a)}}function Co(t,e){var a=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var u=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,a=a.next}while(a!==null);c===null?u=c=e:c=c.next=e}else u=c=e;a={baseState:n.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}var Mo=!1;function Ln(){if(Mo){var t=Al;if(t!==null)throw t}}function Nn(t,e,a,n){Mo=!1;var u=t.updateQueue;gi=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var M=v,N=M.next;M.next=null,d===null?c=N:d.next=N,d=M;var H=t.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==d&&(v===null?H.firstBaseUpdate=N:v.next=N,H.lastBaseUpdate=M))}if(c!==null){var q=u.baseState;d=0,H=N=M=null,v=c;do{var U=v.lane&-536870913,P=U!==v.lane;if(P?(Mt&U)===U:(n&U)===U){U!==0&&U===Dl&&(Mo=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var it=t,dt=v;U=e;var Yt=a;switch(dt.tag){case 1:if(it=dt.payload,typeof it=="function"){q=it.call(Yt,q,U);break t}q=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=dt.payload,U=typeof it=="function"?it.call(Yt,q,U):it,U==null)break t;q=S({},q,U);break t;case 2:gi=!0}}U=v.callback,U!==null&&(t.flags|=64,P&&(t.flags|=8192),P=u.callbacks,P===null?u.callbacks=[U]:P.push(U))}else P={lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(N=H=P,M=q):H=H.next=P,d|=U;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;P=v,v=P.next,P.next=null,u.lastBaseUpdate=P,u.shared.pending=null}}while(!0);H===null&&(M=q),u.baseState=M,u.firstBaseUpdate=N,u.lastBaseUpdate=H,c===null&&(u.shared.lanes=0),xi|=d,t.lanes=d,t.memoizedState=q}}function Wh(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function $h(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wh(a[t],e)}var zl=V(null),cr=V(0);function td(t,e){t=Wa,et(cr,t),et(zl,e),Wa=t|e.baseLanes}function To(){et(cr,Wa),et(zl,zl.current)}function Eo(){Wa=cr.current,X(zl),X(cr)}var Xe=V(null),fa=null;function _i(t){var e=t.alternate;et(le,le.current&1),et(Xe,t),fa===null&&(e===null||zl.current!==null||e.memoizedState!==null)&&(fa=t)}function Bo(t){et(le,le.current),et(Xe,t),fa===null&&(fa=t)}function ed(t){t.tag===22?(et(le,le.current),et(Xe,t),fa===null&&(fa=t)):yi()}function yi(){et(le,le.current),et(Xe,Xe.current)}function Qe(t){X(Xe),fa===t&&(fa=null),X(le)}var le=V(0);function fr(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wc(a)||zc(a)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ya=0,yt=null,It=null,ue=null,hr=!1,Ll=!1,$i=!1,dr=0,Fn=0,Nl=null,G0=0;function ee(){throw Error(r(321))}function Ro(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!Ge(t[a],e[a]))return!1;return!0}function Vo(t,e,a,n,u,c){return Ya=c,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k.H=t===null||t.memoizedState===null?Ud:Yo,$i=!1,c=a(n,u),$i=!1,Ll&&(c=id(e,a,n,u)),ad(t),c}function ad(t){k.H=Pn;var e=It!==null&&It.next!==null;if(Ya=0,ue=It=yt=null,hr=!1,Fn=0,Nl=null,e)throw Error(r(300));t===null||oe||(t=t.dependencies,t!==null&&ir(t)&&(oe=!0))}function id(t,e,a,n){yt=t;var u=0;do{if(Ll&&(Nl=null),Fn=0,Ll=!1,25<=u)throw Error(r(301));if(u+=1,ue=It=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}k.H=jd,c=e(a,n)}while(Ll);return c}function q0(){var t=k.H,e=t.useState()[0];return e=typeof e.then=="function"?Un(e):e,t=t.useState()[0],(It!==null?It.memoizedState:null)!==t&&(yt.flags|=1024),e}function Do(){var t=dr!==0;return dr=0,t}function Ao(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function Oo(t){if(hr){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}hr=!1}Ya=0,ue=It=yt=null,Ll=!1,Fn=dr=0,Nl=null}function Ae(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?yt.memoizedState=ue=t:ue=ue.next=t,ue}function ne(){if(It===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=ue===null?yt.memoizedState:ue.next;if(e!==null)ue=e,It=t;else{if(t===null)throw yt.alternate===null?Error(r(467)):Error(r(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},ue===null?yt.memoizedState=ue=t:ue=ue.next=t}return ue}function gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Un(t){var e=Fn;return Fn+=1,Nl===null&&(Nl=[]),t=Xh(Nl,t,e),e=yt,(ue===null?e.memoizedState:ue.next)===null&&(e=e.alternate,k.H=e===null||e.memoizedState===null?Ud:Yo),t}function mr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Un(t);if(t.$$typeof===A)return Ce(t)}throw Error(r(438,String(t)))}function wo(t){var e=null,a=yt.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var n=yt.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(u){return u.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=gr(),yt.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),n=0;n<t;n++)a[n]=At;return e.index++,a}function Ga(t,e){return typeof e=="function"?e(t):e}function pr(t){var e=ne();return zo(e,It,t)}function zo(t,e,a){var n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=a;var u=t.baseQueue,c=n.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}e.baseQueue=u=c,n.pending=null}if(c=t.baseState,u===null)t.memoizedState=c;else{e=u.next;var v=d=null,M=null,N=e,H=!1;do{var q=N.lane&-536870913;if(q!==N.lane?(Mt&q)===q:(Ya&q)===q){var U=N.revertLane;if(U===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),q===Dl&&(H=!0);else if((Ya&U)===U){N=N.next,U===Dl&&(H=!0);continue}else q={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},M===null?(v=M=q,d=c):M=M.next=q,yt.lanes|=U,xi|=U;q=N.action,$i&&a(c,q),c=N.hasEagerState?N.eagerState:a(c,q)}else U={lane:q,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},M===null?(v=M=U,d=c):M=M.next=U,yt.lanes|=q,xi|=q;N=N.next}while(N!==null&&N!==e);if(M===null?d=c:M.next=v,!Ge(c,t.memoizedState)&&(oe=!0,H&&(a=Al,a!==null)))throw a;t.memoizedState=c,t.baseState=d,t.baseQueue=M,n.lastRenderedState=c}return u===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Lo(t){var e=ne(),a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var n=a.dispatch,u=a.pending,c=e.memoizedState;if(u!==null){a.pending=null;var d=u=u.next;do c=t(c,d.action),d=d.next;while(d!==u);Ge(c,e.memoizedState)||(oe=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),a.lastRenderedState=c}return[c,n]}function ld(t,e,a){var n=yt,u=ne(),c=Rt;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=e();var d=!Ge((It||u).memoizedState,a);if(d&&(u.memoizedState=a,oe=!0),u=u.queue,Uo(rd.bind(null,n,u,t),[t]),u.getSnapshot!==e||d||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Fl(9,{destroy:void 0},sd.bind(null,n,u,a,e),null),qt===null)throw Error(r(349));c||(Ya&127)!==0||nd(n,e,a)}return a}function nd(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=yt.updateQueue,e===null?(e=gr(),yt.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function sd(t,e,a,n){e.value=a,e.getSnapshot=n,ud(e)&&od(t)}function rd(t,e,a){return a(function(){ud(e)&&od(t)})}function ud(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!Ge(t,a)}catch{return!0}}function od(t){var e=Yi(t,2);e!==null&&Pe(e,t,2)}function No(t){var e=Ae();if(typeof t=="function"){var a=t;if(t=a(),$i){ia(!0);try{a()}finally{ia(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:t},e}function cd(t,e,a,n){return t.baseState=a,zo(t,It,typeof n=="function"?n:Ga)}function X0(t,e,a,n,u){if(vr(t))throw Error(r(485));if(t=e.action,t!==null){var c={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};k.T!==null?a(!0):c.isTransition=!1,n(c),a=e.pending,a===null?(c.next=e.pending=c,fd(e,c)):(c.next=a.next,e.pending=a.next=c)}}function fd(t,e){var a=e.action,n=e.payload,u=t.state;if(e.isTransition){var c=k.T,d={};k.T=d;try{var v=a(u,n),M=k.S;M!==null&&M(d,v),hd(t,e,v)}catch(N){Fo(t,e,N)}finally{c!==null&&d.types!==null&&(c.types=d.types),k.T=c}}else try{c=a(u,n),hd(t,e,c)}catch(N){Fo(t,e,N)}}function hd(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){dd(t,e,n)},function(n){return Fo(t,e,n)}):dd(t,e,a)}function dd(t,e,a){e.status="fulfilled",e.value=a,gd(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,fd(t,a)))}function Fo(t,e,a){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=a,gd(e),e=e.next;while(e!==n)}t.action=null}function gd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function md(t,e){return e}function pd(t,e){if(Rt){var a=qt.formState;if(a!==null){t:{var n=yt;if(Rt){if(Xt){e:{for(var u=Xt,c=ca;u.nodeType!==8;){if(!c){u=null;break e}if(u=ha(u.nextSibling),u===null){u=null;break e}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Xt=ha(u.nextSibling),n=u.data==="F!";break t}}hi(n)}n=!1}n&&(e=a[0])}}return a=Ae(),a.memoizedState=a.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:e},a.queue=n,a=Ld.bind(null,yt,n),n.dispatch=a,n=No(!1),c=Ho.bind(null,yt,!1,n.queue),n=Ae(),u={state:e,dispatch:null,action:t,pending:null},n.queue=u,a=X0.bind(null,yt,u,c,a),u.dispatch=a,n.memoizedState=t,[e,a,!1]}function _d(t){var e=ne();return yd(e,It,t)}function yd(t,e,a){if(e=zo(t,e,md)[0],t=pr(Ga)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Un(e)}catch(d){throw d===Ol?sr:d}else n=e;e=ne();var u=e.queue,c=u.dispatch;return a!==e.memoizedState&&(yt.flags|=2048,Fl(9,{destroy:void 0},Q0.bind(null,u,a),null)),[n,c,t]}function Q0(t,e){t.action=e}function vd(t){var e=ne(),a=It;if(a!==null)return yd(e,a,t);ne(),e=e.memoizedState,a=ne();var n=a.queue.dispatch;return a.memoizedState=t,[e,n,!1]}function Fl(t,e,a,n){return t={tag:t,create:a,deps:n,inst:e,next:null},e=yt.updateQueue,e===null&&(e=gr(),yt.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(n=a.next,a.next=t,t.next=n,e.lastEffect=t),t}function Sd(){return ne().memoizedState}function _r(t,e,a,n){var u=Ae();yt.flags|=t,u.memoizedState=Fl(1|e,{destroy:void 0},a,n===void 0?null:n)}function yr(t,e,a,n){var u=ne();n=n===void 0?null:n;var c=u.memoizedState.inst;It!==null&&n!==null&&Ro(n,It.memoizedState.deps)?u.memoizedState=Fl(e,c,a,n):(yt.flags|=t,u.memoizedState=Fl(1|e,c,a,n))}function xd(t,e){_r(8390656,8,t,e)}function Uo(t,e){yr(2048,8,t,e)}function Z0(t){yt.flags|=4;var e=yt.updateQueue;if(e===null)e=gr(),yt.updateQueue=e,e.events=[t];else{var a=e.events;a===null?e.events=[t]:a.push(t)}}function bd(t){var e=ne().memoizedState;return Z0({ref:e,nextImpl:t}),function(){if((Ut&2)!==0)throw Error(r(440));return e.impl.apply(void 0,arguments)}}function Cd(t,e){return yr(4,2,t,e)}function Md(t,e){return yr(4,4,t,e)}function Td(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ed(t,e,a){a=a!=null?a.concat([t]):null,yr(4,4,Td.bind(null,e,t),a)}function jo(){}function Bd(t,e){var a=ne();e=e===void 0?null:e;var n=a.memoizedState;return e!==null&&Ro(e,n[1])?n[0]:(a.memoizedState=[t,e],t)}function Rd(t,e){var a=ne();e=e===void 0?null:e;var n=a.memoizedState;if(e!==null&&Ro(e,n[1]))return n[0];if(n=t(),$i){ia(!0);try{t()}finally{ia(!1)}}return a.memoizedState=[n,e],n}function Po(t,e,a){return a===void 0||(Ya&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=e:(t.memoizedState=a,t=Vg(),yt.lanes|=t,xi|=t,a)}function Vd(t,e,a,n){return Ge(a,e)?a:zl.current!==null?(t=Po(t,a,n),Ge(t,e)||(oe=!0),t):(Ya&42)===0||(Ya&1073741824)!==0&&(Mt&261930)===0?(oe=!0,t.memoizedState=a):(t=Vg(),yt.lanes|=t,xi|=t,e)}function Dd(t,e,a,n,u){var c=W.p;W.p=c!==0&&8>c?c:8;var d=k.T,v={};k.T=v,Ho(t,!1,e,a);try{var M=u(),N=k.S;if(N!==null&&N(v,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var H=Y0(M,n);jn(t,e,H,Ke(t))}else jn(t,e,n,Ke(t))}catch(q){jn(t,e,{then:function(){},status:"rejected",reason:q},Ke())}finally{W.p=c,d!==null&&v.types!==null&&(d.types=v.types),k.T=d}}function J0(){}function ko(t,e,a,n){if(t.tag!==5)throw Error(r(476));var u=Ad(t).queue;Dd(t,u,e,ft,a===null?J0:function(){return Od(t),a(n)})}function Ad(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:ft},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Od(t){var e=Ad(t);e.next===null&&(e=t.alternate.memoizedState),jn(t,e.next.queue,{},Ke())}function Io(){return Ce(as)}function wd(){return ne().memoizedState}function zd(){return ne().memoizedState}function K0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=Ke();t=mi(a);var n=pi(e,t,a);n!==null&&(Pe(n,e,a),zn(n,e,a)),e={cache:_o()},t.payload=e;return}e=e.return}}function W0(t,e,a){var n=Ke();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vr(t)?Nd(e,a):(a=no(t,e,a,n),a!==null&&(Pe(a,t,n),Fd(a,e,n)))}function Ld(t,e,a){var n=Ke();jn(t,e,a,n)}function jn(t,e,a,n){var u={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vr(t))Nd(e,u);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var d=e.lastRenderedState,v=c(d,a);if(u.hasEagerState=!0,u.eagerState=v,Ge(v,d))return $s(t,e,u,0),qt===null&&Ws(),!1}catch{}finally{}if(a=no(t,e,u,n),a!==null)return Pe(a,t,n),Fd(a,e,n),!0}return!1}function Ho(t,e,a,n){if(n={lane:2,revertLane:xc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vr(t)){if(e)throw Error(r(479))}else e=no(t,a,n,2),e!==null&&Pe(e,t,2)}function vr(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function Nd(t,e){Ll=hr=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function Fd(t,e,a){if((a&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,If(t,a)}}var Pn={readContext:Ce,use:mr,useCallback:ee,useContext:ee,useEffect:ee,useImperativeHandle:ee,useLayoutEffect:ee,useInsertionEffect:ee,useMemo:ee,useReducer:ee,useRef:ee,useState:ee,useDebugValue:ee,useDeferredValue:ee,useTransition:ee,useSyncExternalStore:ee,useId:ee,useHostTransitionStatus:ee,useFormState:ee,useActionState:ee,useOptimistic:ee,useMemoCache:ee,useCacheRefresh:ee};Pn.useEffectEvent=ee;var Ud={readContext:Ce,use:mr,useCallback:function(t,e){return Ae().memoizedState=[t,e===void 0?null:e],t},useContext:Ce,useEffect:xd,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,_r(4194308,4,Td.bind(null,e,t),a)},useLayoutEffect:function(t,e){return _r(4194308,4,t,e)},useInsertionEffect:function(t,e){_r(4,2,t,e)},useMemo:function(t,e){var a=Ae();e=e===void 0?null:e;var n=t();if($i){ia(!0);try{t()}finally{ia(!1)}}return a.memoizedState=[n,e],n},useReducer:function(t,e,a){var n=Ae();if(a!==void 0){var u=a(e);if($i){ia(!0);try{a(e)}finally{ia(!1)}}}else u=e;return n.memoizedState=n.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},n.queue=t,t=t.dispatch=W0.bind(null,yt,t),[n.memoizedState,t]},useRef:function(t){var e=Ae();return t={current:t},e.memoizedState=t},useState:function(t){t=No(t);var e=t.queue,a=Ld.bind(null,yt,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:jo,useDeferredValue:function(t,e){var a=Ae();return Po(a,t,e)},useTransition:function(){var t=No(!1);return t=Dd.bind(null,yt,t.queue,!0,!1),Ae().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var n=yt,u=Ae();if(Rt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=e(),qt===null)throw Error(r(349));(Mt&127)!==0||nd(n,e,a)}u.memoizedState=a;var c={value:a,getSnapshot:e};return u.queue=c,xd(rd.bind(null,n,c,t),[t]),n.flags|=2048,Fl(9,{destroy:void 0},sd.bind(null,n,c,a,e),null),a},useId:function(){var t=Ae(),e=qt.identifierPrefix;if(Rt){var a=Ra,n=Ba;a=(n&~(1<<32-De(n)-1)).toString(32)+a,e="_"+e+"R_"+a,a=dr++,0<a&&(e+="H"+a.toString(32)),e+="_"}else a=G0++,e="_"+e+"r_"+a.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Io,useFormState:pd,useActionState:pd,useOptimistic:function(t){var e=Ae();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=Ho.bind(null,yt,!0,a),a.dispatch=e,[t,e]},useMemoCache:wo,useCacheRefresh:function(){return Ae().memoizedState=K0.bind(null,yt)},useEffectEvent:function(t){var e=Ae(),a={impl:t};return e.memoizedState=a,function(){if((Ut&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yo={readContext:Ce,use:mr,useCallback:Bd,useContext:Ce,useEffect:Uo,useImperativeHandle:Ed,useInsertionEffect:Cd,useLayoutEffect:Md,useMemo:Rd,useReducer:pr,useRef:Sd,useState:function(){return pr(Ga)},useDebugValue:jo,useDeferredValue:function(t,e){var a=ne();return Vd(a,It.memoizedState,t,e)},useTransition:function(){var t=pr(Ga)[0],e=ne().memoizedState;return[typeof t=="boolean"?t:Un(t),e]},useSyncExternalStore:ld,useId:wd,useHostTransitionStatus:Io,useFormState:_d,useActionState:_d,useOptimistic:function(t,e){var a=ne();return cd(a,It,t,e)},useMemoCache:wo,useCacheRefresh:zd};Yo.useEffectEvent=bd;var jd={readContext:Ce,use:mr,useCallback:Bd,useContext:Ce,useEffect:Uo,useImperativeHandle:Ed,useInsertionEffect:Cd,useLayoutEffect:Md,useMemo:Rd,useReducer:Lo,useRef:Sd,useState:function(){return Lo(Ga)},useDebugValue:jo,useDeferredValue:function(t,e){var a=ne();return It===null?Po(a,t,e):Vd(a,It.memoizedState,t,e)},useTransition:function(){var t=Lo(Ga)[0],e=ne().memoizedState;return[typeof t=="boolean"?t:Un(t),e]},useSyncExternalStore:ld,useId:wd,useHostTransitionStatus:Io,useFormState:vd,useActionState:vd,useOptimistic:function(t,e){var a=ne();return It!==null?cd(a,It,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wo,useCacheRefresh:zd};jd.useEffectEvent=bd;function Go(t,e,a,n){e=t.memoizedState,a=a(n,e),a=a==null?e:S({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qo={enqueueSetState:function(t,e,a){t=t._reactInternals;var n=Ke(),u=mi(n);u.payload=e,a!=null&&(u.callback=a),e=pi(t,u,n),e!==null&&(Pe(e,t,n),zn(e,t,n))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var n=Ke(),u=mi(n);u.tag=1,u.payload=e,a!=null&&(u.callback=a),e=pi(t,u,n),e!==null&&(Pe(e,t,n),zn(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=Ke(),n=mi(a);n.tag=2,e!=null&&(n.callback=e),e=pi(t,n,a),e!==null&&(Pe(e,t,a),zn(e,t,a))}};function Pd(t,e,a,n,u,c,d){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,c,d):e.prototype&&e.prototype.isPureReactComponent?!En(a,n)||!En(u,c):!0}function kd(t,e,a,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,n),e.state!==t&&qo.enqueueReplaceState(e,e.state,null)}function tl(t,e){var a=e;if("ref"in e){a={};for(var n in e)n!=="ref"&&(a[n]=e[n])}if(t=t.defaultProps){a===e&&(a=S({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}function Id(t){Ks(t)}function Hd(t){console.error(t)}function Yd(t){Ks(t)}function Sr(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function Gd(t,e,a){try{var n=t.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Xo(t,e,a){return a=mi(a),a.tag=3,a.payload={element:null},a.callback=function(){Sr(t,e)},a}function qd(t){return t=mi(t),t.tag=3,t}function Xd(t,e,a,n){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var c=n.value;t.payload=function(){return u(c)},t.callback=function(){Gd(e,a,n)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(t.callback=function(){Gd(e,a,n),typeof u!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var v=n.stack;this.componentDidCatch(n.value,{componentStack:v!==null?v:""})})}function $0(t,e,a,n,u){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=a.alternate,e!==null&&Vl(e,a,u,!0),a=Xe.current,a!==null){switch(a.tag){case 31:case 13:return fa===null?Or():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=u,n===rr?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([n]):e.add(n),yc(t,n,u)),!1;case 22:return a.flags|=65536,n===rr?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([n]):a.add(n)),yc(t,n,u)),!1}throw Error(r(435,a.tag))}return yc(t,n,u),Or(),!1}if(Rt)return e=Xe.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=u,n!==fo&&(t=Error(r(422),{cause:n}),Vn(ra(t,a)))):(n!==fo&&(e=Error(r(423),{cause:n}),Vn(ra(e,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,n=ra(n,a),u=Xo(t.stateNode,n,u),Co(t,u),ae!==4&&(ae=2)),!1;var c=Error(r(520),{cause:n});if(c=ra(c,a),Qn===null?Qn=[c]:Qn.push(c),ae!==4&&(ae=2),e===null)return!0;n=ra(n,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Xo(a.stateNode,n,t),Co(a,t),!1;case 1:if(e=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(bi===null||!bi.has(c))))return a.flags|=65536,u&=-u,a.lanes|=u,u=qd(u),Xd(u,t,a,n),Co(a,u),!1}a=a.return}while(a!==null);return!1}var Qo=Error(r(461)),oe=!1;function Me(t,e,a,n){e.child=t===null?Kh(e,null,a,n):Wi(e,t.child,a,n)}function Qd(t,e,a,n,u){a=a.render;var c=e.ref;if("ref"in n){var d={};for(var v in n)v!=="ref"&&(d[v]=n[v])}else d=n;return Qi(e),n=Vo(t,e,a,d,c,u),v=Do(),t!==null&&!oe?(Ao(t,e,u),qa(t,e,u)):(Rt&&v&&oo(e),e.flags|=1,Me(t,e,n,u),e.child)}function Zd(t,e,a,n,u){if(t===null){var c=a.type;return typeof c=="function"&&!so(c)&&c.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=c,Jd(t,e,c,n,u)):(t=er(a.type,null,n,e,e.mode,u),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,!ac(t,u)){var d=c.memoizedProps;if(a=a.compare,a=a!==null?a:En,a(d,n)&&t.ref===e.ref)return qa(t,e,u)}return e.flags|=1,t=Pa(c,n),t.ref=e.ref,t.return=e,e.child=t}function Jd(t,e,a,n,u){if(t!==null){var c=t.memoizedProps;if(En(c,n)&&t.ref===e.ref)if(oe=!1,e.pendingProps=n=c,ac(t,u))(t.flags&131072)!==0&&(oe=!0);else return e.lanes=t.lanes,qa(t,e,u)}return Zo(t,e,a,n,u)}function Kd(t,e,a,n){var u=n.children,c=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((e.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,t!==null){for(n=e.child=t.child,u=0;n!==null;)u=u|n.lanes|n.childLanes,n=n.sibling;n=u&~c}else n=0,e.child=null;return Wd(t,e,c,a,n)}if((a&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&nr(e,c!==null?c.cachePool:null),c!==null?td(e,c):To(),ed(e);else return n=e.lanes=536870912,Wd(t,e,c!==null?c.baseLanes|a:a,a,n)}else c!==null?(nr(e,c.cachePool),td(e,c),yi(),e.memoizedState=null):(t!==null&&nr(e,null),To(),yi());return Me(t,e,u,a),e.child}function kn(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Wd(t,e,a,n,u){var c=vo();return c=c===null?null:{parent:re._currentValue,pool:c},e.memoizedState={baseLanes:a,cachePool:c},t!==null&&nr(e,null),To(),ed(e),t!==null&&Vl(t,e,n,!0),e.childLanes=u,null}function xr(t,e){return e=Cr({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function $d(t,e,a){return Wi(e,t.child,null,a),t=xr(e,e.pendingProps),t.flags|=2,Qe(e),e.memoizedState=null,t}function tv(t,e,a){var n=e.pendingProps,u=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Rt){if(n.mode==="hidden")return t=xr(e,n),e.lanes=536870912,kn(null,t);if(Bo(e),(t=Xt)?(t=fm(t,ca),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ci!==null?{id:Ba,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},a=Nh(t),a.return=e,e.child=a,be=e,Xt=null)):t=null,t===null)throw hi(e);return e.lanes=536870912,null}return xr(e,n)}var c=t.memoizedState;if(c!==null){var d=c.dehydrated;if(Bo(e),u)if(e.flags&256)e.flags&=-257,e=$d(t,e,a);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(r(558));else if(oe||Vl(t,e,a,!1),u=(a&t.childLanes)!==0,oe||u){if(n=qt,n!==null&&(d=Hf(n,a),d!==0&&d!==c.retryLane))throw c.retryLane=d,Yi(t,d),Pe(n,t,d),Qo;Or(),e=$d(t,e,a)}else t=c.treeContext,Xt=ha(d.nextSibling),be=e,Rt=!0,fi=null,ca=!1,t!==null&&jh(e,t),e=xr(e,n),e.flags|=4096;return e}return t=Pa(t.child,{mode:n.mode,children:n.children}),t.ref=e.ref,e.child=t,t.return=e,t}function br(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function Zo(t,e,a,n,u){return Qi(e),a=Vo(t,e,a,n,void 0,u),n=Do(),t!==null&&!oe?(Ao(t,e,u),qa(t,e,u)):(Rt&&n&&oo(e),e.flags|=1,Me(t,e,a,u),e.child)}function tg(t,e,a,n,u,c){return Qi(e),e.updateQueue=null,a=id(e,n,a,u),ad(t),n=Do(),t!==null&&!oe?(Ao(t,e,c),qa(t,e,c)):(Rt&&n&&oo(e),e.flags|=1,Me(t,e,a,c),e.child)}function eg(t,e,a,n,u){if(Qi(e),e.stateNode===null){var c=Tl,d=a.contextType;typeof d=="object"&&d!==null&&(c=Ce(d)),c=new a(n,c),e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=qo,e.stateNode=c,c._reactInternals=e,c=e.stateNode,c.props=n,c.state=e.memoizedState,c.refs={},xo(e),d=a.contextType,c.context=typeof d=="object"&&d!==null?Ce(d):Tl,c.state=e.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(Go(e,a,d,n),c.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&qo.enqueueReplaceState(c,c.state,null),Nn(e,n,c,u),Ln(),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){c=e.stateNode;var v=e.memoizedProps,M=tl(a,v);c.props=M;var N=c.context,H=a.contextType;d=Tl,typeof H=="object"&&H!==null&&(d=Ce(H));var q=a.getDerivedStateFromProps;H=typeof q=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=e.pendingProps!==v,H||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||N!==d)&&kd(e,c,n,d),gi=!1;var U=e.memoizedState;c.state=U,Nn(e,n,c,u),Ln(),N=e.memoizedState,v||U!==N||gi?(typeof q=="function"&&(Go(e,a,q,n),N=e.memoizedState),(M=gi||Pd(e,a,M,n,U,N,d))?(H||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=N),c.props=n,c.state=N,c.context=d,n=M):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{c=e.stateNode,bo(t,e),d=e.memoizedProps,H=tl(a,d),c.props=H,q=e.pendingProps,U=c.context,N=a.contextType,M=Tl,typeof N=="object"&&N!==null&&(M=Ce(N)),v=a.getDerivedStateFromProps,(N=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==q||U!==M)&&kd(e,c,n,M),gi=!1,U=e.memoizedState,c.state=U,Nn(e,n,c,u),Ln();var P=e.memoizedState;d!==q||U!==P||gi||t!==null&&t.dependencies!==null&&ir(t.dependencies)?(typeof v=="function"&&(Go(e,a,v,n),P=e.memoizedState),(H=gi||Pd(e,a,H,n,U,P,M)||t!==null&&t.dependencies!==null&&ir(t.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,P,M),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,P,M)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&U===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&U===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=P),c.props=n,c.state=P,c.context=M,n=H):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&U===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&U===t.memoizedState||(e.flags|=1024),n=!1)}return c=n,br(t,e),n=(e.flags&128)!==0,c||n?(c=e.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),e.flags|=1,t!==null&&n?(e.child=Wi(e,t.child,null,u),e.child=Wi(e,null,a,u)):Me(t,e,a,u),e.memoizedState=c.state,t=e.child):t=qa(t,e,u),t}function ag(t,e,a,n){return qi(),e.flags|=256,Me(t,e,a,n),e.child}var Jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ko(t){return{baseLanes:t,cachePool:Gh()}}function Wo(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=Je),t}function ig(t,e,a){var n=e.pendingProps,u=!1,c=(e.flags&128)!==0,d;if((d=c)||(d=t!==null&&t.memoizedState===null?!1:(le.current&2)!==0),d&&(u=!0,e.flags&=-129),d=(e.flags&32)!==0,e.flags&=-33,t===null){if(Rt){if(u?_i(e):yi(),(t=Xt)?(t=fm(t,ca),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ci!==null?{id:Ba,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},a=Nh(t),a.return=e,e.child=a,be=e,Xt=null)):t=null,t===null)throw hi(e);return zc(t)?e.lanes=32:e.lanes=536870912,null}var v=n.children;return n=n.fallback,u?(yi(),u=e.mode,v=Cr({mode:"hidden",children:v},u),n=Gi(n,u,a,null),v.return=e,n.return=e,v.sibling=n,e.child=v,n=e.child,n.memoizedState=Ko(a),n.childLanes=Wo(t,d,a),e.memoizedState=Jo,kn(null,n)):(_i(e),$o(e,v))}var M=t.memoizedState;if(M!==null&&(v=M.dehydrated,v!==null)){if(c)e.flags&256?(_i(e),e.flags&=-257,e=tc(t,e,a)):e.memoizedState!==null?(yi(),e.child=t.child,e.flags|=128,e=null):(yi(),v=n.fallback,u=e.mode,n=Cr({mode:"visible",children:n.children},u),v=Gi(v,u,a,null),v.flags|=2,n.return=e,v.return=e,n.sibling=v,e.child=n,Wi(e,t.child,null,a),n=e.child,n.memoizedState=Ko(a),n.childLanes=Wo(t,d,a),e.memoizedState=Jo,e=kn(null,n));else if(_i(e),zc(v)){if(d=v.nextSibling&&v.nextSibling.dataset,d)var N=d.dgst;d=N,n=Error(r(419)),n.stack="",n.digest=d,Vn({value:n,source:null,stack:null}),e=tc(t,e,a)}else if(oe||Vl(t,e,a,!1),d=(a&t.childLanes)!==0,oe||d){if(d=qt,d!==null&&(n=Hf(d,a),n!==0&&n!==M.retryLane))throw M.retryLane=n,Yi(t,n),Pe(d,t,n),Qo;wc(v)||Or(),e=tc(t,e,a)}else wc(v)?(e.flags|=192,e.child=t.child,e=null):(t=M.treeContext,Xt=ha(v.nextSibling),be=e,Rt=!0,fi=null,ca=!1,t!==null&&jh(e,t),e=$o(e,n.children),e.flags|=4096);return e}return u?(yi(),v=n.fallback,u=e.mode,M=t.child,N=M.sibling,n=Pa(M,{mode:"hidden",children:n.children}),n.subtreeFlags=M.subtreeFlags&65011712,N!==null?v=Pa(N,v):(v=Gi(v,u,a,null),v.flags|=2),v.return=e,n.return=e,n.sibling=v,e.child=n,kn(null,n),n=e.child,v=t.child.memoizedState,v===null?v=Ko(a):(u=v.cachePool,u!==null?(M=re._currentValue,u=u.parent!==M?{parent:M,pool:M}:u):u=Gh(),v={baseLanes:v.baseLanes|a,cachePool:u}),n.memoizedState=v,n.childLanes=Wo(t,d,a),e.memoizedState=Jo,kn(t.child,n)):(_i(e),a=t.child,t=a.sibling,a=Pa(a,{mode:"visible",children:n.children}),a.return=e,a.sibling=null,t!==null&&(d=e.deletions,d===null?(e.deletions=[t],e.flags|=16):d.push(t)),e.child=a,e.memoizedState=null,a)}function $o(t,e){return e=Cr({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Cr(t,e){return t=qe(22,t,null,e),t.lanes=0,t}function tc(t,e,a){return Wi(e,t.child,null,a),t=$o(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lg(t,e,a){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),mo(t.return,e,a)}function ec(t,e,a,n,u,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:u,treeForkCount:c}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=a,d.tailMode=u,d.treeForkCount=c)}function ng(t,e,a){var n=e.pendingProps,u=n.revealOrder,c=n.tail;n=n.children;var d=le.current,v=(d&2)!==0;if(v?(d=d&1|2,e.flags|=128):d&=1,et(le,d),Me(t,e,n,a),n=Rt?Rn:0,!v&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lg(t,a,e);else if(t.tag===19)lg(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(a=e.child,u=null;a!==null;)t=a.alternate,t!==null&&fr(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=e.child,e.child=null):(u=a.sibling,a.sibling=null),ec(e,!1,u,a,c,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=e.child,e.child=null;u!==null;){if(t=u.alternate,t!==null&&fr(t)===null){e.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}ec(e,!0,a,null,c,n);break;case"together":ec(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function qa(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),xi|=e.lanes,(a&e.childLanes)===0)if(t!==null){if(Vl(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,a=Pa(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=Pa(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function ac(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ir(t)))}function ev(t,e,a){switch(e.tag){case 3:de(e,e.stateNode.containerInfo),di(e,re,t.memoizedState.cache),qi();break;case 27:case 5:za(e);break;case 4:de(e,e.stateNode.containerInfo);break;case 10:di(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Bo(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(_i(e),e.flags|=128,null):(a&e.child.childLanes)!==0?ig(t,e,a):(_i(e),t=qa(t,e,a),t!==null?t.sibling:null);_i(e);break;case 19:var u=(t.flags&128)!==0;if(n=(a&e.childLanes)!==0,n||(Vl(t,e,a,!1),n=(a&e.childLanes)!==0),u){if(n)return ng(t,e,a);e.flags|=128}if(u=e.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),et(le,le.current),n)break;return null;case 22:return e.lanes=0,Kd(t,e,a,e.pendingProps);case 24:di(e,re,t.memoizedState.cache)}return qa(t,e,a)}function sg(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)oe=!0;else{if(!ac(t,a)&&(e.flags&128)===0)return oe=!1,ev(t,e,a);oe=(t.flags&131072)!==0}else oe=!1,Rt&&(e.flags&1048576)!==0&&Uh(e,Rn,e.index);switch(e.lanes=0,e.tag){case 16:t:{var n=e.pendingProps;if(t=Ji(e.elementType),e.type=t,typeof t=="function")so(t)?(n=tl(t,n),e.tag=1,e=eg(null,e,t,n,a)):(e.tag=0,e=Zo(null,e,t,n,a));else{if(t!=null){var u=t.$$typeof;if(u===J){e.tag=11,e=Qd(null,e,t,n,a);break t}else if(u===Q){e.tag=14,e=Zd(null,e,t,n,a);break t}}throw e=Bt(t)||t,Error(r(306,e,""))}}return e;case 0:return Zo(t,e,e.type,e.pendingProps,a);case 1:return n=e.type,u=tl(n,e.pendingProps),eg(t,e,n,u,a);case 3:t:{if(de(e,e.stateNode.containerInfo),t===null)throw Error(r(387));n=e.pendingProps;var c=e.memoizedState;u=c.element,bo(t,e),Nn(e,n,null,a);var d=e.memoizedState;if(n=d.cache,di(e,re,n),n!==c.cache&&po(e,[re],a,!0),Ln(),n=d.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:d.cache},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){e=ag(t,e,n,a);break t}else if(n!==u){u=ra(Error(r(424)),e),Vn(u),e=ag(t,e,n,a);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xt=ha(t.firstChild),be=e,Rt=!0,fi=null,ca=!0,a=Kh(e,null,n,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qi(),n===u){e=qa(t,e,a);break t}Me(t,e,n,a)}e=e.child}return e;case 26:return br(t,e),t===null?(a=_m(e.type,null,e.pendingProps,null))?e.memoizedState=a:Rt||(a=e.type,t=e.pendingProps,n=jr(xt.current).createElement(a),n[xe]=e,n[ze]=t,Te(n,a,t),ye(n),e.stateNode=n):e.memoizedState=_m(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return za(e),t===null&&Rt&&(n=e.stateNode=gm(e.type,e.pendingProps,xt.current),be=e,ca=!0,u=Xt,Ei(e.type)?(Lc=u,Xt=ha(n.firstChild)):Xt=u),Me(t,e,e.pendingProps.children,a),br(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Rt&&((u=n=Xt)&&(n=Av(n,e.type,e.pendingProps,ca),n!==null?(e.stateNode=n,be=e,Xt=ha(n.firstChild),ca=!1,u=!0):u=!1),u||hi(e)),za(e),u=e.type,c=e.pendingProps,d=t!==null?t.memoizedProps:null,n=c.children,Dc(u,c)?n=null:d!==null&&Dc(u,d)&&(e.flags|=32),e.memoizedState!==null&&(u=Vo(t,e,q0,null,null,a),as._currentValue=u),br(t,e),Me(t,e,n,a),e.child;case 6:return t===null&&Rt&&((t=a=Xt)&&(a=Ov(a,e.pendingProps,ca),a!==null?(e.stateNode=a,be=e,Xt=null,t=!0):t=!1),t||hi(e)),null;case 13:return ig(t,e,a);case 4:return de(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Wi(e,null,n,a):Me(t,e,n,a),e.child;case 11:return Qd(t,e,e.type,e.pendingProps,a);case 7:return Me(t,e,e.pendingProps,a),e.child;case 8:return Me(t,e,e.pendingProps.children,a),e.child;case 12:return Me(t,e,e.pendingProps.children,a),e.child;case 10:return n=e.pendingProps,di(e,e.type,n.value),Me(t,e,n.children,a),e.child;case 9:return u=e.type._context,n=e.pendingProps.children,Qi(e),u=Ce(u),n=n(u),e.flags|=1,Me(t,e,n,a),e.child;case 14:return Zd(t,e,e.type,e.pendingProps,a);case 15:return Jd(t,e,e.type,e.pendingProps,a);case 19:return ng(t,e,a);case 31:return tv(t,e,a);case 22:return Kd(t,e,a,e.pendingProps);case 24:return Qi(e),n=Ce(re),t===null?(u=vo(),u===null&&(u=qt,c=_o(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=a),u=c),e.memoizedState={parent:n,cache:u},xo(e),di(e,re,u)):((t.lanes&a)!==0&&(bo(t,e),Nn(e,null,null,a),Ln()),u=t.memoizedState,c=e.memoizedState,u.parent!==n?(u={parent:n,cache:n},e.memoizedState=u,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=u),di(e,re,n)):(n=c.cache,di(e,re,n),n!==u.cache&&po(e,[re],a,!0))),Me(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Xa(t){t.flags|=4}function ic(t,e,a,n,u){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(wg())t.flags|=8192;else throw Ki=rr,So}else t.flags&=-16777217}function rg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bm(e))if(wg())t.flags|=8192;else throw Ki=rr,So}function Mr(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Pf():536870912,t.lanes|=e,kl|=e)}function In(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,n=0;if(e)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,n|=u.subtreeFlags&65011712,n|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,n|=u.subtreeFlags,n|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=n,t.childLanes=a,e}function av(t,e,a){var n=e.pendingProps;switch(co(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return Qt(e),null;case 3:return a=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ha(re),Jt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Rl(e)?Xa(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ho())),Qt(e),null;case 26:var u=e.type,c=e.memoizedState;return t===null?(Xa(e),c!==null?(Qt(e),rg(e,c)):(Qt(e),ic(e,u,null,n,a))):c?c!==t.memoizedState?(Xa(e),Qt(e),rg(e,c)):(Qt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==n&&Xa(e),Qt(e),ic(e,u,t,n,a)),null;case 27:if(ri(e),a=xt.current,u=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Xa(e);else{if(!n){if(e.stateNode===null)throw Error(r(166));return Qt(e),null}t=at.current,Rl(e)?Ph(e):(t=gm(u,n,a),e.stateNode=t,Xa(e))}return Qt(e),null;case 5:if(ri(e),u=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Xa(e);else{if(!n){if(e.stateNode===null)throw Error(r(166));return Qt(e),null}if(c=at.current,Rl(e))Ph(e);else{var d=jr(xt.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?d.createElement("select",{is:n.is}):d.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?d.createElement(u,{is:n.is}):d.createElement(u)}}c[xe]=e,c[ze]=n;t:for(d=e.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}e.stateNode=c;t:switch(Te(c,u,n),u){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Xa(e)}}return Qt(e),ic(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,a),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&Xa(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(r(166));if(t=xt.current,Rl(e)){if(t=e.stateNode,a=e.memoizedProps,n=null,u=be,u!==null)switch(u.tag){case 27:case 5:n=u.memoizedProps}t[xe]=e,t=!!(t.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||im(t.nodeValue,a)),t||hi(e,!0)}else t=jr(t).createTextNode(n),t[xe]=e,e.stateNode=t}return Qt(e),null;case 31:if(a=e.memoizedState,t===null||t.memoizedState!==null){if(n=Rl(e),a!==null){if(t===null){if(!n)throw Error(r(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xe]=e}else qi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Qt(e),t=!1}else a=ho(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return e.flags&256?(Qe(e),e):(Qe(e),null);if((e.flags&128)!==0)throw Error(r(558))}return Qt(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=Rl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=e.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[xe]=e}else qi(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Qt(e),u=!1}else u=ho(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return e.flags&256?(Qe(e),e):(Qe(e),null)}return Qe(e),(e.flags&128)!==0?(e.lanes=a,e):(a=n!==null,t=t!==null&&t.memoizedState!==null,a&&(n=e.child,u=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(u=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==u&&(n.flags|=2048)),a!==t&&a&&(e.child.flags|=8192),Mr(e,e.updateQueue),Qt(e),null);case 4:return Jt(),t===null&&Tc(e.stateNode.containerInfo),Qt(e),null;case 10:return Ha(e.type),Qt(e),null;case 19:if(X(le),n=e.memoizedState,n===null)return Qt(e),null;if(u=(e.flags&128)!==0,c=n.rendering,c===null)if(u)In(n,!1);else{if(ae!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(c=fr(t),c!==null){for(e.flags|=128,In(n,!1),t=c.updateQueue,e.updateQueue=t,Mr(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)Lh(a,t),a=a.sibling;return et(le,le.current&1|2),Rt&&ka(e,n.treeForkCount),e.child}t=t.sibling}n.tail!==null&&$()>Vr&&(e.flags|=128,u=!0,In(n,!1),e.lanes=4194304)}else{if(!u)if(t=fr(c),t!==null){if(e.flags|=128,u=!0,t=t.updateQueue,e.updateQueue=t,Mr(e,t),In(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!Rt)return Qt(e),null}else 2*$()-n.renderingStartTime>Vr&&a!==536870912&&(e.flags|=128,u=!0,In(n,!1),e.lanes=4194304);n.isBackwards?(c.sibling=e.child,e.child=c):(t=n.last,t!==null?t.sibling=c:e.child=c,n.last=c)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=$(),t.sibling=null,a=le.current,et(le,u?a&1|2:a&1),Rt&&ka(e,n.treeForkCount),t):(Qt(e),null);case 22:case 23:return Qe(e),Eo(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(a&536870912)!==0&&(e.flags&128)===0&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),a=e.updateQueue,a!==null&&Mr(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==a&&(e.flags|=2048),t!==null&&X(Zi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Ha(re),Qt(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function iv(t,e){switch(co(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ha(re),Jt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ri(e),null;case 31:if(e.memoizedState!==null){if(Qe(e),e.alternate===null)throw Error(r(340));qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Qe(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(le),null;case 4:return Jt(),null;case 10:return Ha(e.type),null;case 22:case 23:return Qe(e),Eo(),t!==null&&X(Zi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ha(re),null;case 25:return null;default:return null}}function ug(t,e){switch(co(e),e.tag){case 3:Ha(re),Jt();break;case 26:case 27:case 5:ri(e);break;case 4:Jt();break;case 31:e.memoizedState!==null&&Qe(e);break;case 13:Qe(e);break;case 19:X(le);break;case 10:Ha(e.type);break;case 22:case 23:Qe(e),Eo(),t!==null&&X(Zi);break;case 24:Ha(re)}}function Hn(t,e){try{var a=e.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var u=n.next;a=u;do{if((a.tag&t)===t){n=void 0;var c=a.create,d=a.inst;n=c(),d.destroy=n}a=a.next}while(a!==u)}}catch(v){Pt(e,e.return,v)}}function vi(t,e,a){try{var n=e.updateQueue,u=n!==null?n.lastEffect:null;if(u!==null){var c=u.next;n=c;do{if((n.tag&t)===t){var d=n.inst,v=d.destroy;if(v!==void 0){d.destroy=void 0,u=e;var M=a,N=v;try{N()}catch(H){Pt(u,M,H)}}}n=n.next}while(n!==c)}}catch(H){Pt(e,e.return,H)}}function og(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{$h(e,a)}catch(n){Pt(t,t.return,n)}}}function cg(t,e,a){a.props=tl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(n){Pt(t,e,n)}}function Yn(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof a=="function"?t.refCleanup=a(n):a.current=n}}catch(u){Pt(t,e,u)}}function Va(t,e){var a=t.ref,n=t.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(u){Pt(t,e,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Pt(t,e,u)}else a.current=null}function fg(t){var e=t.type,a=t.memoizedProps,n=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break t;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(u){Pt(t,t.return,u)}}function lc(t,e,a){try{var n=t.stateNode;Tv(n,t.type,a,e),n[ze]=e}catch(u){Pt(t,t.return,u)}}function hg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ei(t.type)||t.tag===4}function nc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||hg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ei(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sc(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,e):(e=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,e.appendChild(t),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Ua));else if(n!==4&&(n===27&&Ei(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(sc(t,e,a),t=t.sibling;t!==null;)sc(t,e,a),t=t.sibling}function Tr(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?a.insertBefore(t,e):a.appendChild(t);else if(n!==4&&(n===27&&Ei(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tr(t,e,a),t=t.sibling;t!==null;)Tr(t,e,a),t=t.sibling}function dg(t){var e=t.stateNode,a=t.memoizedProps;try{for(var n=t.type,u=e.attributes;u.length;)e.removeAttributeNode(u[0]);Te(e,n,a),e[xe]=t,e[ze]=a}catch(c){Pt(t,t.return,c)}}var Qa=!1,ce=!1,rc=!1,gg=typeof WeakSet=="function"?WeakSet:Set,ve=null;function lv(t,e){if(t=t.containerInfo,Rc=qr,t=Eh(t),$u(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var u=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break t}var d=0,v=-1,M=-1,N=0,H=0,q=t,U=null;e:for(;;){for(var P;q!==a||u!==0&&q.nodeType!==3||(v=d+u),q!==c||n!==0&&q.nodeType!==3||(M=d+n),q.nodeType===3&&(d+=q.nodeValue.length),(P=q.firstChild)!==null;)U=q,q=P;for(;;){if(q===t)break e;if(U===a&&++N===u&&(v=d),U===c&&++H===n&&(M=d),(P=q.nextSibling)!==null)break;q=U,U=q.parentNode}q=P}a=v===-1||M===-1?null:{start:v,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vc={focusedElem:t,selectionRange:a},qr=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){switch(e=ve,c=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)u=t[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&c!==null){t=void 0,a=e,u=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var it=tl(a.type,u);t=n.getSnapshotBeforeUpdate(it,c),n.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Pt(a,a.return,dt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,a=t.nodeType,a===9)Oc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Oc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}}function mg(t,e,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ja(t,a),n&4&&Hn(5,a);break;case 1:if(Ja(t,a),n&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(d){Pt(a,a.return,d)}else{var u=tl(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(u,e,t.__reactInternalSnapshotBeforeUpdate)}catch(d){Pt(a,a.return,d)}}n&64&&og(a),n&512&&Yn(a,a.return);break;case 3:if(Ja(t,a),n&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{$h(t,e)}catch(d){Pt(a,a.return,d)}}break;case 27:e===null&&n&4&&dg(a);case 26:case 5:Ja(t,a),e===null&&n&4&&fg(a),n&512&&Yn(a,a.return);break;case 12:Ja(t,a);break;case 31:Ja(t,a),n&4&&yg(t,a);break;case 13:Ja(t,a),n&4&&vg(t,a),n&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dv.bind(null,a),wv(t,a))));break;case 22:if(n=a.memoizedState!==null||Qa,!n){e=e!==null&&e.memoizedState!==null||ce,u=Qa;var c=ce;Qa=n,(ce=e)&&!c?Ka(t,a,(a.subtreeFlags&8772)!==0):Ja(t,a),Qa=u,ce=c}break;case 30:break;default:Ja(t,a)}}function pg(t){var e=t.alternate;e!==null&&(t.alternate=null,pg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Nu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Kt=null,Ne=!1;function Za(t,e,a){for(a=a.child;a!==null;)_g(t,e,a),a=a.sibling}function _g(t,e,a){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Ui,a)}catch{}switch(a.tag){case 26:ce||Va(a,e),Za(t,e,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||Va(a,e);var n=Kt,u=Ne;Ei(a.type)&&(Kt=a.stateNode,Ne=!1),Za(t,e,a),$n(a.stateNode),Kt=n,Ne=u;break;case 5:ce||Va(a,e);case 6:if(n=Kt,u=Ne,Kt=null,Za(t,e,a),Kt=n,Ne=u,Kt!==null)if(Ne)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(a.stateNode)}catch(c){Pt(a,e,c)}else try{Kt.removeChild(a.stateNode)}catch(c){Pt(a,e,c)}break;case 18:Kt!==null&&(Ne?(t=Kt,om(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Zl(t)):om(Kt,a.stateNode));break;case 4:n=Kt,u=Ne,Kt=a.stateNode.containerInfo,Ne=!0,Za(t,e,a),Kt=n,Ne=u;break;case 0:case 11:case 14:case 15:vi(2,a,e),ce||vi(4,a,e),Za(t,e,a);break;case 1:ce||(Va(a,e),n=a.stateNode,typeof n.componentWillUnmount=="function"&&cg(a,e,n)),Za(t,e,a);break;case 21:Za(t,e,a);break;case 22:ce=(n=ce)||a.memoizedState!==null,Za(t,e,a),ce=n;break;default:Za(t,e,a)}}function yg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Zl(t)}catch(a){Pt(e,e.return,a)}}}function vg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zl(t)}catch(a){Pt(e,e.return,a)}}function nv(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new gg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new gg),e;default:throw Error(r(435,t.tag))}}function Er(t,e){var a=nv(t);e.forEach(function(n){if(!a.has(n)){a.add(n);var u=gv.bind(null,t,n);n.then(u,u)}})}function Fe(t,e){var a=e.deletions;if(a!==null)for(var n=0;n<a.length;n++){var u=a[n],c=t,d=e,v=d;t:for(;v!==null;){switch(v.tag){case 27:if(Ei(v.type)){Kt=v.stateNode,Ne=!1;break t}break;case 5:Kt=v.stateNode,Ne=!1;break t;case 3:case 4:Kt=v.stateNode.containerInfo,Ne=!0;break t}v=v.return}if(Kt===null)throw Error(r(160));_g(c,d,u),Kt=null,Ne=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Sg(e,t),e=e.sibling}var ya=null;function Sg(t,e){var a=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fe(e,t),Ue(t),n&4&&(vi(3,t,t.return),Hn(3,t),vi(5,t,t.return));break;case 1:Fe(e,t),Ue(t),n&512&&(ce||a===null||Va(a,a.return)),n&64&&Qa&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var u=ya;if(Fe(e,t),Ue(t),n&512&&(ce||a===null||Va(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=t.memoizedState,a===null)if(n===null)if(t.stateNode===null){t:{n=t.type,a=t.memoizedProps,u=u.ownerDocument||u;e:switch(n){case"title":c=u.getElementsByTagName("title")[0],(!c||c[_n]||c[xe]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(n),u.head.insertBefore(c,u.querySelector("head > title"))),Te(c,n,a),c[xe]=t,ye(c),n=c;break t;case"link":var d=Sm("link","href",u).get(n+(a.href||""));if(d){for(var v=0;v<d.length;v++)if(c=d[v],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(v,1);break e}}c=u.createElement(n),Te(c,n,a),u.head.appendChild(c);break;case"meta":if(d=Sm("meta","content",u).get(n+(a.content||""))){for(v=0;v<d.length;v++)if(c=d[v],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(v,1);break e}}c=u.createElement(n),Te(c,n,a),u.head.appendChild(c);break;default:throw Error(r(468,n))}c[xe]=t,ye(c),n=c}t.stateNode=n}else xm(u,t.type,t.stateNode);else t.stateNode=vm(u,n,t.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?xm(u,t.type,t.stateNode):vm(u,n,t.memoizedProps)):n===null&&t.stateNode!==null&&lc(t,t.memoizedProps,a.memoizedProps)}break;case 27:Fe(e,t),Ue(t),n&512&&(ce||a===null||Va(a,a.return)),a!==null&&n&4&&lc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Fe(e,t),Ue(t),n&512&&(ce||a===null||Va(a,a.return)),t.flags&32){u=t.stateNode;try{yl(u,"")}catch(it){Pt(t,t.return,it)}}n&4&&t.stateNode!=null&&(u=t.memoizedProps,lc(t,u,a!==null?a.memoizedProps:u)),n&1024&&(rc=!0);break;case 6:if(Fe(e,t),Ue(t),n&4){if(t.stateNode===null)throw Error(r(162));n=t.memoizedProps,a=t.stateNode;try{a.nodeValue=n}catch(it){Pt(t,t.return,it)}}break;case 3:if(Ir=null,u=ya,ya=Pr(e.containerInfo),Fe(e,t),ya=u,Ue(t),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(it){Pt(t,t.return,it)}rc&&(rc=!1,xg(t));break;case 4:n=ya,ya=Pr(t.stateNode.containerInfo),Fe(e,t),Ue(t),ya=n;break;case 12:Fe(e,t),Ue(t);break;case 31:Fe(e,t),Ue(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Er(t,n)));break;case 13:Fe(e,t),Ue(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rr=$()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Er(t,n)));break;case 22:u=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,N=Qa,H=ce;if(Qa=N||u,ce=H||M,Fe(e,t),ce=H,Qa=N,Ue(t),n&8192)t:for(e=t.stateNode,e._visibility=u?e._visibility&-2:e._visibility|1,u&&(a===null||M||Qa||ce||el(t)),a=null,e=t;;){if(e.tag===5||e.tag===26){if(a===null){M=a=e;try{if(c=M.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=M.stateNode;var q=M.memoizedProps.style,U=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(it){Pt(M,M.return,it)}}}else if(e.tag===6){if(a===null){M=e;try{M.stateNode.nodeValue=u?"":M.memoizedProps}catch(it){Pt(M,M.return,it)}}}else if(e.tag===18){if(a===null){M=e;try{var P=M.stateNode;u?cm(P,!0):cm(M.stateNode,!1)}catch(it){Pt(M,M.return,it)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Er(t,a))));break;case 19:Fe(e,t),Ue(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Er(t,n)));break;case 30:break;case 21:break;default:Fe(e,t),Ue(t)}}function Ue(t){var e=t.flags;if(e&2){try{for(var a,n=t.return;n!==null;){if(hg(n)){a=n;break}n=n.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,c=nc(t);Tr(t,c,u);break;case 5:var d=a.stateNode;a.flags&32&&(yl(d,""),a.flags&=-33);var v=nc(t);Tr(t,v,d);break;case 3:case 4:var M=a.stateNode.containerInfo,N=nc(t);sc(t,N,M);break;default:throw Error(r(161))}}catch(H){Pt(t,t.return,H)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;xg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ja(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)mg(t,e.alternate,e),e=e.sibling}function el(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:vi(4,e,e.return),el(e);break;case 1:Va(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&cg(e,e.return,a),el(e);break;case 27:$n(e.stateNode);case 26:case 5:Va(e,e.return),el(e);break;case 22:e.memoizedState===null&&el(e);break;case 30:el(e);break;default:el(e)}t=t.sibling}}function Ka(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,u=t,c=e,d=c.flags;switch(c.tag){case 0:case 11:case 15:Ka(u,c,a),Hn(4,c);break;case 1:if(Ka(u,c,a),n=c,u=n.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){Pt(n,n.return,N)}if(n=c,u=n.updateQueue,u!==null){var v=n.stateNode;try{var M=u.shared.hiddenCallbacks;if(M!==null)for(u.shared.hiddenCallbacks=null,u=0;u<M.length;u++)Wh(M[u],v)}catch(N){Pt(n,n.return,N)}}a&&d&64&&og(c),Yn(c,c.return);break;case 27:dg(c);case 26:case 5:Ka(u,c,a),a&&n===null&&d&4&&fg(c),Yn(c,c.return);break;case 12:Ka(u,c,a);break;case 31:Ka(u,c,a),a&&d&4&&yg(u,c);break;case 13:Ka(u,c,a),a&&d&4&&vg(u,c);break;case 22:c.memoizedState===null&&Ka(u,c,a),Yn(c,c.return);break;case 30:break;default:Ka(u,c,a)}e=e.sibling}}function uc(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Dn(a))}function oc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Dn(t))}function va(t,e,a,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bg(t,e,a,n),e=e.sibling}function bg(t,e,a,n){var u=e.flags;switch(e.tag){case 0:case 11:case 15:va(t,e,a,n),u&2048&&Hn(9,e);break;case 1:va(t,e,a,n);break;case 3:va(t,e,a,n),u&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Dn(t)));break;case 12:if(u&2048){va(t,e,a,n),t=e.stateNode;try{var c=e.memoizedProps,d=c.id,v=c.onPostCommit;typeof v=="function"&&v(d,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Pt(e,e.return,M)}}else va(t,e,a,n);break;case 31:va(t,e,a,n);break;case 13:va(t,e,a,n);break;case 23:break;case 22:c=e.stateNode,d=e.alternate,e.memoizedState!==null?c._visibility&2?va(t,e,a,n):Gn(t,e):c._visibility&2?va(t,e,a,n):(c._visibility|=2,Ul(t,e,a,n,(e.subtreeFlags&10256)!==0||!1)),u&2048&&uc(d,e);break;case 24:va(t,e,a,n),u&2048&&oc(e.alternate,e);break;default:va(t,e,a,n)}}function Ul(t,e,a,n,u){for(u=u&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var c=t,d=e,v=a,M=n,N=d.flags;switch(d.tag){case 0:case 11:case 15:Ul(c,d,v,M,u),Hn(8,d);break;case 23:break;case 22:var H=d.stateNode;d.memoizedState!==null?H._visibility&2?Ul(c,d,v,M,u):Gn(c,d):(H._visibility|=2,Ul(c,d,v,M,u)),u&&N&2048&&uc(d.alternate,d);break;case 24:Ul(c,d,v,M,u),u&&N&2048&&oc(d.alternate,d);break;default:Ul(c,d,v,M,u)}e=e.sibling}}function Gn(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,n=e,u=n.flags;switch(n.tag){case 22:Gn(a,n),u&2048&&uc(n.alternate,n);break;case 24:Gn(a,n),u&2048&&oc(n.alternate,n);break;default:Gn(a,n)}e=e.sibling}}var qn=8192;function jl(t,e,a){if(t.subtreeFlags&qn)for(t=t.child;t!==null;)Cg(t,e,a),t=t.sibling}function Cg(t,e,a){switch(t.tag){case 26:jl(t,e,a),t.flags&qn&&t.memoizedState!==null&&Gv(a,ya,t.memoizedState,t.memoizedProps);break;case 5:jl(t,e,a);break;case 3:case 4:var n=ya;ya=Pr(t.stateNode.containerInfo),jl(t,e,a),ya=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=qn,qn=16777216,jl(t,e,a),qn=n):jl(t,e,a));break;default:jl(t,e,a)}}function Mg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Xn(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];ve=n,Eg(n,t)}Mg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tg(t),t=t.sibling}function Tg(t){switch(t.tag){case 0:case 11:case 15:Xn(t),t.flags&2048&&vi(9,t,t.return);break;case 3:Xn(t);break;case 12:Xn(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Br(t)):Xn(t);break;default:Xn(t)}}function Br(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];ve=n,Eg(n,t)}Mg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:vi(8,e,e.return),Br(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,Br(e));break;default:Br(e)}t=t.sibling}}function Eg(t,e){for(;ve!==null;){var a=ve;switch(a.tag){case 0:case 11:case 15:vi(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Dn(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ve=n;else t:for(a=t;ve!==null;){n=ve;var u=n.sibling,c=n.return;if(pg(n),n===a){ve=null;break t}if(u!==null){u.return=c,ve=u;break t}ve=c}}}var sv={getCacheForType:function(t){var e=Ce(re),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a},cacheSignal:function(){return Ce(re).controller.signal}},rv=typeof WeakMap=="function"?WeakMap:Map,Ut=0,qt=null,bt=null,Mt=0,jt=0,Ze=null,Si=!1,Pl=!1,cc=!1,Wa=0,ae=0,xi=0,al=0,fc=0,Je=0,kl=0,Qn=null,je=null,hc=!1,Rr=0,Bg=0,Vr=1/0,Dr=null,bi=null,ge=0,Ci=null,Il=null,$a=0,dc=0,gc=null,Rg=null,Zn=0,mc=null;function Ke(){return(Ut&2)!==0&&Mt!==0?Mt&-Mt:k.T!==null?xc():Yf()}function Vg(){if(Je===0)if((Mt&536870912)===0||Rt){var t=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),Je=t}else Je=536870912;return t=Xe.current,t!==null&&(t.flags|=32),Je}function Pe(t,e,a){(t===qt&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(Hl(t,0),Mi(t,Mt,Je,!1)),pn(t,a),((Ut&2)===0||t!==qt)&&(t===qt&&((Ut&2)===0&&(al|=a),ae===4&&Mi(t,Mt,Je,!1)),Da(t))}function Dg(t,e,a){if((Ut&6)!==0)throw Error(r(327));var n=!a&&(e&127)===0&&(e&t.expiredLanes)===0||mn(t,e),u=n?cv(t,e):_c(t,e,!0),c=n;do{if(u===0){Pl&&!n&&Mi(t,e,0,!1);break}else{if(a=t.current.alternate,c&&!uv(a)){u=_c(t,e,!1),c=!1;continue}if(u===2){if(c=e,t.errorRecoveryDisabledLanes&c)var d=0;else d=t.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){e=d;t:{var v=t;u=Qn;var M=v.current.memoizedState.isDehydrated;if(M&&(Hl(v,d).flags|=256),d=_c(v,d,!1),d!==2){if(cc&&!M){v.errorRecoveryDisabledLanes|=c,al|=c,u=4;break t}c=je,je=u,c!==null&&(je===null?je=c:je.push.apply(je,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){Hl(t,0),Mi(t,e,0,!0);break}t:{switch(n=t,c=u,c){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Mi(n,e,Je,!Si);break t;case 2:je=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(u=Rr+300-$(),10<u)){if(Mi(n,e,Je,!Si),Ps(n,0,!0)!==0)break t;$a=e,n.timeoutHandle=rm(Ag.bind(null,n,a,je,Dr,hc,e,Je,al,kl,Si,c,"Throttled",-0,0),u);break t}Ag(n,a,je,Dr,hc,e,Je,al,kl,Si,c,null,-0,0)}}break}while(!0);Da(t)}function Ag(t,e,a,n,u,c,d,v,M,N,H,q,U,P){if(t.timeoutHandle=-1,q=e.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ua},Cg(e,c,q);var it=(c&62914560)===c?Rr-$():(c&4194048)===c?Bg-$():0;if(it=qv(q,it),it!==null){$a=c,t.cancelPendingCommit=it(jg.bind(null,t,e,c,a,n,u,d,v,M,H,q,null,U,P)),Mi(t,c,d,!N);return}}jg(t,e,c,a,n,u,d,v,M)}function uv(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var u=a[n],c=u.getSnapshot;u=u.value;try{if(!Ge(c(),u))return!1}catch{return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e,a,n){e&=~fc,e&=~al,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var u=e;0<u;){var c=31-De(u),d=1<<c;n[c]=-1,u&=~d}a!==0&&kf(t,a,e)}function Ar(){return(Ut&6)===0?(Jn(0),!1):!0}function pc(){if(bt!==null){if(jt===0)var t=bt.return;else t=bt,Ia=Xi=null,Oo(t),wl=null,On=0,t=bt;for(;t!==null;)ug(t.alternate,t),t=t.return;bt=null}}function Hl(t,e){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Rv(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$a=0,pc(),qt=t,bt=a=Pa(t.current,null),Mt=e,jt=0,Ze=null,Si=!1,Pl=mn(t,e),cc=!1,kl=Je=fc=al=xi=ae=0,je=Qn=null,hc=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var u=31-De(n),c=1<<u;e|=t[u],n&=~c}return Wa=e,Ws(),a}function Og(t,e){yt=null,k.H=Pn,e===Ol||e===sr?(e=Qh(),jt=3):e===So?(e=Qh(),jt=4):jt=e===Qo?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ze=e,bt===null&&(ae=1,Sr(t,ra(e,t.current)))}function wg(){var t=Xe.current;return t===null?!0:(Mt&4194048)===Mt?fa===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===fa:!1}function zg(){var t=k.H;return k.H=Pn,t===null?Pn:t}function Lg(){var t=k.A;return k.A=sv,t}function Or(){ae=4,Si||(Mt&4194048)!==Mt&&Xe.current!==null||(Pl=!0),(xi&134217727)===0&&(al&134217727)===0||qt===null||Mi(qt,Mt,Je,!1)}function _c(t,e,a){var n=Ut;Ut|=2;var u=zg(),c=Lg();(qt!==t||Mt!==e)&&(Dr=null,Hl(t,e)),e=!1;var d=ae;t:do try{if(jt!==0&&bt!==null){var v=bt,M=Ze;switch(jt){case 8:pc(),d=6;break t;case 3:case 2:case 9:case 6:Xe.current===null&&(e=!0);var N=jt;if(jt=0,Ze=null,Yl(t,v,M,N),a&&Pl){d=0;break t}break;default:N=jt,jt=0,Ze=null,Yl(t,v,M,N)}}ov(),d=ae;break}catch(H){Og(t,H)}while(!0);return e&&t.shellSuspendCounter++,Ia=Xi=null,Ut=n,k.H=u,k.A=c,bt===null&&(qt=null,Mt=0,Ws()),d}function ov(){for(;bt!==null;)Ng(bt)}function cv(t,e){var a=Ut;Ut|=2;var n=zg(),u=Lg();qt!==t||Mt!==e?(Dr=null,Vr=$()+500,Hl(t,e)):Pl=mn(t,e);t:do try{if(jt!==0&&bt!==null){e=bt;var c=Ze;e:switch(jt){case 1:jt=0,Ze=null,Yl(t,e,c,1);break;case 2:case 9:if(qh(c)){jt=0,Ze=null,Fg(e);break}e=function(){jt!==2&&jt!==9||qt!==t||(jt=7),Da(t)},c.then(e,e);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:qh(c)?(jt=0,Ze=null,Fg(e)):(jt=0,Ze=null,Yl(t,e,c,7));break;case 5:var d=null;switch(bt.tag){case 26:d=bt.memoizedState;case 5:case 27:var v=bt;if(d?bm(d):v.stateNode.complete){jt=0,Ze=null;var M=v.sibling;if(M!==null)bt=M;else{var N=v.return;N!==null?(bt=N,wr(N)):bt=null}break e}}jt=0,Ze=null,Yl(t,e,c,5);break;case 6:jt=0,Ze=null,Yl(t,e,c,6);break;case 8:pc(),ae=6;break t;default:throw Error(r(462))}}fv();break}catch(H){Og(t,H)}while(!0);return Ia=Xi=null,k.H=n,k.A=u,Ut=a,bt!==null?0:(qt=null,Mt=0,Ws(),ae)}function fv(){for(;bt!==null&&!z();)Ng(bt)}function Ng(t){var e=sg(t.alternate,t,Wa);t.memoizedProps=t.pendingProps,e===null?wr(t):bt=e}function Fg(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=tg(a,e,e.pendingProps,e.type,void 0,Mt);break;case 11:e=tg(a,e,e.pendingProps,e.type.render,e.ref,Mt);break;case 5:Oo(e);default:ug(a,e),e=bt=Lh(e,Wa),e=sg(a,e,Wa)}t.memoizedProps=t.pendingProps,e===null?wr(t):bt=e}function Yl(t,e,a,n){Ia=Xi=null,Oo(e),wl=null,On=0;var u=e.return;try{if($0(t,u,e,a,Mt)){ae=1,Sr(t,ra(a,t.current)),bt=null;return}}catch(c){if(u!==null)throw bt=u,c;ae=1,Sr(t,ra(a,t.current)),bt=null;return}e.flags&32768?(Rt||n===1?t=!0:Pl||(Mt&536870912)!==0?t=!1:(Si=t=!0,(n===2||n===9||n===3||n===6)&&(n=Xe.current,n!==null&&n.tag===13&&(n.flags|=16384))),Ug(e,t)):wr(e)}function wr(t){var e=t;do{if((e.flags&32768)!==0){Ug(e,Si);return}t=e.return;var a=av(e.alternate,e,Wa);if(a!==null){bt=a;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);ae===0&&(ae=5)}function Ug(t,e){do{var a=iv(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);ae=6,bt=null}function jg(t,e,a,n,u,c,d,v,M){t.cancelPendingCommit=null;do zr();while(ge!==0);if((Ut&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(c=e.lanes|e.childLanes,c|=lo,Yy(t,a,c,d,v,M),t===qt&&(bt=qt=null,Mt=0),Il=e,Ci=t,$a=a,dc=c,gc=u,Rg=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mv(Dt,function(){return Yg(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=k.T,k.T=null,u=W.p,W.p=2,d=Ut,Ut|=4;try{lv(t,e,a)}finally{Ut=d,W.p=u,k.T=n}}ge=1,Pg(),kg(),Ig()}}function Pg(){if(ge===1){ge=0;var t=Ci,e=Il,a=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var n=W.p;W.p=2;var u=Ut;Ut|=4;try{Sg(e,t);var c=Vc,d=Eh(t.containerInfo),v=c.focusedElem,M=c.selectionRange;if(d!==v&&v&&v.ownerDocument&&Th(v.ownerDocument.documentElement,v)){if(M!==null&&$u(v)){var N=M.start,H=M.end;if(H===void 0&&(H=N),"selectionStart"in v)v.selectionStart=N,v.selectionEnd=Math.min(H,v.value.length);else{var q=v.ownerDocument||document,U=q&&q.defaultView||window;if(U.getSelection){var P=U.getSelection(),it=v.textContent.length,dt=Math.min(M.start,it),Yt=M.end===void 0?dt:Math.min(M.end,it);!P.extend&&dt>Yt&&(d=Yt,Yt=dt,dt=d);var O=Mh(v,dt),R=Mh(v,Yt);if(O&&R&&(P.rangeCount!==1||P.anchorNode!==O.node||P.anchorOffset!==O.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var L=q.createRange();L.setStart(O.node,O.offset),P.removeAllRanges(),dt>Yt?(P.addRange(L),P.extend(R.node,R.offset)):(L.setEnd(R.node,R.offset),P.addRange(L))}}}}for(q=[],P=v;P=P.parentNode;)P.nodeType===1&&q.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var G=q[v];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}qr=!!Rc,Vc=Rc=null}finally{Ut=u,W.p=n,k.T=a}}t.current=e,ge=2}}function kg(){if(ge===2){ge=0;var t=Ci,e=Il,a=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var n=W.p;W.p=2;var u=Ut;Ut|=4;try{mg(t,e.alternate,e)}finally{Ut=u,W.p=n,k.T=a}}ge=3}}function Ig(){if(ge===4||ge===3){ge=0,I();var t=Ci,e=Il,a=$a,n=Rg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ge=5:(ge=0,Il=Ci=null,Hg(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(bi=null),zu(a),e=e.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Ui,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=k.T,u=W.p,W.p=2,k.T=null;try{for(var c=t.onRecoverableError,d=0;d<n.length;d++){var v=n[d];c(v.value,{componentStack:v.stack})}}finally{k.T=e,W.p=u}}($a&3)!==0&&zr(),Da(t),u=t.pendingLanes,(a&261930)!==0&&(u&42)!==0?t===mc?Zn++:(Zn=0,mc=t):Zn=0,Jn(0)}}function Hg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Dn(e)))}function zr(){return Pg(),kg(),Ig(),Yg()}function Yg(){if(ge!==5)return!1;var t=Ci,e=dc;dc=0;var a=zu($a),n=k.T,u=W.p;try{W.p=32>a?32:a,k.T=null,a=gc,gc=null;var c=Ci,d=$a;if(ge=0,Il=Ci=null,$a=0,(Ut&6)!==0)throw Error(r(331));var v=Ut;if(Ut|=4,Tg(c.current),bg(c,c.current,d,a),Ut=v,Jn(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Ui,c)}catch{}return!0}finally{W.p=u,k.T=n,Hg(t,e)}}function Gg(t,e,a){e=ra(a,e),e=Xo(t.stateNode,e,2),t=pi(t,e,2),t!==null&&(pn(t,2),Da(t))}function Pt(t,e,a){if(t.tag===3)Gg(t,t,a);else for(;e!==null;){if(e.tag===3){Gg(e,t,a);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bi===null||!bi.has(n))){t=ra(a,t),a=qd(2),n=pi(e,a,2),n!==null&&(Xd(a,n,e,t),pn(n,2),Da(n));break}}e=e.return}}function yc(t,e,a){var n=t.pingCache;if(n===null){n=t.pingCache=new rv;var u=new Set;n.set(e,u)}else u=n.get(e),u===void 0&&(u=new Set,n.set(e,u));u.has(a)||(cc=!0,u.add(a),t=hv.bind(null,t,e,a),e.then(t,t))}function hv(t,e,a){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,qt===t&&(Mt&a)===a&&(ae===4||ae===3&&(Mt&62914560)===Mt&&300>$()-Rr?(Ut&2)===0&&Hl(t,0):fc|=a,kl===Mt&&(kl=0)),Da(t)}function qg(t,e){e===0&&(e=Pf()),t=Yi(t,e),t!==null&&(pn(t,e),Da(t))}function dv(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),qg(t,a)}function gv(t,e){var a=0;switch(t.tag){case 31:case 13:var n=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(e),qg(t,a)}function mv(t,e){return fl(t,e)}var Lr=null,Gl=null,vc=!1,Nr=!1,Sc=!1,Ti=0;function Da(t){t!==Gl&&t.next===null&&(Gl===null?Lr=Gl=t:Gl=Gl.next=t),Nr=!0,vc||(vc=!0,_v())}function Jn(t,e){if(!Sc&&Nr){Sc=!0;do for(var a=!1,n=Lr;n!==null;){if(t!==0){var u=n.pendingLanes;if(u===0)var c=0;else{var d=n.suspendedLanes,v=n.pingedLanes;c=(1<<31-De(42|t)+1)-1,c&=u&~(d&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Jg(n,c))}else c=Mt,c=Ps(n,n===qt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||mn(n,c)||(a=!0,Jg(n,c));n=n.next}while(a);Sc=!1}}function pv(){Xg()}function Xg(){Nr=vc=!1;var t=0;Ti!==0&&Bv()&&(t=Ti);for(var e=$(),a=null,n=Lr;n!==null;){var u=n.next,c=Qg(n,e);c===0?(n.next=null,a===null?Lr=u:a.next=u,u===null&&(Gl=a)):(a=n,(t!==0||(c&3)!==0)&&(Nr=!0)),n=u}ge!==0&&ge!==5||Jn(t),Ti!==0&&(Ti=0)}function Qg(t,e){for(var a=t.suspendedLanes,n=t.pingedLanes,u=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var d=31-De(c),v=1<<d,M=u[d];M===-1?((v&a)===0||(v&n)!==0)&&(u[d]=Hy(v,e)):M<=e&&(t.expiredLanes|=v),c&=~v}if(e=qt,a=Mt,a=Ps(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,a===0||t===e&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&T(n),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||mn(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(n!==null&&T(n),zu(a)){case 2:case 8:a=rt;break;case 32:a=Dt;break;case 268435456:a=_e;break;default:a=Dt}return n=Zg.bind(null,t),a=fl(a,n),t.callbackPriority=e,t.callbackNode=a,e}return n!==null&&n!==null&&T(n),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,e){if(ge!==0&&ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zr()&&t.callbackNode!==a)return null;var n=Mt;return n=Ps(t,t===qt?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(Dg(t,n,e),Qg(t,$()),t.callbackNode!=null&&t.callbackNode===a?Zg.bind(null,t):null)}function Jg(t,e){if(zr())return null;Dg(t,e,!0)}function _v(){Vv(function(){(Ut&6)!==0?fl(K,pv):Xg()})}function xc(){if(Ti===0){var t=Dl;t===0&&(t=Fs,Fs<<=1,(Fs&261888)===0&&(Fs=256)),Ti=t}return Ti}function Kg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ys(""+t)}function Wg(t,e){var a=e.ownerDocument.createElement("input");return a.name=e.name,a.value=e.value,t.id&&a.setAttribute("form",t.id),e.parentNode.insertBefore(a,e),t=new FormData(t),a.parentNode.removeChild(a),t}function yv(t,e,a,n,u){if(e==="submit"&&a&&a.stateNode===u){var c=Kg((u[ze]||null).action),d=n.submitter;d&&(e=(e=d[ze]||null)?Kg(e.formAction):d.getAttribute("formAction"),e!==null&&(c=e,d=null));var v=new Qs("action","action",null,n,u);t.push({event:v,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ti!==0){var M=d?Wg(u,d):new FormData(u);ko(a,{pending:!0,data:M,method:u.method,action:c},null,M)}}else typeof c=="function"&&(v.preventDefault(),M=d?Wg(u,d):new FormData(u),ko(a,{pending:!0,data:M,method:u.method,action:c},c,M))},currentTarget:u}]})}}for(var bc=0;bc<io.length;bc++){var Cc=io[bc],vv=Cc.toLowerCase(),Sv=Cc[0].toUpperCase()+Cc.slice(1);_a(vv,"on"+Sv)}_a(Vh,"onAnimationEnd"),_a(Dh,"onAnimationIteration"),_a(Ah,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(N0,"onTransitionRun"),_a(F0,"onTransitionStart"),_a(U0,"onTransitionCancel"),_a(Oh,"onTransitionEnd"),pl("onMouseEnter",["mouseout","mouseover"]),pl("onMouseLeave",["mouseout","mouseover"]),pl("onPointerEnter",["pointerout","pointerover"]),pl("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kn));function $g(t,e){e=(e&4)!==0;for(var a=0;a<t.length;a++){var n=t[a],u=n.event;n=n.listeners;t:{var c=void 0;if(e)for(var d=n.length-1;0<=d;d--){var v=n[d],M=v.instance,N=v.currentTarget;if(v=v.listener,M!==c&&u.isPropagationStopped())break t;c=v,u.currentTarget=N;try{c(u)}catch(H){Ks(H)}u.currentTarget=null,c=M}else for(d=0;d<n.length;d++){if(v=n[d],M=v.instance,N=v.currentTarget,v=v.listener,M!==c&&u.isPropagationStopped())break t;c=v,u.currentTarget=N;try{c(u)}catch(H){Ks(H)}u.currentTarget=null,c=M}}}}function Ct(t,e){var a=e[Lu];a===void 0&&(a=e[Lu]=new Set);var n=t+"__bubble";a.has(n)||(tm(e,t,2,!1),a.add(n))}function Mc(t,e,a){var n=0;e&&(n|=4),tm(a,t,n,e)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Tc(t){if(!t[Fr]){t[Fr]=!0,Xf.forEach(function(a){a!=="selectionchange"&&(xv.has(a)||Mc(a,!1,t),Mc(a,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fr]||(e[Fr]=!0,Mc("selectionchange",!1,e))}}function tm(t,e,a,n){switch(Vm(e)){case 2:var u=Zv;break;case 8:u=Jv;break;default:u=Pc}a=u.bind(null,e,a,t),u=void 0,!Yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(u=!0),n?u!==void 0?t.addEventListener(e,a,{capture:!0,passive:u}):t.addEventListener(e,a,!0):u!==void 0?t.addEventListener(e,a,{passive:u}):t.addEventListener(e,a,!1)}function Ec(t,e,a,n,u){var c=n;if((e&1)===0&&(e&2)===0&&n!==null)t:for(;;){if(n===null)return;var d=n.tag;if(d===3||d===4){var v=n.stateNode.containerInfo;if(v===u)break;if(d===4)for(d=n.return;d!==null;){var M=d.tag;if((M===3||M===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;v!==null;){if(d=dl(v),d===null)return;if(M=d.tag,M===5||M===6||M===26||M===27){n=c=d;continue t}v=v.parentNode}}n=n.return}nh(function(){var N=c,H=Iu(a),q=[];t:{var U=wh.get(t);if(U!==void 0){var P=Qs,it=t;switch(t){case"keypress":if(qs(a)===0)break t;case"keydown":case"keyup":P=g0;break;case"focusin":it="focus",P=Qu;break;case"focusout":it="blur",P=Qu;break;case"beforeblur":case"afterblur":P=Qu;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=a0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=_0;break;case Vh:case Dh:case Ah:P=n0;break;case Oh:P=v0;break;case"scroll":case"scrollend":P=t0;break;case"wheel":P=x0;break;case"copy":case"cut":case"paste":P=r0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=ch;break;case"toggle":case"beforetoggle":P=C0}var dt=(e&4)!==0,Yt=!dt&&(t==="scroll"||t==="scrollend"),O=dt?U!==null?U+"Capture":null:U;dt=[];for(var R=N,L;R!==null;){var G=R;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||O===null||(G=vn(R,O),G!=null&&dt.push(Wn(R,G,L))),Yt)break;R=R.return}0<dt.length&&(U=new P(U,it,null,a,H),q.push({event:U,listeners:dt}))}}if((e&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",U&&a!==ku&&(it=a.relatedTarget||a.fromElement)&&(dl(it)||it[hl]))break t;if((P||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,P?(it=a.relatedTarget||a.toElement,P=N,it=it?dl(it):null,it!==null&&(Yt=f(it),dt=it.tag,it!==Yt||dt!==5&&dt!==27&&dt!==6)&&(it=null)):(P=null,it=N),P!==it)){if(dt=uh,G="onMouseLeave",O="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(dt=ch,G="onPointerLeave",O="onPointerEnter",R="pointer"),Yt=P==null?U:yn(P),L=it==null?U:yn(it),U=new dt(G,R+"leave",P,a,H),U.target=Yt,U.relatedTarget=L,G=null,dl(H)===N&&(dt=new dt(O,R+"enter",it,a,H),dt.target=L,dt.relatedTarget=Yt,G=dt),Yt=G,P&&it)e:{for(dt=bv,O=P,R=it,L=0,G=O;G;G=dt(G))L++;G=0;for(var ut=R;ut;ut=dt(ut))G++;for(;0<L-G;)O=dt(O),L--;for(;0<G-L;)R=dt(R),G--;for(;L--;){if(O===R||R!==null&&O===R.alternate){dt=O;break e}O=dt(O),R=dt(R)}dt=null}else dt=null;P!==null&&em(q,U,P,dt,!1),it!==null&&Yt!==null&&em(q,Yt,it,dt,!0)}}t:{if(U=N?yn(N):window,P=U.nodeName&&U.nodeName.toLowerCase(),P==="select"||P==="input"&&U.type==="file")var Lt=yh;else if(ph(U))if(vh)Lt=w0;else{Lt=A0;var nt=D0}else P=U.nodeName,!P||P.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?N&&Pu(N.elementType)&&(Lt=yh):Lt=O0;if(Lt&&(Lt=Lt(t,N))){_h(q,Lt,a,H);break t}nt&&nt(t,U,N),t==="focusout"&&N&&U.type==="number"&&N.memoizedProps.value!=null&&ju(U,"number",U.value)}switch(nt=N?yn(N):window,t){case"focusin":(ph(nt)||nt.contentEditable==="true")&&(bl=nt,to=N,Bn=null);break;case"focusout":Bn=to=bl=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,Bh(q,a,H);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":Bh(q,a,H)}var vt;if(Ju)t:{switch(t){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else xl?gh(t,a)&&(Tt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(fh&&a.locale!=="ko"&&(xl||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&xl&&(vt=sh()):(oi=H,Gu="value"in oi?oi.value:oi.textContent,xl=!0)),nt=Ur(N,Tt),0<nt.length&&(Tt=new oh(Tt,t,null,a,H),q.push({event:Tt,listeners:nt}),vt?Tt.data=vt:(vt=mh(a),vt!==null&&(Tt.data=vt)))),(vt=T0?E0(t,a):B0(t,a))&&(Tt=Ur(N,"onBeforeInput"),0<Tt.length&&(nt=new oh("onBeforeInput","beforeinput",null,a,H),q.push({event:nt,listeners:Tt}),nt.data=vt)),yv(q,t,N,a,H)}$g(q,e)})}function Wn(t,e,a){return{instance:t,listener:e,currentTarget:a}}function Ur(t,e){for(var a=e+"Capture",n=[];t!==null;){var u=t,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=vn(t,a),u!=null&&n.unshift(Wn(t,u,c)),u=vn(t,e),u!=null&&n.push(Wn(t,u,c))),t.tag===3)return n;t=t.return}return[]}function bv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function em(t,e,a,n,u){for(var c=e._reactName,d=[];a!==null&&a!==n;){var v=a,M=v.alternate,N=v.stateNode;if(v=v.tag,M!==null&&M===n)break;v!==5&&v!==26&&v!==27||N===null||(M=N,u?(N=vn(a,c),N!=null&&d.unshift(Wn(a,N,M))):u||(N=vn(a,c),N!=null&&d.push(Wn(a,N,M)))),a=a.return}d.length!==0&&t.push({event:e,listeners:d})}var Cv=/\r\n?/g,Mv=/\u0000|\uFFFD/g;function am(t){return(typeof t=="string"?t:""+t).replace(Cv,`
`).replace(Mv,"")}function im(t,e){return e=am(e),am(t)===e}function Ht(t,e,a,n,u,c){switch(a){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||yl(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&yl(t,""+n);break;case"className":Is(t,"class",n);break;case"tabIndex":Is(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(t,a,n);break;case"style":ih(t,n,c);break;case"data":if(e!=="object"){Is(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||a!=="href")){t.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(a);break}n=Ys(""+n),t.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(e!=="input"&&Ht(t,e,"name",u.name,u,null),Ht(t,e,"formEncType",u.formEncType,u,null),Ht(t,e,"formMethod",u.formMethod,u,null),Ht(t,e,"formTarget",u.formTarget,u,null)):(Ht(t,e,"encType",u.encType,u,null),Ht(t,e,"method",u.method,u,null),Ht(t,e,"target",u.target,u,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(a);break}n=Ys(""+n),t.setAttribute(a,n);break;case"onClick":n!=null&&(t.onclick=Ua);break;case"onScroll":n!=null&&Ct("scroll",t);break;case"onScrollEnd":n!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}a=Ys(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,""+n):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":n===!0?t.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(a,n):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(a,n):t.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(a):t.setAttribute(a,n);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),ks(t,"popover",n);break;case"xlinkActuate":Fa(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Fa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Fa(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Fa(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Fa(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Fa(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Fa(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Fa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Fa(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ks(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wy.get(a)||a,ks(t,a,n))}}function Bc(t,e,a,n,u,c){switch(a){case"style":ih(t,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(a=n.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof n=="string"?yl(t,n):(typeof n=="number"||typeof n=="bigint")&&yl(t,""+n);break;case"onScroll":n!=null&&Ct("scroll",t);break;case"onScrollEnd":n!=null&&Ct("scrollend",t);break;case"onClick":n!=null&&(t.onclick=Ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qf.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),e=a.slice(2,u?a.length-7:void 0),c=t[ze]||null,c=c!=null?c[a]:null,typeof c=="function"&&t.removeEventListener(e,c,u),typeof n=="function")){typeof c!="function"&&c!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(e,n,u);break t}a in t?t[a]=n:n===!0?t.setAttribute(a,""):ks(t,a,n)}}}function Te(t,e,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var n=!1,u=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d!=null)switch(c){case"src":n=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Ht(t,e,c,d,a,null)}}u&&Ht(t,e,"srcSet",a.srcSet,a,null),n&&Ht(t,e,"src",a.src,a,null);return;case"input":Ct("invalid",t);var v=c=d=u=null,M=null,N=null;for(n in a)if(a.hasOwnProperty(n)){var H=a[n];if(H!=null)switch(n){case"name":u=H;break;case"type":d=H;break;case"checked":M=H;break;case"defaultChecked":N=H;break;case"value":c=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,e));break;default:Ht(t,e,n,H,a,null)}}$f(t,c,v,M,N,d,u,!1);return;case"select":Ct("invalid",t),n=d=c=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":c=v;break;case"defaultValue":d=v;break;case"multiple":n=v;default:Ht(t,e,u,v,a,null)}e=c,a=d,t.multiple=!!n,e!=null?_l(t,!!n,e,!1):a!=null&&_l(t,!!n,a,!0);return;case"textarea":Ct("invalid",t),c=u=n=null;for(d in a)if(a.hasOwnProperty(d)&&(v=a[d],v!=null))switch(d){case"value":n=v;break;case"defaultValue":u=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ht(t,e,d,v,a,null)}eh(t,n,u,c);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(n=a[M],n!=null))switch(M){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ht(t,e,M,n,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(n=0;n<Kn.length;n++)Ct(Kn[n],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(n=a[N],n!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Ht(t,e,N,n,a,null)}return;default:if(Pu(e)){for(H in a)a.hasOwnProperty(H)&&(n=a[H],n!==void 0&&Bc(t,e,H,n,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(n=a[v],n!=null&&Ht(t,e,v,n,a,null))}function Tv(t,e,a,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,v=null,M=null,N=null,H=null;for(P in a){var q=a[P];if(a.hasOwnProperty(P)&&q!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":M=q;default:n.hasOwnProperty(P)||Ht(t,e,P,null,n,q)}}for(var U in n){var P=n[U];if(q=a[U],n.hasOwnProperty(U)&&(P!=null||q!=null))switch(U){case"type":c=P;break;case"name":u=P;break;case"checked":N=P;break;case"defaultChecked":H=P;break;case"value":d=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,e));break;default:P!==q&&Ht(t,e,U,P,n,q)}}Uu(t,d,v,M,N,H,c,u);return;case"select":P=d=v=U=null;for(c in a)if(M=a[c],a.hasOwnProperty(c)&&M!=null)switch(c){case"value":break;case"multiple":P=M;default:n.hasOwnProperty(c)||Ht(t,e,c,null,n,M)}for(u in n)if(c=n[u],M=a[u],n.hasOwnProperty(u)&&(c!=null||M!=null))switch(u){case"value":U=c;break;case"defaultValue":v=c;break;case"multiple":d=c;default:c!==M&&Ht(t,e,u,c,n,M)}e=v,a=d,n=P,U!=null?_l(t,!!a,U,!1):!!n!=!!a&&(e!=null?_l(t,!!a,e,!0):_l(t,!!a,a?[]:"",!1));return;case"textarea":P=U=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!n.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ht(t,e,v,null,n,u)}for(d in n)if(u=n[d],c=a[d],n.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":U=u;break;case"defaultValue":P=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==c&&Ht(t,e,d,u,n,c)}th(t,U,P);return;case"option":for(var it in a)if(U=a[it],a.hasOwnProperty(it)&&U!=null&&!n.hasOwnProperty(it))switch(it){case"selected":t.selected=!1;break;default:Ht(t,e,it,null,n,U)}for(M in n)if(U=n[M],P=a[M],n.hasOwnProperty(M)&&U!==P&&(U!=null||P!=null))switch(M){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ht(t,e,M,U,n,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)U=a[dt],a.hasOwnProperty(dt)&&U!=null&&!n.hasOwnProperty(dt)&&Ht(t,e,dt,null,n,U);for(N in n)if(U=n[N],P=a[N],n.hasOwnProperty(N)&&U!==P&&(U!=null||P!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,e));break;default:Ht(t,e,N,U,n,P)}return;default:if(Pu(e)){for(var Yt in a)U=a[Yt],a.hasOwnProperty(Yt)&&U!==void 0&&!n.hasOwnProperty(Yt)&&Bc(t,e,Yt,void 0,n,U);for(H in n)U=n[H],P=a[H],!n.hasOwnProperty(H)||U===P||U===void 0&&P===void 0||Bc(t,e,H,U,n,P);return}}for(var O in a)U=a[O],a.hasOwnProperty(O)&&U!=null&&!n.hasOwnProperty(O)&&Ht(t,e,O,null,n,U);for(q in n)U=n[q],P=a[q],!n.hasOwnProperty(q)||U===P||U==null&&P==null||Ht(t,e,q,U,n,P)}function lm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ev(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var u=a[n],c=u.transferSize,d=u.initiatorType,v=u.duration;if(c&&v&&lm(d)){for(d=0,v=u.responseEnd,n+=1;n<a.length;n++){var M=a[n],N=M.startTime;if(N>v)break;var H=M.transferSize,q=M.initiatorType;H&&lm(q)&&(M=M.responseEnd,d+=H*(M<v?1:(v-N)/(M-N)))}if(--n,e+=8*(c+d)/(u.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rc=null,Vc=null;function jr(t){return t.nodeType===9?t:t.ownerDocument}function nm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Dc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ac=null;function Bv(){var t=window.event;return t&&t.type==="popstate"?t===Ac?!1:(Ac=t,!0):(Ac=null,!1)}var rm=typeof setTimeout=="function"?setTimeout:void 0,Rv=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,Vv=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(t){return um.resolve(null).then(t).catch(Dv)}:rm;function Dv(t){setTimeout(function(){throw t})}function Ei(t){return t==="head"}function om(t,e){var a=e,n=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(n===0){t.removeChild(u),Zl(e);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")$n(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,$n(a);for(var c=a.firstChild;c;){var d=c.nextSibling,v=c.nodeName;c[_n]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=d}}else a==="body"&&$n(t.ownerDocument.body);a=u}while(a);Zl(e)}function cm(t,e){var a=t;t=0;do{var n=a.nextSibling;if(a.nodeType===1?e?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(e?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=n}while(a)}function Oc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var a=e;switch(e=e.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Oc(a),Nu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Av(t,e,a,n){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[_n])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=ha(t.nextSibling),t===null)break}return null}function Ov(t,e,a){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ha(t.nextSibling),t===null))return null;return t}function fm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=ha(t.nextSibling),t===null))return null;return t}function wc(t){return t.data==="$?"||t.data==="$~"}function zc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wv(t,e){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||a.readyState!=="loading")e();else{var n=function(){e(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Lc=null;function hm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(e===0)return ha(t.nextSibling);e--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||e++}t=t.nextSibling}return null}function dm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(e===0)return t;e--}else a!=="/$"&&a!=="/&"||e++}t=t.previousSibling}return null}function gm(t,e,a){switch(e=jr(a),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function $n(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Nu(t)}var da=new Map,mm=new Set;function Pr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=W.d;W.d={f:zv,r:Lv,D:Nv,C:Fv,L:Uv,m:jv,X:kv,S:Pv,M:Iv};function zv(){var t=ti.f(),e=Ar();return t||e}function Lv(t){var e=gl(t);e!==null&&e.tag===5&&e.type==="form"?Od(e):ti.r(t)}var ql=typeof document>"u"?null:document;function pm(t,e,a){var n=ql;if(n&&typeof e=="string"&&e){var u=na(e);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),mm.has(u)||(mm.add(u),t={rel:t,crossOrigin:a,href:e},n.querySelector(u)===null&&(e=n.createElement("link"),Te(e,"link",t),ye(e),n.head.appendChild(e)))}}function Nv(t){ti.D(t),pm("dns-prefetch",t,null)}function Fv(t,e){ti.C(t,e),pm("preconnect",t,e)}function Uv(t,e,a){ti.L(t,e,a);var n=ql;if(n&&t&&e){var u='link[rel="preload"][as="'+na(e)+'"]';e==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+na(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+na(a.imageSizes)+'"]')):u+='[href="'+na(t)+'"]';var c=u;switch(e){case"style":c=Xl(t);break;case"script":c=Ql(t)}da.has(c)||(t=S({rel:"preload",href:e==="image"&&a&&a.imageSrcSet?void 0:t,as:e},a),da.set(c,t),n.querySelector(u)!==null||e==="style"&&n.querySelector(ts(c))||e==="script"&&n.querySelector(es(c))||(e=n.createElement("link"),Te(e,"link",t),ye(e),n.head.appendChild(e)))}}function jv(t,e){ti.m(t,e);var a=ql;if(a&&t){var n=e&&typeof e.as=="string"?e.as:"script",u='link[rel="modulepreload"][as="'+na(n)+'"][href="'+na(t)+'"]',c=u;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ql(t)}if(!da.has(c)&&(t=S({rel:"modulepreload",href:t},e),da.set(c,t),a.querySelector(u)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(es(c)))return}n=a.createElement("link"),Te(n,"link",t),ye(n),a.head.appendChild(n)}}}function Pv(t,e,a){ti.S(t,e,a);var n=ql;if(n&&t){var u=ml(n).hoistableStyles,c=Xl(t);e=e||"default";var d=u.get(c);if(!d){var v={loading:0,preload:null};if(d=n.querySelector(ts(c)))v.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},a),(a=da.get(c))&&Nc(t,a);var M=d=n.createElement("link");ye(M),Te(M,"link",t),M._p=new Promise(function(N,H){M.onload=N,M.onerror=H}),M.addEventListener("load",function(){v.loading|=1}),M.addEventListener("error",function(){v.loading|=2}),v.loading|=4,kr(d,e,n)}d={type:"stylesheet",instance:d,count:1,state:v},u.set(c,d)}}}function kv(t,e){ti.X(t,e);var a=ql;if(a&&t){var n=ml(a).hoistableScripts,u=Ql(t),c=n.get(u);c||(c=a.querySelector(es(u)),c||(t=S({src:t,async:!0},e),(e=da.get(u))&&Fc(t,e),c=a.createElement("script"),ye(c),Te(c,"link",t),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(u,c))}}function Iv(t,e){ti.M(t,e);var a=ql;if(a&&t){var n=ml(a).hoistableScripts,u=Ql(t),c=n.get(u);c||(c=a.querySelector(es(u)),c||(t=S({src:t,async:!0,type:"module"},e),(e=da.get(u))&&Fc(t,e),c=a.createElement("script"),ye(c),Te(c,"link",t),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(u,c))}}function _m(t,e,a,n){var u=(u=xt.current)?Pr(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(e=Xl(a.href),a=ml(u).hoistableStyles,n=a.get(e),n||(n={type:"style",instance:null,count:0,state:null},a.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xl(a.href);var c=ml(u).hoistableStyles,d=c.get(t);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,d),(c=u.querySelector(ts(t)))&&!c._p&&(d.instance=c,d.state.loading=5),da.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},da.set(t,a),c||Hv(u,t,a,d.state))),e&&n===null)throw Error(r(528,""));return d}if(e&&n!==null)throw Error(r(529,""));return null;case"script":return e=a.async,a=a.src,typeof a=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ql(a),a=ml(u).hoistableScripts,n=a.get(e),n||(n={type:"script",instance:null,count:0,state:null},a.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Xl(t){return'href="'+na(t)+'"'}function ts(t){return'link[rel="stylesheet"]['+t+"]"}function ym(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Hv(t,e,a,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),Te(e,"link",a),ye(e),t.head.appendChild(e))}function Ql(t){return'[src="'+na(t)+'"]'}function es(t){return"script[async]"+t}function vm(t,e,a){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+na(a.href)+'"]');if(n)return e.instance=n,ye(n),n;var u=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),ye(n),Te(n,"style",u),kr(n,a.precedence,t),e.instance=n;case"stylesheet":u=Xl(a.href);var c=t.querySelector(ts(u));if(c)return e.state.loading|=4,e.instance=c,ye(c),c;n=ym(a),(u=da.get(u))&&Nc(n,u),c=(t.ownerDocument||t).createElement("link"),ye(c);var d=c;return d._p=new Promise(function(v,M){d.onload=v,d.onerror=M}),Te(c,"link",n),e.state.loading|=4,kr(c,a.precedence,t),e.instance=c;case"script":return c=Ql(a.src),(u=t.querySelector(es(c)))?(e.instance=u,ye(u),u):(n=a,(u=da.get(c))&&(n=S({},a),Fc(n,u)),t=t.ownerDocument||t,u=t.createElement("script"),ye(u),Te(u,"link",n),t.head.appendChild(u),e.instance=u);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(n=e.instance,e.state.loading|=4,kr(n,a.precedence,t));return e.instance}function kr(t,e,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=n.length?n[n.length-1]:null,c=u,d=0;d<n.length;d++){var v=n[d];if(v.dataset.precedence===e)c=v;else if(c!==u)break}c?c.parentNode.insertBefore(t,c.nextSibling):(e=a.nodeType===9?a.head:a,e.insertBefore(t,e.firstChild))}function Nc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Fc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ir=null;function Sm(t,e,a){if(Ir===null){var n=new Map,u=Ir=new Map;u.set(a,n)}else u=Ir,n=u.get(a),n||(n=new Map,u.set(a,n));if(n.has(t))return n;for(n.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var c=a[u];if(!(c[_n]||c[xe]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(e)||"";d=t+d;var v=n.get(d);v?v.push(c):n.set(d,[c])}}return n}function xm(t,e,a){t=t.ownerDocument||t,t.head.insertBefore(a,e==="title"?t.querySelector("head > title"):null)}function Yv(t,e,a){if(a===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function bm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Gv(t,e,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Xl(n.href),c=e.querySelector(ts(u));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Hr.bind(t),e.then(t,t)),a.state.loading|=4,a.instance=c,ye(c);return}c=e.ownerDocument||e,n=ym(n),(u=da.get(u))&&Nc(n,u),c=c.createElement("link"),ye(c);var d=c;d._p=new Promise(function(v,M){d.onload=v,d.onerror=M}),Te(c,"link",n),a.instance=c}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hr.bind(t),e.addEventListener("load",a),e.addEventListener("error",a))}}var Uc=0;function qv(t,e){return t.stylesheets&&t.count===0&&Gr(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var n=setTimeout(function(){if(t.stylesheets&&Gr(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4+e);0<t.imgBytes&&Uc===0&&(Uc=62500*Ev());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gr(t,t.stylesheets),t.unsuspend)){var c=t.unsuspend;t.unsuspend=null,c()}},(t.imgBytes>Uc?50:800)+e);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(u)}}:null}function Hr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yr=null;function Gr(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yr=new Map,e.forEach(Xv,t),Yr=null,Hr.call(t))}function Xv(t,e){if(!(e.state.loading&4)){var a=Yr.get(t);if(a)var n=a.get(null);else{a=new Map,Yr.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),n=d)}n&&a.set(null,n)}u=e.instance,d=u.getAttribute("data-precedence"),c=a.get(d)||n,c===n&&a.set(null,u),a.set(d,u),this.count++,n=Hr.bind(this),u.addEventListener("load",n),u.addEventListener("error",n),c?c.parentNode.insertBefore(u,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),e.state.loading|=4}}var as={$$typeof:A,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Qv(t,e,a,n,u,c,d,v,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ou(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.hiddenUpdates=Ou(null),this.identifierPrefix=n,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Cm(t,e,a,n,u,c,d,v,M,N,H,q){return t=new Qv(t,e,a,d,M,N,H,q,v),e=1,c===!0&&(e|=24),c=qe(3,null,null,e),t.current=c,c.stateNode=t,e=_o(),e.refCount++,t.pooledCache=e,e.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:e},xo(c),t}function Mm(t){return t?(t=Tl,t):Tl}function Tm(t,e,a,n,u,c){u=Mm(u),n.context===null?n.context=u:n.pendingContext=u,n=mi(e),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=pi(t,n,e),a!==null&&(Pe(a,t,e),zn(a,t,e))}function Em(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function jc(t,e){Em(t,e),(t=t.alternate)&&Em(t,e)}function Bm(t){if(t.tag===13||t.tag===31){var e=Yi(t,67108864);e!==null&&Pe(e,t,67108864),jc(t,67108864)}}function Rm(t){if(t.tag===13||t.tag===31){var e=Ke();e=wu(e);var a=Yi(t,e);a!==null&&Pe(a,t,e),jc(t,e)}}var qr=!0;function Zv(t,e,a,n){var u=k.T;k.T=null;var c=W.p;try{W.p=2,Pc(t,e,a,n)}finally{W.p=c,k.T=u}}function Jv(t,e,a,n){var u=k.T;k.T=null;var c=W.p;try{W.p=8,Pc(t,e,a,n)}finally{W.p=c,k.T=u}}function Pc(t,e,a,n){if(qr){var u=kc(n);if(u===null)Ec(t,e,n,Xr,a),Dm(t,n);else if(Wv(u,t,e,a,n))n.stopPropagation();else if(Dm(t,n),e&4&&-1<Kv.indexOf(t)){for(;u!==null;){var c=gl(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=ji(c.pendingLanes);if(d!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;d;){var M=1<<31-De(d);v.entanglements[1]|=M,d&=~M}Da(c),(Ut&6)===0&&(Vr=$()+500,Jn(0))}}break;case 31:case 13:v=Yi(c,2),v!==null&&Pe(v,c,2),Ar(),jc(c,2)}if(c=kc(n),c===null&&Ec(t,e,n,Xr,a),c===u)break;u=c}u!==null&&n.stopPropagation()}else Ec(t,e,n,null,a)}}function kc(t){return t=Iu(t),Ic(t)}var Xr=null;function Ic(t){if(Xr=null,t=dl(t),t!==null){var e=f(t);if(e===null)t=null;else{var a=e.tag;if(a===13){if(t=h(e),t!==null)return t;t=null}else if(a===31){if(t=m(e),t!==null)return t;t=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Xr=t,null}function Vm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case K:return 2;case rt:return 8;case Dt:case Ft:return 32;case _e:return 268435456;default:return 32}default:return 32}}var Hc=!1,Bi=null,Ri=null,Vi=null,is=new Map,ls=new Map,Di=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(e.pointerId)}}function ns(t,e,a,n,u,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[u]},e!==null&&(e=gl(e),e!==null&&Bm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,u!==null&&e.indexOf(u)===-1&&e.push(u),t)}function Wv(t,e,a,n,u){switch(e){case"focusin":return Bi=ns(Bi,t,e,a,n,u),!0;case"dragenter":return Ri=ns(Ri,t,e,a,n,u),!0;case"mouseover":return Vi=ns(Vi,t,e,a,n,u),!0;case"pointerover":var c=u.pointerId;return is.set(c,ns(is.get(c)||null,t,e,a,n,u)),!0;case"gotpointercapture":return c=u.pointerId,ls.set(c,ns(ls.get(c)||null,t,e,a,n,u)),!0}return!1}function Am(t){var e=dl(t.target);if(e!==null){var a=f(e);if(a!==null){if(e=a.tag,e===13){if(e=h(a),e!==null){t.blockedOn=e,Gf(t.priority,function(){Rm(a)});return}}else if(e===31){if(e=m(a),e!==null){t.blockedOn=e,Gf(t.priority,function(){Rm(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var a=kc(t.nativeEvent);if(a===null){a=t.nativeEvent;var n=new a.constructor(a.type,a);ku=n,a.target.dispatchEvent(n),ku=null}else return e=gl(a),e!==null&&Bm(e),t.blockedOn=a,!1;e.shift()}return!0}function Om(t,e,a){Qr(t)&&a.delete(e)}function $v(){Hc=!1,Bi!==null&&Qr(Bi)&&(Bi=null),Ri!==null&&Qr(Ri)&&(Ri=null),Vi!==null&&Qr(Vi)&&(Vi=null),is.forEach(Om),ls.forEach(Om)}function Zr(t,e){t.blockedOn===e&&(t.blockedOn=null,Hc||(Hc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$v)))}var Jr=null;function wm(t){Jr!==t&&(Jr=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Jr===t&&(Jr=null);for(var e=0;e<t.length;e+=3){var a=t[e],n=t[e+1],u=t[e+2];if(typeof n!="function"){if(Ic(n||a)===null)continue;break}var c=gl(a);c!==null&&(t.splice(e,3),e-=3,ko(c,{pending:!0,data:u,method:a.method,action:n},n,u))}}))}function Zl(t){function e(M){return Zr(M,t)}Bi!==null&&Zr(Bi,t),Ri!==null&&Zr(Ri,t),Vi!==null&&Zr(Vi,t),is.forEach(e),ls.forEach(e);for(var a=0;a<Di.length;a++){var n=Di[a];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Di.length&&(a=Di[0],a.blockedOn===null);)Am(a),a.blockedOn===null&&Di.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var u=a[n],c=a[n+1],d=u[ze]||null;if(typeof c=="function")d||wm(a);else if(d){var v=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[ze]||null)v=d.formAction;else if(Ic(u)!==null)continue}else v=d.action;typeof v=="function"?a[n+1]=v:(a.splice(n,3),n-=3),wm(a)}}}function zm(){function t(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function e(){u!==null&&(u(),u=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),u!==null&&(u(),u=null)}}}function Yc(t){this._internalRoot=t}Kr.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var a=e.current,n=Ke();Tm(a,n,t,e,null,null)},Kr.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tm(t.current,2,null,t,null,null),Ar(),e[hl]=null}};function Kr(t){this._internalRoot=t}Kr.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yf();t={blockedOn:null,target:t,priority:e};for(var a=0;a<Di.length&&e!==0&&e<Di[a].priority;a++);Di.splice(a,0,t),a===0&&Am(t)}};var Lm=i.version;if(Lm!=="19.2.4")throw Error(r(527,Lm,"19.2.4"));W.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(e),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var tS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{Ui=Wr.inject(tS),Se=Wr}catch{}}return rs.createRoot=function(t,e){if(!o(t))throw Error(r(299));var a=!1,n="",u=Id,c=Hd,d=Yd;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(u=e.onUncaughtError),e.onCaughtError!==void 0&&(c=e.onCaughtError),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),e=Cm(t,1,!1,null,null,a,n,null,u,c,d,zm),t[hl]=e.current,Tc(t),new Yc(e)},rs.hydrateRoot=function(t,e,a){if(!o(t))throw Error(r(299));var n=!1,u="",c=Id,d=Hd,v=Yd,M=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),e=Cm(t,1,!0,e,a??null,n,u,M,c,d,v,zm),e.context=Mm(null),a=e.current,n=Ke(),n=wu(n),u=mi(n),u.callback=null,pi(a,u,n),a=n,e.current.lanes=a,pn(e,a),Da(e),t[hl]=e.current,Tc(t),new Kr(e)},rs.version="19.2.4",rs}var Gm;function dS(){if(Gm)return Xc.exports;Gm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),Xc.exports=hS(),Xc.exports}var gS=dS();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qm="popstate";function Xm(s){return typeof s=="object"&&s!=null&&"pathname"in s&&"search"in s&&"hash"in s&&"state"in s&&"key"in s}function mS(s={}){function i(r,o){var g;let f=(g=o.state)==null?void 0:g.masked,{pathname:h,search:m,hash:p}=f||r.location;return gf("",{pathname:h,search:m,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default",f?{pathname:r.location.pathname,search:r.location.search,hash:r.location.hash}:void 0)}function l(r,o){return typeof o=="string"?o:Ss(o)}return _S(i,l,null,s)}function $t(s,i){if(s===!1||s===null||typeof s>"u")throw new Error(i)}function Ta(s,i){if(!s){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function pS(){return Math.random().toString(36).substring(2,10)}function Qm(s,i){return{usr:s.state,key:s.key,idx:i,masked:s.unstable_mask?{pathname:s.pathname,search:s.search,hash:s.hash}:void 0}}function gf(s,i,l=null,r,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof i=="string"?cn(i):i,state:l,key:i&&i.key||r||pS(),unstable_mask:o}}function Ss({pathname:s="/",search:i="",hash:l=""}){return i&&i!=="?"&&(s+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(s+=l.charAt(0)==="#"?l:"#"+l),s}function cn(s){let i={};if(s){let l=s.indexOf("#");l>=0&&(i.hash=s.substring(l),s=s.substring(0,l));let r=s.indexOf("?");r>=0&&(i.search=s.substring(r),s=s.substring(0,r)),s&&(i.pathname=s)}return i}function _S(s,i,l,r={}){let{window:o=document.defaultView,v5Compat:f=!1}=r,h=o.history,m="POP",p=null,g=y();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function y(){return(h.state||{idx:null}).idx}function S(){m="POP";let D=y(),j=D==null?null:D-g;g=D,p&&p({action:m,location:C.location,delta:j})}function E(D,j){m="PUSH";let F=Xm(D)?D:gf(C.location,D,j);g=y()+1;let A=Qm(F,g),J=C.createHref(F.unstable_mask||F);try{h.pushState(A,"",J)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(J)}f&&p&&p({action:m,location:C.location,delta:1})}function b(D,j){m="REPLACE";let F=Xm(D)?D:gf(C.location,D,j);g=y();let A=Qm(F,g),J=C.createHref(F.unstable_mask||F);h.replaceState(A,"",J),f&&p&&p({action:m,location:C.location,delta:0})}function B(D){return yS(D)}let C={get action(){return m},get location(){return s(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qm,S),p=D,()=>{o.removeEventListener(qm,S),p=null}},createHref(D){return i(o,D)},createURL:B,encodeLocation(D){let j=B(D);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:b,go(D){return h.go(D)}};return C}function yS(s,i=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),$t(l,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Ss(s);return r=r.replace(/ $/,"%20"),!i&&r.startsWith("//")&&(r=l+r),new URL(r,l)}function B_(s,i,l="/"){return vS(s,i,l,!1)}function vS(s,i,l,r){let o=typeof i=="string"?cn(i):i,f=ni(o.pathname||"/",l);if(f==null)return null;let h=R_(s);SS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=AS(f);m=VS(h[p],g,r)}return m}function R_(s,i=[],l=[],r="",o=!1){let f=(h,m,p=o,g)=>{let y={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&p)return;$t(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let S=Oa([r,y.relativePath]),E=l.concat(y);h.children&&h.children.length>0&&($t(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),R_(h.children,i,E,S,p)),!(h.path==null&&!h.index)&&i.push({path:S,score:BS(S,h.index),routesMeta:E})};return s.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))f(h,m);else for(let g of V_(h.path))f(h,m,!0,g)}),i}function V_(s){let i=s.split("/");if(i.length===0)return[];let[l,...r]=i,o=l.endsWith("?"),f=l.replace(/\?$/,"");if(r.length===0)return o?[f,""]:[f];let h=V_(r.join("/")),m=[];return m.push(...h.map(p=>p===""?f:[f,p].join("/"))),o&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function SS(s){s.sort((i,l)=>i.score!==l.score?l.score-i.score:RS(i.routesMeta.map(r=>r.childrenIndex),l.routesMeta.map(r=>r.childrenIndex)))}var xS=/^:[\w-]+$/,bS=3,CS=2,MS=1,TS=10,ES=-2,Zm=s=>s==="*";function BS(s,i){let l=s.split("/"),r=l.length;return l.some(Zm)&&(r+=ES),i&&(r+=CS),l.filter(o=>!Zm(o)).reduce((o,f)=>o+(xS.test(f)?bS:f===""?MS:TS),r)}function RS(s,i){return s.length===i.length&&s.slice(0,-1).every((r,o)=>r===i[o])?s[s.length-1]-i[i.length-1]:0}function VS(s,i,l=!1){let{routesMeta:r}=s,o={},f="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,y=f==="/"?i:i.slice(f.length)||"/",S=cu({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),E=p.route;if(!S&&g&&l&&!r[r.length-1].route.index&&(S=cu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Oa([f,S.pathname]),pathnameBase:LS(Oa([f,S.pathnameBase])),route:E}),S.pathnameBase!=="/"&&(f=Oa([f,S.pathnameBase]))}return h}function cu(s,i){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,r]=DS(s.path,s.caseSensitive,s.end),o=i.match(l);if(!o)return null;let f=o[0],h=f.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:S},E)=>{if(y==="*"){let B=m[E]||"";h=f.slice(0,f.length-B.length).replace(/(.)\/+$/,"$1")}const b=m[E];return S&&!b?g[y]=void 0:g[y]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:h,pattern:s}}function DS(s,i=!1,l=!0){Ta(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p,g,y)=>{if(r.push({paramName:m,isOptional:p!=null}),p){let S=y.charAt(g+h.length);return S&&S!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,i?void 0:"i"),r]}function AS(s){try{return s.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Ta(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),s}}function ni(s,i){if(i==="/")return s;if(!s.toLowerCase().startsWith(i.toLowerCase()))return null;let l=i.endsWith("/")?i.length-1:i.length,r=s.charAt(l);return r&&r!=="/"?null:s.slice(l)||"/"}var OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function wS(s,i="/"){let{pathname:l,search:r="",hash:o=""}=typeof s=="string"?cn(s):s,f;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?f=Jm(l.substring(1),"/"):f=Jm(l,i)):f=i,{pathname:f,search:NS(r),hash:FS(o)}}function Jm(s,i){let l=i.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?l.length>1&&l.pop():o!=="."&&l.push(o)}),l.length>1?l.join("/"):"/"}function Kc(s,i,l,r){return`Cannot include a '${s}' character in a manually specified \`to.${i}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zS(s){return s.filter((i,l)=>l===0||i.route.path&&i.route.path.length>0)}function Cf(s){let i=zS(s);return i.map((l,r)=>r===i.length-1?l.pathname:l.pathnameBase)}function xu(s,i,l,r=!1){let o;typeof s=="string"?o=cn(s):(o={...s},$t(!o.pathname||!o.pathname.includes("?"),Kc("?","pathname","search",o)),$t(!o.pathname||!o.pathname.includes("#"),Kc("#","pathname","hash",o)),$t(!o.search||!o.search.includes("#"),Kc("#","search","hash",o)));let f=s===""||o.pathname==="",h=f?"/":o.pathname,m;if(h==null)m=l;else{let S=i.length-1;if(!r&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),S-=1;o.pathname=E.join("/")}m=S>=0?i[S]:"/"}let p=wS(o,m),g=h&&h!=="/"&&h.endsWith("/"),y=(f||h===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Oa=s=>s.join("/").replace(/\/\/+/g,"/"),LS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),NS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,FS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,US=class{constructor(s,i,l,r=!1){this.status=s,this.statusText=i||"",this.internal=r,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function jS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function PS(s){return s.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function A_(s,i){let l=s;if(typeof l!="string"||!OS.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let r=l,o=!1;if(D_)try{let f=new URL(window.location.href),h=l.startsWith("//")?new URL(f.protocol+l):new URL(l),m=ni(h.pathname,i);h.origin===f.origin&&m!=null?l=m+h.search+h.hash:o=!0}catch{Ta(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O_=["POST","PUT","PATCH","DELETE"];new Set(O_);var kS=["GET",...O_];new Set(kS);var fn=w.createContext(null);fn.displayName="DataRouter";var bu=w.createContext(null);bu.displayName="DataRouterState";var IS=w.createContext(!1),w_=w.createContext({isTransitioning:!1});w_.displayName="ViewTransition";var HS=w.createContext(new Map);HS.displayName="Fetchers";var YS=w.createContext(null);YS.displayName="Await";var aa=w.createContext(null);aa.displayName="Navigation";var Vs=w.createContext(null);Vs.displayName="Location";var wa=w.createContext({outlet:null,matches:[],isDataRoute:!1});wa.displayName="Route";var Mf=w.createContext(null);Mf.displayName="RouteError";var z_="REACT_ROUTER_ERROR",GS="REDIRECT",qS="ROUTE_ERROR_RESPONSE";function XS(s){if(s.startsWith(`${z_}:${GS}:{`))try{let i=JSON.parse(s.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function QS(s){if(s.startsWith(`${z_}:${qS}:{`))try{let i=JSON.parse(s.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new US(i.status,i.statusText,i.data)}catch{}}function ZS(s,{relative:i}={}){$t(hn(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:r}=w.useContext(aa),{hash:o,pathname:f,search:h}=Ds(s,{relative:i}),m=f;return l!=="/"&&(m=f==="/"?l:Oa([l,f])),r.createHref({pathname:m,search:h,hash:o})}function hn(){return w.useContext(Vs)!=null}function si(){return $t(hn(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Vs).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N_(s){w.useContext(aa).static||w.useLayoutEffect(s)}function F_(){let{isDataRoute:s}=w.useContext(wa);return s?ux():JS()}function JS(){$t(hn(),"useNavigate() may be used only in the context of a <Router> component.");let s=w.useContext(fn),{basename:i,navigator:l}=w.useContext(aa),{matches:r}=w.useContext(wa),{pathname:o}=si(),f=JSON.stringify(Cf(r)),h=w.useRef(!1);return N_(()=>{h.current=!0}),w.useCallback((p,g={})=>{if(Ta(h.current,L_),!h.current)return;if(typeof p=="number"){l.go(p);return}let y=xu(p,JSON.parse(f),o,g.relative==="path");s==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:Oa([i,y.pathname])),(g.replace?l.replace:l.push)(y,g.state,g)},[i,l,f,o,s])}w.createContext(null);function Ds(s,{relative:i}={}){let{matches:l}=w.useContext(wa),{pathname:r}=si(),o=JSON.stringify(Cf(l));return w.useMemo(()=>xu(s,JSON.parse(o),r,i==="path"),[s,o,r,i])}function KS(s,i){return U_(s,i)}function U_(s,i,l){var D;$t(hn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=w.useContext(aa),{matches:o}=w.useContext(wa),f=o[o.length-1],h=f?f.params:{},m=f?f.pathname:"/",p=f?f.pathnameBase:"/",g=f&&f.route;{let j=g&&g.path||"";P_(m,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=si(),S;if(i){let j=typeof i=="string"?cn(i):i;$t(p==="/"||((D=j.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),S=j}else S=y;let E=S.pathname||"/",b=E;if(p!=="/"){let j=p.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let B=B_(s,{pathname:b});Ta(g||B!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ta(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=ax(B&&B.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Oa([p,r.encodeLocation?r.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Oa([p,r.encodeLocation?r.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,l);return i&&C?w.createElement(Vs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...S},navigationType:"POP"}},C):C}function WS(){let s=rx(),i=jS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:f},"ErrorBoundary")," or"," ",w.createElement("code",{style:f},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},i),l?w.createElement("pre",{style:o},l):null,h)}var $S=w.createElement(WS,null),j_=class extends w.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,i){return i.location!==s.location||i.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:i.error,location:i.location,revalidation:s.revalidation||i.revalidation}}componentDidCatch(s,i){this.props.onError?this.props.onError(s,i):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const l=QS(s.digest);l&&(s=l)}let i=s!==void 0?w.createElement(wa.Provider,{value:this.props.routeContext},w.createElement(Mf.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?w.createElement(tx,{error:s},i):i}};j_.contextType=IS;var Wc=new WeakMap;function tx({children:s,error:i}){let{basename:l}=w.useContext(aa);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let r=XS(i.digest);if(r){let o=Wc.get(i);if(o)throw o;let f=A_(r.location,l);if(D_&&!Wc.get(i))if(f.isExternal||r.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:r.replace}));throw Wc.set(i,h),h}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return s}function ex({routeContext:s,match:i,children:l}){let r=w.useContext(fn);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),w.createElement(wa.Provider,{value:s},l)}function ax(s,i=[],l){let r=l==null?void 0:l.state;if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let o=s,f=r==null?void 0:r.errors;if(f!=null){let y=o.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);$t(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,m=-1;if(l&&r){h=r.renderFallback;for(let y=0;y<o.length;y++){let S=o[y];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(m=y),S.route.id){let{loaderData:E,errors:b}=r,B=S.route.loader&&!E.hasOwnProperty(S.route.id)&&(!b||b[S.route.id]===void 0);if(S.route.lazy||B){l.isStatic&&(h=!0),m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}}let p=l==null?void 0:l.onError,g=r&&p?(y,S)=>{var E,b;p(y,{location:r.location,params:((b=(E=r.matches)==null?void 0:E[0])==null?void 0:b.params)??{},unstable_pattern:PS(r.matches),errorInfo:S})}:void 0;return o.reduceRight((y,S,E)=>{let b,B=!1,C=null,D=null;r&&(b=f&&S.route.id?f[S.route.id]:void 0,C=S.route.errorElement||$S,h&&(m<0&&E===0?(P_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,D=null):m===E&&(B=!0,D=S.route.hydrateFallbackElement||null)));let j=i.concat(o.slice(0,E+1)),F=()=>{let A;return b?A=C:B?A=D:S.route.Component?A=w.createElement(S.route.Component,null):S.route.element?A=S.route.element:A=y,w.createElement(ex,{match:S,routeContext:{outlet:y,matches:j,isDataRoute:r!=null},children:A})};return r&&(S.route.ErrorBoundary||S.route.errorElement||E===0)?w.createElement(j_,{location:r.location,revalidation:r.revalidation,component:C,error:b,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:g}):F()},null)}function Tf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ix(s){let i=w.useContext(fn);return $t(i,Tf(s)),i}function lx(s){let i=w.useContext(bu);return $t(i,Tf(s)),i}function nx(s){let i=w.useContext(wa);return $t(i,Tf(s)),i}function Ef(s){let i=nx(s),l=i.matches[i.matches.length-1];return $t(l.route.id,`${s} can only be used on routes that contain a unique "id"`),l.route.id}function sx(){return Ef("useRouteId")}function rx(){var r;let s=w.useContext(Mf),i=lx("useRouteError"),l=Ef("useRouteError");return s!==void 0?s:(r=i.errors)==null?void 0:r[l]}function ux(){let{router:s}=ix("useNavigate"),i=Ef("useNavigate"),l=w.useRef(!1);return N_(()=>{l.current=!0}),w.useCallback(async(o,f={})=>{Ta(l.current,L_),l.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:i,...f}))},[s,i])}var Km={};function P_(s,i,l){!i&&!Km[s]&&(Km[s]=!0,Ta(!1,l))}w.memo(ox);function ox({routes:s,future:i,state:l,isStatic:r,onError:o}){return U_(s,void 0,{state:l,isStatic:r,onError:o})}function cx({to:s,replace:i,state:l,relative:r}){$t(hn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(aa);Ta(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=w.useContext(wa),{pathname:h}=si(),m=F_(),p=xu(s,Cf(f),h,r==="path"),g=JSON.stringify(p);return w.useEffect(()=>{m(JSON.parse(g),{replace:i,state:l,relative:r})},[m,g,r,i,l]),null}function en(s){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fx({basename:s="/",children:i=null,location:l,navigationType:r="POP",navigator:o,static:f=!1,unstable_useTransitions:h}){$t(!hn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:m,navigator:o,static:f,unstable_useTransitions:h,future:{}}),[m,o,f,h]);typeof l=="string"&&(l=cn(l));let{pathname:g="/",search:y="",hash:S="",state:E=null,key:b="default",unstable_mask:B}=l,C=w.useMemo(()=>{let D=ni(g,m);return D==null?null:{location:{pathname:D,search:y,hash:S,state:E,key:b,unstable_mask:B},navigationType:r}},[m,g,y,S,E,b,r,B]);return Ta(C!=null,`<Router basename="${m}"> is not able to match the URL "${g}${y}${S}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(aa.Provider,{value:p},w.createElement(Vs.Provider,{children:i,value:C}))}function hx({children:s,location:i}){return KS(mf(s),i)}function mf(s,i=[]){let l=[];return w.Children.forEach(s,(r,o)=>{if(!w.isValidElement(r))return;let f=[...i,o];if(r.type===w.Fragment){l.push.apply(l,mf(r.props.children,f));return}$t(r.type===en,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=mf(r.props.children,f)),l.push(h)}),l}var ru="get",uu="application/x-www-form-urlencoded";function Cu(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function dx(s){return Cu(s)&&s.tagName.toLowerCase()==="button"}function gx(s){return Cu(s)&&s.tagName.toLowerCase()==="form"}function mx(s){return Cu(s)&&s.tagName.toLowerCase()==="input"}function px(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function _x(s,i){return s.button===0&&(!i||i==="_self")&&!px(s)}var $r=null;function yx(){if($r===null)try{new FormData(document.createElement("form"),0),$r=!1}catch{$r=!0}return $r}var vx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $c(s){return s!=null&&!vx.has(s)?(Ta(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):s}function Sx(s,i){let l,r,o,f,h;if(gx(s)){let m=s.getAttribute("action");r=m?ni(m,i):null,l=s.getAttribute("method")||ru,o=$c(s.getAttribute("enctype"))||uu,f=new FormData(s)}else if(dx(s)||mx(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?ni(p,i):null,l=s.getAttribute("formmethod")||m.getAttribute("method")||ru,o=$c(s.getAttribute("formenctype"))||$c(m.getAttribute("enctype"))||uu,f=new FormData(m,s),!yx()){let{name:g,type:y,value:S}=s;if(y==="image"){let E=g?`${g}.`:"";f.append(`${E}x`,"0"),f.append(`${E}y`,"0")}else g&&f.append(g,S)}}else{if(Cu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=ru,r=null,o=uu,h=s}return f&&o==="text/plain"&&(h=f,f=void 0),{action:r,method:l.toLowerCase(),encType:o,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bf(s,i){if(s===!1||s===null||typeof s>"u")throw new Error(i)}function xx(s,i,l,r){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:i&&ni(o.pathname,i)==="/"?o.pathname=`${i.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function bx(s,i){if(s.id in i)return i[s.id];try{let l=await import(s.module);return i[s.id]=l,l}catch(l){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Mx(s,i,l){let r=await Promise.all(s.map(async o=>{let f=i.routes[o.route.id];if(f){let h=await bx(f,l);return h.links?h.links():[]}return[]}));return Rx(r.flat(1).filter(Cx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wm(s,i,l,r,o,f){let h=(p,g)=>l[g]?p.route.id!==l[g].route.id:!0,m=(p,g)=>{var y;return l[g].pathname!==p.pathname||((y=l[g].route.path)==null?void 0:y.endsWith("*"))&&l[g].params["*"]!==p.params["*"]};return f==="assets"?i.filter((p,g)=>h(p,g)||m(p,g)):f==="data"?i.filter((p,g)=>{var S;let y=r.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=l[0])==null?void 0:S.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Tx(s,i,{includeHydrateFallback:l}={}){return Ex(s.map(r=>{let o=i.routes[r.route.id];if(!o)return[];let f=[o.module];return o.clientActionModule&&(f=f.concat(o.clientActionModule)),o.clientLoaderModule&&(f=f.concat(o.clientLoaderModule)),l&&o.hydrateFallbackModule&&(f=f.concat(o.hydrateFallbackModule)),o.imports&&(f=f.concat(o.imports)),f}).flat(1))}function Ex(s){return[...new Set(s)]}function Bx(s){let i={},l=Object.keys(s).sort();for(let r of l)i[r]=s[r];return i}function Rx(s,i){let l=new Set;return new Set(i),s.reduce((r,o)=>{let f=JSON.stringify(Bx(o));return l.has(f)||(l.add(f),r.push({key:f,link:o})),r},[])}function k_(){let s=w.useContext(fn);return Bf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Vx(){let s=w.useContext(bu);return Bf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Rf=w.createContext(void 0);Rf.displayName="FrameworkContext";function I_(){let s=w.useContext(Rf);return Bf(s,"You must render this element inside a <HydratedRouter> element"),s}function Dx(s,i){let l=w.useContext(Rf),[r,o]=w.useState(!1),[f,h]=w.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:S}=i,E=w.useRef(null);w.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let C=j=>{j.forEach(F=>{h(F.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[s]),w.useEffect(()=>{if(r){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{o(!0)},B=()=>{o(!1),h(!1)};return l?s!=="intent"?[f,E,{}]:[f,E,{onFocus:us(m,b),onBlur:us(p,B),onMouseEnter:us(g,b),onMouseLeave:us(y,B),onTouchStart:us(S,b)}]:[!1,E,{}]}function us(s,i){return l=>{s&&s(l),l.defaultPrevented||i(l)}}function Ax({page:s,...i}){let{router:l}=k_(),r=w.useMemo(()=>B_(l.routes,s,l.basename),[l.routes,s,l.basename]);return r?w.createElement(wx,{page:s,matches:r,...i}):null}function Ox(s){let{manifest:i,routeModules:l}=I_(),[r,o]=w.useState([]);return w.useEffect(()=>{let f=!1;return Mx(s,i,l).then(h=>{f||o(h)}),()=>{f=!0}},[s,i,l]),r}function wx({page:s,matches:i,...l}){let r=si(),{future:o,manifest:f,routeModules:h}=I_(),{basename:m}=k_(),{loaderData:p,matches:g}=Vx(),y=w.useMemo(()=>Wm(s,i,g,f,r,"data"),[s,i,g,f,r]),S=w.useMemo(()=>Wm(s,i,g,f,r,"assets"),[s,i,g,f,r]),E=w.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let C=new Set,D=!1;if(i.forEach(F=>{var J;let A=f.routes[F.route.id];!A||!A.hasLoader||(!y.some(Y=>Y.route.id===F.route.id)&&F.route.id in p&&((J=h[F.route.id])!=null&&J.shouldRevalidate)||A.hasClientLoader?D=!0:C.add(F.route.id))}),C.size===0)return[];let j=xx(s,m,o.unstable_trailingSlashAwareDataRequests,"data");return D&&C.size>0&&j.searchParams.set("_routes",i.filter(F=>C.has(F.route.id)).map(F=>F.route.id).join(",")),[j.pathname+j.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,r,f,y,i,s,h]),b=w.useMemo(()=>Tx(S,f),[S,f]),B=Ox(S);return w.createElement(w.Fragment,null,E.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...l})),b.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...l})),B.map(({key:C,link:D})=>w.createElement("link",{key:C,nonce:l.nonce,...D,crossOrigin:D.crossOrigin??l.crossOrigin})))}function zx(...s){return i=>{s.forEach(l=>{typeof l=="function"?l(i):l!=null&&(l.current=i)})}}var Lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lx&&(window.__reactRouterVersion="7.13.1")}catch{}function Nx({basename:s,children:i,unstable_useTransitions:l,window:r}){let o=w.useRef();o.current==null&&(o.current=mS({window:r,v5Compat:!0}));let f=o.current,[h,m]=w.useState({action:f.action,location:f.location}),p=w.useCallback(g=>{l===!1?m(g):w.startTransition(()=>m(g))},[l]);return w.useLayoutEffect(()=>f.listen(p),[f,p]),w.createElement(fx,{basename:s,children:i,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:l})}var H_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y_=w.forwardRef(function({onClick:i,discover:l="render",prefetch:r="none",relative:o,reloadDocument:f,replace:h,unstable_mask:m,state:p,target:g,to:y,preventScrollReset:S,viewTransition:E,unstable_defaultShouldRevalidate:b,...B},C){let{basename:D,navigator:j,unstable_useTransitions:F}=w.useContext(aa),A=typeof y=="string"&&H_.test(y),J=A_(y,D);y=J.to;let Y=ZS(y,{relative:o}),Z=si(),Q=null;if(m){let St=xu(m,[],Z.unstable_mask?Z.unstable_mask.pathname:"/",!0);D!=="/"&&(St.pathname=St.pathname==="/"?D:Oa([D,St.pathname])),Q=j.createHref(St)}let[ht,Et,At]=Dx(r,B),Gt=jx(y,{replace:h,unstable_mask:m,state:p,target:g,preventScrollReset:S,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:F});function lt(St){i&&i(St),St.defaultPrevented||Gt(St)}let mt=!(J.isExternal||f),Bt=w.createElement("a",{...B,...At,href:(mt?Q:void 0)||J.absoluteURL||Y,onClick:mt?lt:i,ref:zx(C,Et),target:g,"data-discover":!A&&l==="render"?"true":void 0});return ht&&!A?w.createElement(w.Fragment,null,Bt,w.createElement(Ax,{page:Y})):Bt});Y_.displayName="Link";var gs=w.forwardRef(function({"aria-current":i="page",caseSensitive:l=!1,className:r="",end:o=!1,style:f,to:h,viewTransition:m,children:p,...g},y){let S=Ds(h,{relative:g.relative}),E=si(),b=w.useContext(bu),{navigator:B,basename:C}=w.useContext(aa),D=b!=null&&Yx(S)&&m===!0,j=B.encodeLocation?B.encodeLocation(S).pathname:S.pathname,F=E.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;l||(F=F.toLowerCase(),A=A?A.toLowerCase():null,j=j.toLowerCase()),A&&C&&(A=ni(A,C)||A);const J=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let Y=F===j||!o&&F.startsWith(j)&&F.charAt(J)==="/",Z=A!=null&&(A===j||!o&&A.startsWith(j)&&A.charAt(j.length)==="/"),Q={isActive:Y,isPending:Z,isTransitioning:D},ht=Y?i:void 0,Et;typeof r=="function"?Et=r(Q):Et=[r,Y?"active":null,Z?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let At=typeof f=="function"?f(Q):f;return w.createElement(Y_,{...g,"aria-current":ht,className:Et,ref:y,style:At,to:h,viewTransition:m},typeof p=="function"?p(Q):p)});gs.displayName="NavLink";var Fx=w.forwardRef(({discover:s="render",fetcherKey:i,navigate:l,reloadDocument:r,replace:o,state:f,method:h=ru,action:m,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:S,unstable_defaultShouldRevalidate:E,...b},B)=>{let{unstable_useTransitions:C}=w.useContext(aa),D=Ix(),j=Hx(m,{relative:g}),F=h.toLowerCase()==="get"?"get":"post",A=typeof m=="string"&&H_.test(m),J=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let Z=Y.nativeEvent.submitter,Q=(Z==null?void 0:Z.getAttribute("formmethod"))||h,ht=()=>D(Z||Y.currentTarget,{fetcherKey:i,method:Q,navigate:l,replace:o,state:f,relative:g,preventScrollReset:y,viewTransition:S,unstable_defaultShouldRevalidate:E});C&&l!==!1?w.startTransition(()=>ht()):ht()};return w.createElement("form",{ref:B,method:F,action:j,onSubmit:r?p:J,...b,"data-discover":!A&&s==="render"?"true":void 0})});Fx.displayName="Form";function Ux(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G_(s){let i=w.useContext(fn);return $t(i,Ux(s)),i}function jx(s,{target:i,replace:l,unstable_mask:r,state:o,preventScrollReset:f,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=F_(),S=si(),E=Ds(s,{relative:h});return w.useCallback(b=>{if(_x(b,i)){b.preventDefault();let B=l!==void 0?l:Ss(S)===Ss(E),C=()=>y(s,{replace:B,unstable_mask:r,state:o,preventScrollReset:f,relative:h,viewTransition:m,unstable_defaultShouldRevalidate:p});g?w.startTransition(()=>C()):C()}},[S,y,E,l,r,o,i,s,f,h,m,p,g])}var Px=0,kx=()=>`__${String(++Px)}__`;function Ix(){let{router:s}=G_("useSubmit"),{basename:i}=w.useContext(aa),l=sx(),r=s.fetch,o=s.navigate;return w.useCallback(async(f,h={})=>{let{action:m,method:p,encType:g,formData:y,body:S}=Sx(f,i);if(h.navigate===!1){let E=h.fetcherKey||kx();await r(E,l,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:y,body:S,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:y,body:S,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:l,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,i,l])}function Hx(s,{relative:i}={}){let{basename:l}=w.useContext(aa),r=w.useContext(wa);$t(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),f={...Ds(s||".",{relative:i})},h=si();if(s==null){f.search=h.search;let m=new URLSearchParams(f.search),p=m.getAll("index");if(p.some(y=>y==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let y=m.toString();f.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(f.pathname=f.pathname==="/"?l:Oa([l,f.pathname])),Ss(f)}function Yx(s,{relative:i}={}){let l=w.useContext(w_);$t(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=G_("useViewTransitionState"),o=Ds(s,{relative:i});if(!l.isTransitioning)return!1;let f=ni(l.currentLocation.pathname,r)||l.currentLocation.pathname,h=ni(l.nextLocation.pathname,r)||l.nextLocation.pathname;return cu(o.pathname,h)!=null||cu(o.pathname,f)!=null}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q_=(...s)=>s.filter((i,l,r)=>!!i&&i.trim()!==""&&r.indexOf(i)===l).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=w.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:o="",children:f,iconNode:h,...m},p)=>w.createElement("svg",{ref:p,...qx,width:i,height:i,stroke:s,strokeWidth:r?Number(l)*24/Number(i):l,className:q_("lucide",o),...m},[...h.map(([g,y])=>w.createElement(g,y)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(s,i)=>{const l=w.forwardRef(({className:r,...o},f)=>w.createElement(Xx,{ref:f,iconNode:i,className:q_(`lucide-${Gx(s)}`,r),...o}));return l.displayName=`${s}`,l};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=se("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=se("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=se("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=se("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=se("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);function ap({label:s,status:i}){const l={online:"bg-green-500",offline:"bg-red-500",loading:"bg-yellow-500 animate-pulse"};return x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`w-2 h-2 rounded-full ${l[i]}`}),x.jsx("span",{className:"text-sm text-gray-300",children:s})]})}const ub=`ws://${window.location.host}/ws/live2d`,ob=5,cb=1e3;class fb{constructor(){_(this,"ws",null);_(this,"retryCount",0);_(this,"retryTimer",null);_(this,"handlers",new Set);_(this,"destroyed",!1);this.connect()}connect(){if(!this.destroyed)try{this.ws=new WebSocket(ub),this.ws.onopen=()=>{this.retryCount=0,console.log("[WS] ")},this.ws.onmessage=i=>{try{const l=JSON.parse(i.data);this.handlers.forEach(r=>r(l))}catch{}},this.ws.onclose=()=>{this.destroyed||this.scheduleReconnect()},this.ws.onerror=()=>{var i;(i=this.ws)==null||i.close()}}catch{this.scheduleReconnect()}}scheduleReconnect(){if(this.retryCount>=ob){console.warn("[WS] ");return}const i=cb*Math.pow(2,this.retryCount);this.retryCount++,console.log(`[WS] ${i}ms  ${this.retryCount} ...`),this.retryTimer=setTimeout(()=>this.connect(),i)}onMessage(i){return this.handlers.add(i),()=>this.handlers.delete(i)}get connected(){var i;return((i=this.ws)==null?void 0:i.readyState)===WebSocket.OPEN}destroy(){var i;this.destroyed=!0,this.retryTimer&&clearTimeout(this.retryTimer),(i=this.ws)==null||i.close(),this.handlers.clear()}}let tf=null;function Q_(){return tf||(tf=new fb),tf}const hb=50;function db(){const[s,i]=w.useState("loading"),[l,r]=w.useState("loading"),[o,f]=w.useState(!1),[h,m]=w.useState(!1),[p,g]=w.useState([]);w.useEffect(()=>{const S=async()=>{try{const[b,B]=await Promise.all([fetch("/api/status"),fetch("/api/asr/status")]),C=await b.json();i(C.status==="running"?"online":"offline");const D=await B.json();f(D.running)}catch{i("offline")}};S();const E=setInterval(S,3e3);return()=>clearInterval(E)},[]);const y=w.useCallback(async()=>{m(!0);try{const b=await(await fetch(o?"/api/asr/stop":"/api/asr/start",{method:"POST"})).json();f(b.running)}catch{}finally{m(!1)}},[o]);return w.useEffect(()=>{const S=Q_(),E=setInterval(()=>{r(S.connected?"online":"offline")},1e3);r(S.connected?"online":"offline");const b=S.onMessage(B=>{const C=new Date().toLocaleTimeString("zh-CN",{hour12:!1});let D=null;B.type==="subtitle"?D={time:C,type:"LLMTTS",message:`${B.emotion} | ${B.text}`}:B.type==="lip_sync"?D={time:C,type:"TTS",message:` (${B.timeline.length} )`}:B.type==="playback_done"&&(D={time:C,type:"TTS",message:""}),D&&g(j=>[D,...j].slice(0,hb))});return()=>{clearInterval(E),b()}},[]),x.jsxs("div",{className:"p-6 space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-xl font-bold text-gray-100",children:""}),x.jsx("span",{className:"text-xs text-gray-500",children:" 3 "})]}),x.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsx(ef,{icon:x.jsx(Qx,{size:20}),title:"",status:s}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:`flex items-center gap-2 mb-2 ${o?"text-green-400":"text-gray-500"}`,children:[o?x.jsx(tp,{size:20}):x.jsx($m,{size:20}),x.jsx("span",{className:`text-xs font-semibold ${o?"":"text-gray-500"}`,children:o?"":""})]}),x.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"ASR"}),x.jsxs("button",{onClick:y,disabled:h||s!=="online",className:`w-full flex items-center justify-center gap-1.5 text-xs font-medium rounded-lg px-3 py-1.5 transition-colors disabled:opacity-50 ${o?"bg-red-900/40 text-red-300 hover:bg-red-900/60":"bg-green-900/40 text-green-300 hover:bg-green-900/60"}`,children:[h?x.jsx(Ni,{size:12,className:"animate-spin"}):o?x.jsx($m,{size:12}):x.jsx(tp,{size:12}),o?"":""]})]}),x.jsx(ef,{icon:x.jsx(Wx,{size:20}),title:"LLM",status:s}),x.jsx(ef,{icon:x.jsx(nb,{size:20}),title:"TTS",status:s})]}),x.jsxs("div",{className:"card",children:[x.jsxs("h2",{className:"text-sm font-semibold text-gray-400 mb-4 flex items-center gap-2",children:[x.jsx(Zx,{size:16})," "]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(ap,{label:" API (HTTP)",status:s}),x.jsx(ap,{label:"WebSocket (Live2D)",status:l})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:"text-sm font-semibold text-gray-400 flex items-center gap-2",children:[x.jsx(eb,{size:16})," "]}),x.jsx("button",{onClick:()=>g([]),className:"text-xs text-gray-500 hover:text-gray-300 transition-colors",children:""})]}),x.jsx("div",{className:"space-y-1.5 max-h-80 overflow-y-auto font-mono text-xs",children:p.length===0?x.jsx("p",{className:"text-gray-600 text-center py-8",children:"..."}):p.map((S,E)=>x.jsxs("div",{className:"flex gap-3 text-gray-400",children:[x.jsx("span",{className:"text-gray-600 flex-none",children:S.time}),x.jsxs("span",{className:`flex-none font-medium ${S.type==="LLMTTS"?"text-purple-400":S.type==="TTS"?"text-blue-400":"text-green-400"}`,children:["[",S.type,"]"]}),x.jsx("span",{className:"text-gray-300 break-all",children:S.message})]},E))})]})]})}function ef({icon:s,title:i,status:l}){const r=l==="online"?"text-green-400":l==="loading"?"text-yellow-400":"text-red-400",o=l==="online"?"":l==="loading"?"":"";return x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:`flex items-center gap-2 mb-2 ${r}`,children:[s,x.jsx("span",{className:`text-xs font-semibold ${l==="loading"?"animate-pulse":""}`,children:o})]}),x.jsx("p",{className:"text-sm text-gray-300",children:i})]})}var As=s=>s.type==="checkbox",nl=s=>s instanceof Date,ke=s=>s==null;const Z_=s=>typeof s=="object";var he=s=>!ke(s)&&!Array.isArray(s)&&Z_(s)&&!nl(s),gb=s=>he(s)&&s.target?As(s.target)?s.target.checked:s.target.value:s,mb=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,pb=(s,i)=>s.has(mb(i)),_b=s=>{const i=s.constructor&&s.constructor.prototype;return he(i)&&i.hasOwnProperty("isPrototypeOf")},Vf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function me(s){if(s instanceof Date)return new Date(s);const i=typeof FileList<"u"&&s instanceof FileList;if(Vf&&(s instanceof Blob||i))return s;const l=Array.isArray(s);if(!l&&!(he(s)&&_b(s)))return s;const r=l?[]:Object.create(Object.getPrototypeOf(s));for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=me(s[o]));return r}var Mu=s=>/^\w*$/.test(s),te=s=>s===void 0,Df=s=>Array.isArray(s)?s.filter(Boolean):[],Af=s=>Df(s.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(s,i,l)=>{if(!i||!he(s))return l;const r=(Mu(i)?[i]:Af(i)).reduce((o,f)=>ke(o)?o:o[f],s);return te(r)||r===s?te(s[i])?l:s[i]:r},Aa=s=>typeof s=="boolean",ba=s=>typeof s=="function",Wt=(s,i,l)=>{let r=-1;const o=Mu(i)?[i]:Af(i),f=o.length,h=f-1;for(;++r<f;){const m=o[r];let p=l;if(r!==h){const g=s[m];p=he(g)||Array.isArray(g)?g:isNaN(+o[r+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;s[m]=p,s=s[m]}};const ip={BLUR:"blur",FOCUS_OUT:"focusout"},Ca={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ei={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yb=Oe.createContext(null);yb.displayName="HookFormControlContext";var vb=(s,i,l,r=!0)=>{const o={defaultValues:i._defaultValues};for(const f in s)Object.defineProperty(o,f,{get:()=>{const h=f;return i._proxyFormState[h]!==Ca.all&&(i._proxyFormState[h]=!r||Ca.all),s[h]}});return o};const Sb=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect;var ea=s=>typeof s=="string",xb=(s,i,l,r,o)=>ea(s)?(r&&i.watch.add(s),st(l,s,o)):Array.isArray(s)?s.map(f=>(r&&i.watch.add(f),st(l,f))):(r&&(i.watchAll=!0),l),pf=s=>ke(s)||!Z_(s);function wi(s,i,l=new WeakSet){if(pf(s)||pf(i))return Object.is(s,i);if(nl(s)&&nl(i))return Object.is(s.getTime(),i.getTime());const r=Object.keys(s),o=Object.keys(i);if(r.length!==o.length)return!1;if(l.has(s)||l.has(i))return!0;l.add(s),l.add(i);for(const f of r){const h=s[f];if(!o.includes(f))return!1;if(f!=="ref"){const m=i[f];if(nl(h)&&nl(m)||he(h)&&he(m)||Array.isArray(h)&&Array.isArray(m)?!wi(h,m,l):!Object.is(h,m))return!1}}return!0}const bb=Oe.createContext(null);bb.displayName="HookFormContext";var Cb=(s,i,l,r,o)=>i?{...l[s],types:{...l[s]&&l[s].types?l[s].types:{},[r]:o||!0}}:{},ms=s=>Array.isArray(s)?s:[s],lp=()=>{let s=[];return{get observers(){return s},next:o=>{for(const f of s)f.next&&f.next(o)},subscribe:o=>(s.push(o),{unsubscribe:()=>{s=s.filter(f=>f!==o)}}),unsubscribe:()=>{s=[]}}};function J_(s,i){const l={};for(const r in s)if(s.hasOwnProperty(r)){const o=s[r],f=i[r];if(o&&he(o)&&f){const h=J_(o,f);he(h)&&(l[r]=h)}else s[r]&&(l[r]=f)}return l}var we=s=>he(s)&&!Object.keys(s).length,Of=s=>s.type==="file",du=s=>{if(!Vf)return!1;const i=s?s.ownerDocument:0;return s instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},K_=s=>s.type==="select-multiple",wf=s=>s.type==="radio",Mb=s=>wf(s)||As(s),af=s=>du(s)&&s.isConnected;function Tb(s,i){const l=i.slice(0,-1).length;let r=0;for(;r<l;)s=te(s)?r++:s[i[r++]];return s}function Eb(s){for(const i in s)if(s.hasOwnProperty(i)&&!te(s[i]))return!1;return!0}function fe(s,i){const l=Array.isArray(i)?i:Mu(i)?[i]:Af(i),r=l.length===1?s:Tb(s,l),o=l.length-1,f=l[o];return r&&delete r[f],o!==0&&(he(r)&&we(r)||Array.isArray(r)&&Eb(r))&&fe(s,l.slice(0,-1)),s}var Bb=s=>{for(const i in s)if(ba(s[i]))return!0;return!1};function W_(s){return Array.isArray(s)||he(s)&&!Bb(s)}function _f(s,i={}){for(const l in s){const r=s[l];W_(r)?(i[l]=Array.isArray(r)?[]:{},_f(r,i[l])):te(r)||(i[l]=!0)}return i}function an(s,i,l){l||(l=_f(i));for(const r in s){const o=s[r];if(W_(o))te(i)||pf(l[r])?l[r]=_f(o,Array.isArray(o)?[]:{}):an(o,ke(i)?{}:i[r],l[r]);else{const f=i[r];l[r]=!wi(o,f)}}return l}const np={value:!1,isValid:!1},sp={value:!0,isValid:!0};var $_=s=>{if(Array.isArray(s)){if(s.length>1){const i=s.filter(l=>l&&l.checked&&!l.disabled).map(l=>l.value);return{value:i,isValid:!!i.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!te(s[0].attributes.value)?te(s[0].value)||s[0].value===""?sp:{value:s[0].value,isValid:!0}:sp:np}return np},ty=(s,{valueAsNumber:i,valueAsDate:l,setValueAs:r})=>te(s)?s:i?s===""?NaN:s&&+s:l&&ea(s)?new Date(s):r?r(s):s;const rp={isValid:!1,value:null};var ey=s=>Array.isArray(s)?s.reduce((i,l)=>l&&l.checked&&!l.disabled?{isValid:!0,value:l.value}:i,rp):rp;function up(s){const i=s.ref;return Of(i)?i.files:wf(i)?ey(s.refs).value:K_(i)?[...i.selectedOptions].map(({value:l})=>l):As(i)?$_(s.refs).value:ty(te(i.value)?s.ref.value:i.value,s)}var Rb=(s,i,l,r)=>{const o={};for(const f of s){const h=st(i,f);h&&Wt(o,f,h._f)}return{criteriaMode:l,names:[...s],fields:o,shouldUseNativeValidation:r}},gu=s=>s instanceof RegExp,os=s=>te(s)?s:gu(s)?s.source:he(s)?gu(s.value)?s.value.source:s.value:s,op=s=>({isOnSubmit:!s||s===Ca.onSubmit,isOnBlur:s===Ca.onBlur,isOnChange:s===Ca.onChange,isOnAll:s===Ca.all,isOnTouch:s===Ca.onTouched});const cp="AsyncFunction";var Vb=s=>!!s&&!!s.validate&&!!(ba(s.validate)&&s.validate.constructor.name===cp||he(s.validate)&&Object.values(s.validate).find(i=>i.constructor.name===cp)),Db=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),fp=(s,i,l)=>!l&&(i.watchAll||i.watch.has(s)||[...i.watch].some(r=>s.startsWith(r)&&/^\.\w+/.test(s.slice(r.length))));const ps=(s,i,l,r)=>{for(const o of l||Object.keys(s)){const f=st(s,o);if(f){const{_f:h,...m}=f;if(h){if(h.refs&&h.refs[0]&&i(h.refs[0],o)&&!r)return!0;if(h.ref&&i(h.ref,h.name)&&!r)return!0;if(ps(m,i))break}else if(he(m)&&ps(m,i))break}}};function hp(s,i,l){const r=st(s,l);if(r||Mu(l))return{error:r,name:l};const o=l.split(".");for(;o.length;){const f=o.join("."),h=st(i,f),m=st(s,f);if(h&&!Array.isArray(h)&&l!==f)return{name:l};if(m&&m.type)return{name:f,error:m};if(m&&m.root&&m.root.type)return{name:`${f}.root`,error:m.root};o.pop()}return{name:l}}var Ab=(s,i,l,r)=>{l(s);const{name:o,...f}=s;return we(f)||Object.keys(f).length>=Object.keys(i).length||Object.keys(f).find(h=>i[h]===(!r||Ca.all))},Ob=(s,i,l)=>!s||!i||s===i||ms(s).some(r=>r&&(l?r===i:r.startsWith(i)||i.startsWith(r))),wb=(s,i,l,r,o)=>o.isOnAll?!1:!l&&o.isOnTouch?!(i||s):(l?r.isOnBlur:o.isOnBlur)?!s:(l?r.isOnChange:o.isOnChange)?s:!0,zb=(s,i)=>!Df(st(s,i)).length&&fe(s,i),Lb=(s,i,l)=>{const r=ms(st(s,l));return Wt(r,"root",i[l]),Wt(s,l,r),s};function dp(s,i,l="validate"){if(ea(s)||Array.isArray(s)&&s.every(ea)||Aa(s)&&!s)return{type:l,message:ea(s)?s:"",ref:i}}var Jl=s=>he(s)&&!gu(s)?s:{value:s,message:""},gp=async(s,i,l,r,o,f)=>{const{ref:h,refs:m,required:p,maxLength:g,minLength:y,min:S,max:E,pattern:b,validate:B,name:C,valueAsNumber:D,mount:j}=s._f,F=st(l,C);if(!j||i.has(C))return{};const A=m?m[0]:h,J=lt=>{o&&A.reportValidity&&(A.setCustomValidity(Aa(lt)?"":lt||""),A.reportValidity())},Y={},Z=wf(h),Q=As(h),ht=Z||Q,Et=(D||Of(h))&&te(h.value)&&te(F)||du(h)&&h.value===""||F===""||Array.isArray(F)&&!F.length,At=Cb.bind(null,C,r,Y),Gt=(lt,mt,Bt,St=ei.maxLength,k=ei.minLength)=>{const W=lt?mt:Bt;Y[C]={type:lt?St:k,message:W,ref:h,...At(lt?St:k,W)}};if(f?!Array.isArray(F)||!F.length:p&&(!ht&&(Et||ke(F))||Aa(F)&&!F||Q&&!$_(m).isValid||Z&&!ey(m).isValid)){const{value:lt,message:mt}=ea(p)?{value:!!p,message:p}:Jl(p);if(lt&&(Y[C]={type:ei.required,message:mt,ref:A,...At(ei.required,mt)},!r))return J(mt),Y}if(!Et&&(!ke(S)||!ke(E))){let lt,mt;const Bt=Jl(E),St=Jl(S);if(!ke(F)&&!isNaN(F)){const k=h.valueAsNumber||F&&+F;ke(Bt.value)||(lt=k>Bt.value),ke(St.value)||(mt=k<St.value)}else{const k=h.valueAsDate||new Date(F),W=Ot=>new Date(new Date().toDateString()+" "+Ot),ft=h.type=="time",Vt=h.type=="week";ea(Bt.value)&&F&&(lt=ft?W(F)>W(Bt.value):Vt?F>Bt.value:k>new Date(Bt.value)),ea(St.value)&&F&&(mt=ft?W(F)<W(St.value):Vt?F<St.value:k<new Date(St.value))}if((lt||mt)&&(Gt(!!lt,Bt.message,St.message,ei.max,ei.min),!r))return J(Y[C].message),Y}if((g||y)&&!Et&&(ea(F)||f&&Array.isArray(F))){const lt=Jl(g),mt=Jl(y),Bt=!ke(lt.value)&&F.length>+lt.value,St=!ke(mt.value)&&F.length<+mt.value;if((Bt||St)&&(Gt(Bt,lt.message,mt.message),!r))return J(Y[C].message),Y}if(b&&!Et&&ea(F)){const{value:lt,message:mt}=Jl(b);if(gu(lt)&&!F.match(lt)&&(Y[C]={type:ei.pattern,message:mt,ref:h,...At(ei.pattern,mt)},!r))return J(mt),Y}if(B){if(ba(B)){const lt=await B(F,l),mt=dp(lt,A);if(mt&&(Y[C]={...mt,...At(ei.validate,mt.message)},!r))return J(mt.message),Y}else if(he(B)){let lt={};for(const mt in B){if(!we(lt)&&!r)break;const Bt=dp(await B[mt](F,l),A,mt);Bt&&(lt={...Bt,...At(mt,Bt.message)},J(Bt.message),r&&(Y[C]=lt))}if(!we(lt)&&(Y[C]={ref:A,...lt},!r))return Y}}return J(!0),Y};const Nb={mode:Ca.onSubmit,reValidateMode:Ca.onChange,shouldFocusError:!0};function Fb(s={}){let i={...Nb,...s},l={submitCount:0,isDirty:!1,isReady:!1,isLoading:ba(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1},r={},o=he(i.defaultValues)||he(i.values)?me(i.defaultValues||i.values)||{}:{},f=i.shouldUnregister?{}:me(o),h={action:!1,mount:!1,watch:!1,keepIsValid:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},S={...y};let E={...S};const b={array:lp(),state:lp()},B=i.criteriaMode===Ca.all,C=T=>z=>{clearTimeout(g),g=setTimeout(T,z)},D=async T=>{if(!h.keepIsValid&&!i.disabled&&(S.isValid||E.isValid||T)){let z;i.resolver?(z=we((await ht()).errors),j()):z=await At(r,!0),z!==l.isValid&&b.state.next({isValid:z})}},j=(T,z)=>{!i.disabled&&(S.isValidating||S.validatingFields||E.isValidating||E.validatingFields)&&((T||Array.from(m.mount)).forEach(I=>{I&&(z?Wt(l.validatingFields,I,z):fe(l.validatingFields,I))}),b.state.next({validatingFields:l.validatingFields,isValidating:!we(l.validatingFields)}))},F=(T,z=[],I,$,tt=!0,K=!0)=>{if($&&I&&!i.disabled){if(h.action=!0,K&&Array.isArray(st(r,T))){const rt=I(st(r,T),$.argA,$.argB);tt&&Wt(r,T,rt)}if(K&&Array.isArray(st(l.errors,T))){const rt=I(st(l.errors,T),$.argA,$.argB);tt&&Wt(l.errors,T,rt),zb(l.errors,T)}if((S.touchedFields||E.touchedFields)&&K&&Array.isArray(st(l.touchedFields,T))){const rt=I(st(l.touchedFields,T),$.argA,$.argB);tt&&Wt(l.touchedFields,T,rt)}(S.dirtyFields||E.dirtyFields)&&(l.dirtyFields=an(o,f)),b.state.next({name:T,isDirty:lt(T,z),dirtyFields:l.dirtyFields,errors:l.errors,isValid:l.isValid})}else Wt(f,T,z)},A=(T,z)=>{Wt(l.errors,T,z),b.state.next({errors:l.errors})},J=T=>{l.errors=T,b.state.next({errors:l.errors,isValid:!1})},Y=(T,z,I,$)=>{const tt=st(r,T);if(tt){const K=st(f,T,te(I)?st(o,T):I);te(K)||$&&$.defaultChecked||z?Wt(f,T,z?K:up(tt._f)):St(T,K),h.mount&&!h.action&&D()}},Z=(T,z,I,$,tt)=>{let K=!1,rt=!1;const Dt={name:T};if(!i.disabled){if(!I||$){(S.isDirty||E.isDirty)&&(rt=l.isDirty,l.isDirty=Dt.isDirty=lt(),K=rt!==Dt.isDirty);const Ft=wi(st(o,T),z);rt=!!st(l.dirtyFields,T),Ft?fe(l.dirtyFields,T):Wt(l.dirtyFields,T,!0),Dt.dirtyFields=l.dirtyFields,K=K||(S.dirtyFields||E.dirtyFields)&&rt!==!Ft}if(I){const Ft=st(l.touchedFields,T);Ft||(Wt(l.touchedFields,T,I),Dt.touchedFields=l.touchedFields,K=K||(S.touchedFields||E.touchedFields)&&Ft!==I)}K&&tt&&b.state.next(Dt)}return K?Dt:{}},Q=(T,z,I,$)=>{const tt=st(l.errors,T),K=(S.isValid||E.isValid)&&Aa(z)&&l.isValid!==z;if(i.delayError&&I?(p=C(()=>A(T,I)),p(i.delayError)):(clearTimeout(g),p=null,I?Wt(l.errors,T,I):fe(l.errors,T)),(I?!wi(tt,I):tt)||!we($)||K){const rt={...$,...K&&Aa(z)?{isValid:z}:{},errors:l.errors,name:T};l={...l,...rt},b.state.next(rt)}},ht=async T=>(j(T,!0),await i.resolver(f,i.context,Rb(T||m.mount,r,i.criteriaMode,i.shouldUseNativeValidation))),Et=async T=>{const{errors:z}=await ht(T);if(j(T),T)for(const I of T){const $=st(z,I);$?Wt(l.errors,I,$):fe(l.errors,I)}else l.errors=z;return z},At=async(T,z,I={valid:!0})=>{for(const $ in T){const tt=T[$];if(tt){const{_f:K,...rt}=tt;if(K){const Dt=m.array.has(K.name),Ft=tt._f&&Vb(tt._f);Ft&&S.validatingFields&&j([K.name],!0);const _e=await gp(tt,m.disabled,f,B,i.shouldUseNativeValidation&&!z,Dt);if(Ft&&S.validatingFields&&j([K.name]),_e[K.name]&&(I.valid=!1,z||s.shouldUseNativeValidation))break;!z&&(st(_e,K.name)?Dt?Lb(l.errors,_e,K.name):Wt(l.errors,K.name,_e[K.name]):fe(l.errors,K.name))}!we(rt)&&await At(rt,z,I)}}return I.valid},Gt=()=>{for(const T of m.unMount){const z=st(r,T);z&&(z._f.refs?z._f.refs.every(I=>!af(I)):!af(z._f.ref))&&de(T)}m.unMount=new Set},lt=(T,z)=>!i.disabled&&(T&&z&&Wt(f,T,z),!wi(V(),o)),mt=(T,z,I)=>xb(T,m,{...h.mount?f:te(z)?o:ea(T)?{[T]:z}:z},I,z),Bt=T=>Df(st(h.mount?f:o,T,i.shouldUnregister?st(o,T,[]):[])),St=(T,z,I={})=>{const $=st(r,T);let tt=z;if($){const K=$._f;K&&(!K.disabled&&Wt(f,T,ty(z,K)),tt=du(K.ref)&&ke(z)?"":z,K_(K.ref)?[...K.ref.options].forEach(rt=>rt.selected=tt.includes(rt.value)):K.refs?As(K.ref)?K.refs.forEach(rt=>{(!rt.defaultChecked||!rt.disabled)&&(Array.isArray(tt)?rt.checked=!!tt.find(Dt=>Dt===rt.value):rt.checked=tt===rt.value||!!tt)}):K.refs.forEach(rt=>rt.checked=rt.value===tt):Of(K.ref)?K.ref.value="":(K.ref.value=tt,K.ref.type||b.state.next({name:T,values:me(f)})))}(I.shouldDirty||I.shouldTouch)&&Z(T,tt,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&Ot(T)},k=(T,z,I)=>{for(const $ in z){if(!z.hasOwnProperty($))return;const tt=z[$],K=T+"."+$,rt=st(r,K);(m.array.has(T)||he(tt)||rt&&!rt._f)&&!nl(tt)?k(K,tt,I):St(K,tt,I)}},W=(T,z,I={})=>{const $=st(r,T),tt=m.array.has(T),K=me(z);Wt(f,T,K),tt?(b.array.next({name:T,values:me(f)}),(S.isDirty||S.dirtyFields||E.isDirty||E.dirtyFields)&&I.shouldDirty&&b.state.next({name:T,dirtyFields:an(o,f),isDirty:lt(T,K)})):$&&!$._f&&!ke(K)?k(T,K,I):St(T,K,I),fp(T,m)?b.state.next({...l,name:T,values:me(f)}):b.state.next({name:h.mount?T:void 0,values:me(f)})},ft=async T=>{h.mount=!0;const z=T.target;let I=z.name,$=!0;const tt=st(r,I),K=Ft=>{$=Number.isNaN(Ft)||nl(Ft)&&isNaN(Ft.getTime())||wi(Ft,st(f,I,Ft))},rt=op(i.mode),Dt=op(i.reValidateMode);if(tt){let Ft,_e;const Na=z.type?up(tt._f):gb(T),Ea=T.type===ip.BLUR||T.type===ip.FOCUS_OUT,Ui=!Db(tt._f)&&!i.resolver&&!st(l.errors,I)&&!tt._f.deps||wb(Ea,st(l.touchedFields,I),l.isSubmitted,Dt,rt),Se=fp(I,m,Ea);Wt(f,I,Na),Ea?(!z||!z.readOnly)&&(tt._f.onBlur&&tt._f.onBlur(T),p&&p(0)):tt._f.onChange&&tt._f.onChange(T);const ia=Z(I,Na,Ea),De=!we(ia)||Se;if(!Ea&&b.state.next({name:I,type:T.type,values:me(f)}),Ui)return(S.isValid||E.isValid)&&(i.mode==="onBlur"?Ea&&D():Ea||D()),De&&b.state.next({name:I,...Se?{}:ia});if(!Ea&&Se&&b.state.next({...l}),i.resolver){const{errors:Ls}=await ht([I]);if(j([I]),K(Na),$){const Au=hp(l.errors,r,I),Ns=hp(Ls,r,Au.name||I);Ft=Ns.error,I=Ns.name,_e=we(Ls)}}else j([I],!0),Ft=(await gp(tt,m.disabled,f,B,i.shouldUseNativeValidation))[I],j([I]),K(Na),$&&(Ft?_e=!1:(S.isValid||E.isValid)&&(_e=await At(r,!0)));$&&(tt._f.deps&&(!Array.isArray(tt._f.deps)||tt._f.deps.length>0)&&Ot(tt._f.deps),Q(I,_e,Ft,ia))}},Vt=(T,z)=>{if(st(l.errors,z)&&T.focus)return T.focus(),1},Ot=async(T,z={})=>{let I,$;const tt=ms(T);if(i.resolver){const K=await Et(te(T)?T:tt);I=we(K),$=T?!tt.some(rt=>st(K,rt)):I}else T?($=(await Promise.all(tt.map(async K=>{const rt=st(r,K);return await At(rt&&rt._f?{[K]:rt}:rt)}))).every(Boolean),!(!$&&!l.isValid)&&D()):$=I=await At(r);return b.state.next({...!ea(T)||(S.isValid||E.isValid)&&I!==l.isValid?{}:{name:T},...i.resolver||!T?{isValid:I}:{},errors:l.errors}),z.shouldFocus&&!$&&ps(r,Vt,T?tt:m.mount),$},V=(T,z)=>{let I={...h.mount?f:o};return z&&(I=J_(z.dirtyFields?l.dirtyFields:l.touchedFields,I)),te(T)?I:ea(T)?st(I,T):T.map($=>st(I,$))},X=(T,z)=>({invalid:!!st((z||l).errors,T),isDirty:!!st((z||l).dirtyFields,T),error:st((z||l).errors,T),isValidating:!!st(l.validatingFields,T),isTouched:!!st((z||l).touchedFields,T)}),et=T=>{const z=T?ms(T):void 0;z==null||z.forEach(I=>fe(l.errors,I)),z?z.forEach(I=>{b.state.next({name:I,errors:l.errors})}):b.state.next({errors:{}})},at=(T,z,I)=>{const $=(st(r,T,{_f:{}})._f||{}).ref,tt=st(l.errors,T)||{},{ref:K,message:rt,type:Dt,...Ft}=tt;Wt(l.errors,T,{...Ft,...z,ref:$}),b.state.next({name:T,errors:l.errors,isValid:!1}),I&&I.shouldFocus&&$&&$.focus&&$.focus()},pt=(T,z)=>ba(T)?b.state.subscribe({next:I=>"values"in I&&T(mt(void 0,z),I)}):mt(T,z,!0),xt=T=>b.state.subscribe({next:z=>{Ob(T.name,z.name,T.exact)&&Ab(z,T.formState||S,ws,T.reRenderRoot)&&T.callback({values:{...f},...l,...z,defaultValues:o})}}).unsubscribe,zt=T=>(h.mount=!0,E={...E,...T.formState},xt({...T,formState:{...y,...T.formState}})),de=(T,z={})=>{for(const I of T?ms(T):m.mount)m.mount.delete(I),m.array.delete(I),z.keepValue||(fe(r,I),fe(f,I)),!z.keepError&&fe(l.errors,I),!z.keepDirty&&fe(l.dirtyFields,I),!z.keepTouched&&fe(l.touchedFields,I),!z.keepIsValidating&&fe(l.validatingFields,I),!i.shouldUnregister&&!z.keepDefaultValue&&fe(o,I);b.state.next({values:me(f)}),b.state.next({...l,...z.keepDirty?{isDirty:lt()}:{}}),!z.keepIsValid&&D()},Jt=({disabled:T,name:z})=>{if(Aa(T)&&h.mount||T||m.disabled.has(z)){const tt=m.disabled.has(z)!==!!T;T?m.disabled.add(z):m.disabled.delete(z),tt&&h.mount&&!h.action&&D()}},za=(T,z={})=>{let I=st(r,T);const $=Aa(z.disabled)||Aa(i.disabled);return Wt(r,T,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:T}},name:T,mount:!0,...z}}),m.mount.add(T),I?Jt({disabled:Aa(z.disabled)?z.disabled:i.disabled,name:T}):Y(T,!0,z.value),{...$?{disabled:z.disabled||i.disabled}:{},...i.progressive?{required:!!z.required,min:os(z.min),max:os(z.max),minLength:os(z.minLength),maxLength:os(z.maxLength),pattern:os(z.pattern)}:{},name:T,onChange:ft,onBlur:ft,ref:tt=>{if(tt){za(T,z),I=st(r,T);const K=te(tt.value)&&tt.querySelectorAll&&tt.querySelectorAll("input,select,textarea")[0]||tt,rt=Mb(K),Dt=I._f.refs||[];if(rt?Dt.find(Ft=>Ft===K):K===I._f.ref)return;Wt(r,T,{_f:{...I._f,...rt?{refs:[...Dt.filter(af),K,...Array.isArray(st(o,T))?[{}]:[]],ref:{type:K.type,name:T}}:{ref:K}}}),Y(T,!1,void 0,K)}else I=st(r,T,{}),I._f&&(I._f.mount=!1),(i.shouldUnregister||z.shouldUnregister)&&!(pb(m.array,T)&&h.action)&&m.unMount.add(T)}}},ri=()=>i.shouldFocusError&&ps(r,Vt,m.mount),dn=T=>{Aa(T)&&(b.state.next({disabled:T}),ps(r,(z,I)=>{const $=st(r,I);$&&(z.disabled=$._f.disabled||T,Array.isArray($._f.refs)&&$._f.refs.forEach(tt=>{tt.disabled=$._f.disabled||T}))},0,!1))},gn=(T,z)=>async I=>{let $;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let tt=me(f);if(b.state.next({isSubmitting:!0}),i.resolver){const{errors:K,values:rt}=await ht();j(),l.errors=K,tt=me(rt)}else await At(r);if(m.disabled.size)for(const K of m.disabled)fe(tt,K);if(fe(l.errors,"root"),we(l.errors)){b.state.next({errors:{}});try{await T(tt,I)}catch(K){$=K}}else z&&await z({...l.errors},I),ri(),setTimeout(ri);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:we(l.errors)&&!$,submitCount:l.submitCount+1,errors:l.errors}),$)throw $},La=(T,z={})=>{st(r,T)&&(te(z.defaultValue)?W(T,me(st(o,T))):(W(T,z.defaultValue),Wt(o,T,me(z.defaultValue))),z.keepTouched||fe(l.touchedFields,T),z.keepDirty||(fe(l.dirtyFields,T),l.isDirty=z.defaultValue?lt(T,me(st(o,T))):lt()),z.keepError||(fe(l.errors,T),S.isValid&&D()),b.state.next({...l}))},ol=(T,z={})=>{const I=T?me(T):o,$=me(I),tt=we(T),K=tt?o:$;if(z.keepDefaultValues||(o=I),!z.keepValues){if(z.keepDirtyValues){const rt=new Set([...m.mount,...Object.keys(an(o,f))]);for(const Dt of Array.from(rt)){const Ft=st(l.dirtyFields,Dt),_e=st(f,Dt),Na=st(K,Dt);Ft&&!te(_e)?Wt(K,Dt,_e):!Ft&&!te(Na)&&W(Dt,Na)}}else{if(Vf&&te(T))for(const rt of m.mount){const Dt=st(r,rt);if(Dt&&Dt._f){const Ft=Array.isArray(Dt._f.refs)?Dt._f.refs[0]:Dt._f.ref;if(du(Ft)){const _e=Ft.closest("form");if(_e){_e.reset();break}}}}if(z.keepFieldsRef)for(const rt of m.mount)W(rt,st(K,rt));else r={}}f=i.shouldUnregister?z.keepDefaultValues?me(o):{}:me(K),b.array.next({values:{...K}}),b.state.next({values:{...K}})}m={mount:z.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!S.isValid||!!z.keepIsValid||!!z.keepDirtyValues||!i.shouldUnregister&&!we(K),h.watch=!!i.shouldUnregister,h.keepIsValid=!!z.keepIsValid,h.action=!1,z.keepErrors||(l.errors={}),b.state.next({submitCount:z.keepSubmitCount?l.submitCount:0,isDirty:tt?!1:z.keepDirty?l.isDirty:!!(z.keepDefaultValues&&!wi(T,o)),isSubmitted:z.keepIsSubmitted?l.isSubmitted:!1,dirtyFields:tt?{}:z.keepDirtyValues?z.keepDefaultValues&&f?an(o,f):l.dirtyFields:z.keepDefaultValues&&T?an(o,T):z.keepDirty?l.dirtyFields:{},touchedFields:z.keepTouched?l.touchedFields:{},errors:z.keepErrors?l.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?l.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},cl=(T,z)=>ol(ba(T)?T(f):T,{...i.resetOptions,...z}),Du=(T,z={})=>{const I=st(r,T),$=I&&I._f;if($){const tt=$.refs?$.refs[0]:$.ref;tt.focus&&setTimeout(()=>{tt.focus(),z.shouldSelect&&ba(tt.select)&&tt.select()})}},ws=T=>{l={...l,...T}},fl={control:{register:za,unregister:de,getFieldState:X,handleSubmit:gn,setError:at,_subscribe:xt,_runSchema:ht,_updateIsValidating:j,_focusError:ri,_getWatch:mt,_getDirty:lt,_setValid:D,_setFieldArray:F,_setDisabledField:Jt,_setErrors:J,_getFieldArray:Bt,_reset:ol,_resetDefaultValues:()=>ba(i.defaultValues)&&i.defaultValues().then(T=>{cl(T,i.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:Gt,_disableForm:dn,_subjects:b,_proxyFormState:S,get _fields(){return r},get _formValues(){return f},get _state(){return h},set _state(T){h=T},get _defaultValues(){return o},get _names(){return m},set _names(T){m=T},get _formState(){return l},get _options(){return i},set _options(T){i={...i,...T}}},subscribe:zt,trigger:Ot,register:za,handleSubmit:gn,watch:pt,setValue:W,getValues:V,reset:cl,resetField:La,clearErrors:et,unregister:de,setError:at,setFocus:Du,getFieldState:X};return{...fl,formControl:fl}}function ay(s={}){const i=Oe.useRef(void 0),l=Oe.useRef(void 0),[r,o]=Oe.useState({isDirty:!1,isValidating:!1,isLoading:ba(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:ba(s.defaultValues)?void 0:s.defaultValues});if(!i.current)if(s.formControl)i.current={...s.formControl,formState:r},s.defaultValues&&!ba(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:h,...m}=Fb(s);i.current={...m,formState:r}}const f=i.current.control;return f._options=s,Sb(()=>{const h=f._subscribe({formState:f._proxyFormState,callback:()=>o({...f._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),f._formState.isReady=!0,h},[f]),Oe.useEffect(()=>f._disableForm(s.disabled),[f,s.disabled]),Oe.useEffect(()=>{s.mode&&(f._options.mode=s.mode),s.reValidateMode&&(f._options.reValidateMode=s.reValidateMode)},[f,s.mode,s.reValidateMode]),Oe.useEffect(()=>{s.errors&&(f._setErrors(s.errors),f._focusError())},[f,s.errors]),Oe.useEffect(()=>{s.shouldUnregister&&f._subjects.state.next({values:f._getWatch()})},[f,s.shouldUnregister]),Oe.useEffect(()=>{if(f._proxyFormState.isDirty){const h=f._getDirty();h!==r.isDirty&&f._subjects.state.next({isDirty:h})}},[f,r.isDirty]),Oe.useEffect(()=>{var h;s.values&&!wi(s.values,l.current)?(f._reset(s.values,{keepFieldsRef:!0,...f._options.resetOptions}),!((h=f._options.resetOptions)===null||h===void 0)&&h.keepIsValid||f._setValid(),l.current=s.values,o(m=>({...m}))):f._resetDefaultValues()},[f,s.values]),Oe.useEffect(()=>{f._state.mount||(f._setValid(),f._state.mount=!0),f._state.watch&&(f._state.watch=!1,f._subjects.state.next({...f._formState})),f._removeUnmounted()}),i.current.formState=Oe.useMemo(()=>vb(r,f),[f,r]),i.current}const Ub={deepseek:{base_url:"https://api.deepseek.com",model:"deepseek-chat"},moonshot:{base_url:"https://api.moonshot.cn/v1",model:"moonshot-v1-8k"},doubao:{base_url:"https://ark.cn-beijing.volces.com/api/v3",model:""},anthropic:{base_url:"",model:"claude-sonnet-4-6"},custom:{base_url:"",model:""}},jb=[{value:601008,label:" -  "},{value:601009,label:" -  "},{value:601010,label:" -  "},{value:101001,label:" - "},{value:101002,label:" - "},{value:101003,label:" - "},{value:101004,label:" - "},{value:301e3,label:""},{value:301001,label:""}],Pb=[{value:-1,label:""}];function kb(){const{register:s,handleSubmit:i,watch:l,setValue:r,reset:o}=ay(),[f,h]=w.useState("idle"),[m,p]=w.useState(""),[g,y]=w.useState("idle"),[S,E]=w.useState(""),[b,B]=w.useState(!0),C=l("llm_provider","deepseek");w.useEffect(()=>{fetch("/api/config").then(A=>A.json()).then(A=>{var J,Y,Z,Q,ht,Et,At,Gt,lt,mt,Bt,St,k;o({llm_provider:((J=A.llm)==null?void 0:J.provider)??"deepseek",llm_api_key:((Y=A.llm)==null?void 0:Y.api_key)??"",llm_base_url:((Z=A.llm)==null?void 0:Z.base_url)??"",llm_model:((Q=A.llm)==null?void 0:Q.model)??"",llm_temperature:((ht=A.llm)==null?void 0:ht.temperature)??.8,llm_max_tokens:((Et=A.llm)==null?void 0:Et.max_tokens)??512,asr_model_size:((At=A.asr)==null?void 0:At.model_size)??"small",asr_vad_sensitivity:((Gt=A.asr)==null?void 0:Gt.vad_sensitivity)??2,asr_microphone_device_index:((lt=A.asr)==null?void 0:lt.microphone_device_index)??-1,tts_app_id:((mt=A.tts)==null?void 0:mt.app_id)??0,tts_secret_id:((Bt=A.tts)==null?void 0:Bt.secret_id)??"",tts_secret_key:((St=A.tts)==null?void 0:St.secret_key)??"",tts_voice_type:((k=A.tts)==null?void 0:k.voice_type)??603004})}).finally(()=>B(!1))},[o]),w.useEffect(()=>{const A=Ub[C];A&&C!=="custom"&&(r("llm_base_url",A.base_url),A.model&&r("llm_model",A.model))},[C,r]);const D=async A=>{h("saving"),p("");try{const Y={...await fetch("/api/config").then(Q=>Q.json()),llm:{provider:A.llm_provider,api_key:A.llm_api_key,base_url:A.llm_base_url,model:A.llm_model,temperature:A.llm_temperature,max_tokens:A.llm_max_tokens},asr:{model_size:A.asr_model_size,vad_sensitivity:A.asr_vad_sensitivity,microphone_device_index:A.asr_microphone_device_index===-1?null:A.asr_microphone_device_index},tts:{app_id:Number(A.tts_app_id),secret_id:A.tts_secret_id,secret_key:A.tts_secret_key,voice_type:Number(A.tts_voice_type)}},Z=await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!Z.ok){const Q=await Z.json();throw new Error(Q.detail??Z.statusText)}h("success"),setTimeout(()=>h("idle"),3e3)}catch(J){h("error"),p(String(J))}},j=async()=>{y("testing"),E("");try{const A=await fetch("/api/llm/test",{method:"POST"}),J=await A.json();A.ok?(y("ok"),E(J.message??"")):(y("fail"),E(J.detail??""))}catch(A){y("fail"),E(String(A))}},F=async()=>{try{const A=await fetch("/api/tts/preview",{method:"POST"});if(A.ok){const J=await A.blob(),Y=URL.createObjectURL(J),Z=new Audio(Y);Z.play(),Z.onended=()=>URL.revokeObjectURL(Y)}}catch(A){console.error("TTS :",A)}};return b?x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx(Ni,{className:"animate-spin text-primary-400",size:32})}):x.jsxs("form",{onSubmit:i(D),className:"p-6 space-y-8 max-w-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-xl font-bold text-gray-100",children:""}),x.jsxs("button",{type:"submit",disabled:f==="saving",className:"btn-primary",children:[f==="saving"?x.jsx(Ni,{size:16,className:"animate-spin"}):f==="success"?x.jsx(fu,{size:16}):x.jsx(X_,{size:16}),f==="saving"?"...":f==="success"?"":""]})]}),f==="error"&&x.jsxs("div",{className:"bg-red-900/30 border border-red-700 rounded-lg px-4 py-3 text-sm text-red-300 flex items-center gap-2",children:[x.jsx(hu,{size:16,className:"flex-none"}),m]}),x.jsxs("section",{className:"card space-y-4",children:[x.jsx("h2",{className:"font-semibold text-gray-200",children:"LLM "}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:"Provider"}),x.jsxs("select",{className:"form-select",...s("llm_provider"),children:[x.jsx("option",{value:"deepseek",children:"DeepSeek"}),x.jsx("option",{value:"moonshot",children:"Moonshot"}),x.jsx("option",{value:"doubao",children:""}),x.jsx("option",{value:"anthropic",children:"Anthropic (Claude)"}),x.jsx("option",{value:"custom",children:""})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:"API Key"}),x.jsx("input",{type:"password",className:"form-input",placeholder:"sk-...",...s("llm_api_key")})]}),(C==="custom"||C==="doubao")&&x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:"Base URL"}),x.jsx("input",{type:"url",className:"form-input",placeholder:"https://api.example.com/v1",...s("llm_base_url")})]}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:""}),x.jsx("input",{type:"text",className:"form-input",placeholder:"deepseek-chat",...s("llm_model")})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"form-label",children:["Temperature (",l("llm_temperature"),")"]}),x.jsx("input",{type:"range",min:0,max:1,step:.1,className:"w-full accent-primary-500",...s("llm_temperature",{valueAsNumber:!0})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:"Max Tokens"}),x.jsx("input",{type:"number",className:"form-input",min:64,max:2048,...s("llm_max_tokens",{valueAsNumber:!0})})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("button",{type:"button",onClick:j,disabled:g==="testing",className:"btn-secondary",children:[g==="testing"?x.jsx(Ni,{size:14,className:"animate-spin"}):null,""]}),g==="ok"&&x.jsxs("span",{className:"text-green-400 text-sm flex items-center gap-1",children:[x.jsx(fu,{size:14})," ",S]}),g==="fail"&&x.jsxs("span",{className:"text-red-400 text-sm flex items-center gap-1",children:[x.jsx(hu,{size:14})," ",S]})]})]}),x.jsxs("section",{className:"card space-y-4",children:[x.jsx("h2",{className:"font-semibold text-gray-200",children:"ASR "}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:""}),x.jsxs("select",{className:"form-select",...s("asr_model_size"),children:[x.jsx("option",{value:"tiny",children:"Tiny"}),x.jsx("option",{value:"base",children:"Base"}),x.jsx("option",{value:"small",children:"Small"}),x.jsx("option",{value:"medium",children:"Medium"})]})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"form-label",children:["VAD ",l("asr_vad_sensitivity"),"",x.jsx("span",{className:"text-gray-500 font-normal ml-2",children:"0= 3="})]}),x.jsx("input",{type:"range",min:0,max:3,step:1,className:"w-full accent-primary-500",...s("asr_vad_sensitivity",{valueAsNumber:!0})}),x.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[x.jsx("span",{children:""}),x.jsx("span",{children:""})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:""}),x.jsx("select",{className:"form-select",...s("asr_microphone_device_index",{valueAsNumber:!0}),children:Pb.map(A=>x.jsx("option",{value:A.value,children:A.label},A.value))}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]})]}),x.jsxs("section",{className:"card space-y-4",children:[x.jsx("h2",{className:"font-semibold text-gray-200",children:"TTS "}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:"AppId"}),x.jsx("input",{type:"number",className:"form-input",placeholder:"1400xxxxxx",...s("tts_app_id",{valueAsNumber:!0})}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"  API "})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:"SecretId"}),x.jsx("input",{type:"password",className:"form-input",placeholder:"AKIDxxxxxxx",...s("tts_secret_id")})]}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:"SecretKey"}),x.jsx("input",{type:"password",className:"form-input",placeholder:"xxxxxxxxxx",...s("tts_secret_key")})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:""}),x.jsx("select",{className:"form-select",...s("tts_voice_type",{valueAsNumber:!0}),children:jb.map(A=>x.jsx("option",{value:A.value,children:A.label},A.value))})]}),x.jsxs("button",{type:"button",onClick:F,className:"btn-secondary",children:[x.jsx(tb,{size:14}),""]})]}),x.jsx("div",{className:"h-4"})]})}function Ib(){const{register:s,handleSubmit:i,reset:l}=ay(),[r,o]=w.useState("idle"),[f,h]=w.useState(""),[m,p]=w.useState("idle"),[g,y]=w.useState(""),[S,E]=w.useState([]),[b,B]=w.useState(!0),C=w.useRef(null);w.useEffect(()=>{fetch("/api/config").then(A=>A.json()).then(A=>{var J,Y,Z;l({name:((J=A.character)==null?void 0:J.name)??"",persona:((Y=A.character)==null?void 0:Y.persona)??"",live2d_model:((Z=A.character)==null?void 0:Z.live2d_model)??""})}).finally(()=>B(!1)),D()},[l]);const D=()=>{fetch("/api/models").then(A=>A.json()).then(A=>E(A.models??[])).catch(()=>{})},j=async A=>{o("saving"),h("");try{const Z={...await(await fetch("/api/config")).json(),character:{name:A.name,persona:A.persona,live2d_model:A.live2d_model}},Q=await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)});if(!Q.ok){const ht=await Q.json();throw new Error(ht.detail??Q.statusText)}o("success"),setTimeout(()=>o("idle"),3e3)}catch(J){o("error"),h(String(J))}},F=async A=>{const J=A.target.files;if(!J||J.length===0)return;p("uploading"),y("");const Y=new FormData;for(const Z of J)Y.append("files",Z);try{const Z=await fetch("/api/models/upload",{method:"POST",body:Y}),Q=await Z.json();if(Z.ok)p("success"),y(` "${Q.model_name}" `),D();else throw new Error(Q.detail??Z.statusText)}catch(Z){p("error"),y(String(Z))}C.current&&(C.current.value="")};return b?x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx(Ni,{className:"animate-spin text-primary-400",size:32})}):x.jsxs("form",{onSubmit:i(j),className:"p-6 space-y-8 max-w-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-xl font-bold text-gray-100",children:""}),x.jsxs("button",{type:"submit",disabled:r==="saving",className:"btn-primary",children:[r==="saving"?x.jsx(Ni,{size:16,className:"animate-spin"}):r==="success"?x.jsx(fu,{size:16}):x.jsx(X_,{size:16}),r==="saving"?"...":r==="success"?"":""]})]}),r==="error"&&x.jsxs("div",{className:"bg-red-900/30 border border-red-700 rounded-lg px-4 py-3 text-sm text-red-300 flex items-center gap-2",children:[x.jsx(hu,{size:16,className:"flex-none"}),f]}),x.jsxs("section",{className:"card space-y-4",children:[x.jsx("h2",{className:"font-semibold text-gray-200",children:""}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:""}),x.jsx("input",{type:"text",className:"form-input",placeholder:"",...s("name",{required:!0})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:""}),x.jsx("textarea",{className:"form-input resize-none",rows:6,placeholder:"...",...s("persona")}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" system prompt  LLM "})]}),x.jsxs("div",{children:[x.jsx("label",{className:"form-label",children:" Live2D "}),x.jsxs("select",{className:"form-select",...s("live2d_model"),children:[x.jsx("option",{value:"",children:""}),S.map(A=>x.jsx("option",{value:A,children:A},A))]}),S.length===0&&x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]})]}),x.jsxs("section",{className:"card space-y-4",children:[x.jsx("h2",{className:"font-semibold text-gray-200",children:"Live2D "}),x.jsxs("p",{className:"text-sm text-gray-400",children:[" ",x.jsx("code",{className:"text-gray-300",children:".zip"})," ",x.jsx("code",{className:"text-gray-300",children:".model3.json"}),"",x.jsx("code",{className:"text-gray-300",children:".moc3"}),""]}),x.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-xl p-8 text-center cursor-pointer hover:border-primary-600 transition-colors",onClick:()=>{var A;return(A=C.current)==null?void 0:A.click()},children:[x.jsx(ib,{className:"mx-auto mb-3 text-gray-500",size:32}),x.jsx("p",{className:"text-gray-400 text-sm",children:"  "}),x.jsx("p",{className:"text-gray-600 text-xs mt-1",children:" .zip / .model3.json / .moc3 / .png "}),x.jsx("input",{ref:C,type:"file",multiple:!0,accept:".zip,.json,.moc3,.png,.jpg,.physics3.json,.motion3.json",className:"hidden",onChange:F})]}),m==="uploading"&&x.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-400",children:[x.jsx(Ni,{size:14,className:"animate-spin"}),"..."]}),m==="success"&&x.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-400",children:[x.jsx(fu,{size:14}),g]}),m==="error"&&x.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-400",children:[x.jsx(hu,{size:14}),g]}),S.length>0&&x.jsxs("div",{children:[x.jsxs("p",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[x.jsx(Jx,{size:14})," "]}),x.jsx("div",{className:"space-y-1",children:S.map(A=>x.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300 bg-gray-800 rounded-lg px-3 py-2",children:[x.jsx("span",{className:"text-lg",children:""}),A]},A))})]})]}),x.jsx("div",{className:"h-4"})]})}const _s=class _s{constructor(i=0){_(this,"_ptr");_(this,"_size");_(this,"_capacity");i<1?(this._ptr=[],this._capacity=0,this._size=0):(this._ptr=new Array(i),this._capacity=i,this._size=0)}at(i){return this._ptr[i]}set(i,l){this._ptr[i]=l}get(i=0){const l=new Array;for(let r=i;r<this._size;r++)l.push(this._ptr[r]);return l}pushBack(i){this._size>=this._capacity&&this.prepareCapacity(this._capacity==0?_s.DefaultSize:this._capacity*2),this._ptr[this._size++]=i}clear(){this._ptr.length=0,this._size=0}getSize(){return this._size}assign(i,l){this._size<i&&this.prepareCapacity(i);for(let o=0;o<i;o++)this._ptr[o]=l;this._size=i}resize(i,l=null){this.updateSize(i,l,!0)}updateSize(i,l=null,r=!0){if(this._size<i)if(this.prepareCapacity(i),r)for(let f=this._size;f<i;f++)typeof l=="function"?this._ptr[f]=JSON.parse(JSON.stringify(new l)):this._ptr[f]=l;else for(let f=this._size;f<i;f++)this._ptr[f]=l;else{const f=this._size-i;this._ptr.splice(this._size-f,f)}this._size=i}insert(i,l,r){let o=i._index;const f=l._index,h=r._index,m=h-f;this.prepareCapacity(this._size+m);const p=this._size-o;if(p>0)for(let g=0;g<p;g++)this._ptr.splice(o+g,0,null);for(let g=f;g<h;g++,o++)this._ptr[o]=l._vector._ptr[g];this._size=this._size+m}remove(i){return i<0||this._size<=i?!1:(this._ptr.splice(i,1),--this._size,!0)}erase(i){const l=i._index;return l<0||this._size<=l?i:(this._ptr.splice(l,1),--this._size,new ou(this,l))}prepareCapacity(i){i>this._capacity&&(this._capacity==0?(this._ptr=new Array(i),this._capacity=i):(this._ptr.length=i,this._capacity=i))}begin(){return this._size==0?this.end():new ou(this,0)}end(){return new ou(this,this._size)}getOffset(i){const l=new _s;return l._ptr=this.get(i),l._size=this.get(i).length,l._capacity=this.get(i).length,l}};_(_s,"DefaultSize",10);let ct=_s,ou=class yf{constructor(i,l){_(this,"_index");_(this,"_vector");this._vector=i??null,this._index=l??0}set(i){return this._index=i._index,this._vector=i._vector,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new yf(this._vector,this._index++)}decrement(){return new yf(this._vector,this._index--)}ptr(){return this._vector._ptr[this._index]}substitution(i){return this._index=i._index,this._vector=i._vector,this}notEqual(i){return this._index!=i._index||this._vector!=i._vector}};var mp;(s=>{s.csmVector=ct,s.iterator=ou})(mp||(mp={}));class pa{constructor(i){_(this,"s");this.s=i}append(i,l){return this.s+=l!==void 0?i.substr(0,l):i,this}expansion(i,l){for(let r=0;r<i;r++)this.append(l);return this}getBytes(){return encodeURIComponent(this.s).replace(/%../g,"x").length}getLength(){return this.s.length}isLess(i){return this.s<i.s}isGreat(i){return this.s>i.s}isEqual(i){return this.s==i}isEmpty(){return this.s.length==0}}var pp;(s=>{s.csmString=pa})(pp||(pp={}));class sn{constructor(i){_(this,"_id");if(typeof i=="string"){this._id=new pa(i);return}this._id=i}static createIdInternal(i){return new sn(i)}getString(){return this._id}isEqual(i){return typeof i=="string"?this._id.isEqual(i):i instanceof pa?this._id.isEqual(i.s):i instanceof sn?this._id.isEqual(i._id.s):!1}isNotEqual(i){return typeof i=="string"?!this._id.isEqual(i):i instanceof pa?!this._id.isEqual(i.s):i instanceof sn?!this._id.isEqual(i._id.s):!1}}var _p;(s=>{s.CubismId=sn})(_p||(_p={}));class iy{constructor(){_(this,"_ids");this._ids=new ct}release(){for(let i=0;i<this._ids.getSize();++i)this._ids.set(i,void 0);this._ids=null}registerIds(i){for(let l=0;l<i.length;l++)this.registerId(i[l])}registerId(i){let l=null;if(typeof i=="string"){if((l=this.findId(i))!=null)return l;l=sn.createIdInternal(i),this._ids.pushBack(l)}else return this.registerId(i.s);return l}getId(i){return this.registerId(i)}isExist(i){return typeof i=="string"?this.findId(i)!=null:this.isExist(i.s)}findId(i){for(let l=0;l<this._ids.getSize();++l)if(this._ids.at(l).getString().isEqual(i))return this._ids.at(l);return null}}var yp;(s=>{s.CubismIdManager=iy})(yp||(yp={}));class Ye{constructor(){_(this,"_tr");this._tr=new Float32Array(16),this.loadIdentity()}static multiply(i,l,r){const o=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),f=4;for(let h=0;h<f;++h)for(let m=0;m<f;++m)for(let p=0;p<f;++p)o[m+h*4]+=i[p+h*4]*l[m+p*4];for(let h=0;h<16;++h)r[h]=o[h]}loadIdentity(){const i=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(i)}setMatrix(i){for(let l=0;l<16;++l)this._tr[l]=i[l]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(i){return this._tr[0]*i+this._tr[12]}transformY(i){return this._tr[5]*i+this._tr[13]}invertTransformX(i){return(i-this._tr[12])/this._tr[0]}invertTransformY(i){return(i-this._tr[13])/this._tr[5]}translateRelative(i,l){const r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,i,l,0,1]);Ye.multiply(r,this._tr,this._tr)}translate(i,l){this._tr[12]=i,this._tr[13]=l}translateX(i){this._tr[12]=i}translateY(i){this._tr[13]=i}scaleRelative(i,l){const r=new Float32Array([i,0,0,0,0,l,0,0,0,0,1,0,0,0,0,1]);Ye.multiply(r,this._tr,this._tr)}scale(i,l){this._tr[0]=i,this._tr[5]=l}multiplyByMatrix(i){Ye.multiply(i.getArray(),this._tr,this._tr)}clone(){const i=new Ye;for(let l=0;l<this._tr.length;l++)i._tr[l]=this._tr[l];return i}}var vp;(s=>{s.CubismMatrix44=Ye})(vp||(vp={}));class mu{constructor(i,l,r,o){_(this,"x");_(this,"y");_(this,"width");_(this,"height");this.x=i,this.y=l,this.width=r,this.height=o}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(i){this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height}expand(i,l){this.x-=i,this.y-=l,this.width+=i*2,this.height+=l*2}}var Sp;(s=>{s.csmRect=mu})(Sp||(Sp={}));var df;let Tu=(df=class{constructor(){_(this,"_mvpMatrix4x4");_(this,"_modelColor");_(this,"_isCulling");_(this,"_isPremultipliedAlpha");_(this,"_anisotropy");_(this,"_model");_(this,"_useHighPrecisionMask");this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisotropy=0,this._model=null,this._modelColor=new He,this._useHighPrecisionMask=!1,this._mvpMatrix4x4=new Ye,this._mvpMatrix4x4.loadIdentity()}static create(){return null}static delete(i){}initialize(i){this._model=i}drawModel(){this.getModel()!=null&&(this.saveProfile(),this.doDrawModel(),this.restoreProfile())}setMvpMatrix(i){this._mvpMatrix4x4.setMatrix(i.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(i,l,r,o){i<0?i=0:i>1&&(i=1),l<0?l=0:l>1&&(l=1),r<0?r=0:r>1&&(r=1),o<0?o=0:o>1&&(o=1),this._modelColor.r=i,this._modelColor.g=l,this._modelColor.b=r,this._modelColor.a=o}getModelColor(){return JSON.parse(JSON.stringify(this._modelColor))}getModelColorWithOpacity(i){const l=this.getModelColor();return l.a*=i,this.isPremultipliedAlpha()&&(l.r*=l.a,l.g*=l.a,l.b*=l.a),l}setIsPremultipliedAlpha(i){this._isPremultipliedAlpha=i}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(i){this._isCulling=i}isCulling(){return this._isCulling}setAnisotropy(i){this._anisotropy=i}getAnisotropy(){return this._anisotropy}getModel(){return this._model}useHighPrecisionMask(i){this._useHighPrecisionMask=i}isUsingHighPrecisionMask(){return this._useHighPrecisionMask}},_(df,"staticRelease"),df);var Fi=(s=>(s[s.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",s[s.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",s[s.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",s))(Fi||{});class He{constructor(i=1,l=1,r=1,o=1){_(this,"r");_(this,"g");_(this,"b");_(this,"a");this.r=i,this.g=l,this.b=r,this.a=o}}class Hb{constructor(i,l){_(this,"_isUsing");_(this,"_clippingIdList");_(this,"_clippingIdCount");_(this,"_layoutChannelIndex");_(this,"_layoutBounds");_(this,"_allClippedDrawRect");_(this,"_matrixForMask");_(this,"_matrixForDraw");_(this,"_clippedDrawableIndexList");_(this,"_bufferIndex");this._clippingIdList=i,this._clippingIdCount=l,this._allClippedDrawRect=new mu,this._layoutBounds=new mu,this._clippedDrawableIndexList=[],this._matrixForMask=new Ye,this._matrixForDraw=new Ye,this._bufferIndex=0}release(){this._layoutBounds!=null&&(this._layoutBounds=null),this._allClippedDrawRect!=null&&(this._allClippedDrawRect=null),this._clippedDrawableIndexList!=null&&(this._clippedDrawableIndexList=null)}addClippedDrawable(i){this._clippedDrawableIndexList.push(i)}}var xp;(s=>{s.CubismBlendMode=Fi,s.CubismRenderer=Tu,s.CubismTextureColor=He})(xp||(xp={}));const Yb=(s,i,l)=>{zf.print(s,"[CSM]"+i,l)},tu=(s,i,l)=>{Yb(s,i+`
`,l)},Ie=s=>{console.assert(s)};let xs,ma,wt,ie;xs=(s,...i)=>{tu(sl.LogLevel_Debug,"[D]"+s,i)},ma=(s,...i)=>{tu(sl.LogLevel_Info,"[I]"+s,i)},wt=(s,...i)=>{tu(sl.LogLevel_Warning,"[W]"+s,i)},ie=(s,...i)=>{tu(sl.LogLevel_Error,"[E]"+s,i)};class zf{static print(i,l,r){if(i<kt.getLoggingLevel())return;const o=kt.coreLogFunction;if(!o)return;const f=l.replace(/\{(\d+)\}/g,(h,m)=>r[m]);o(f)}static dumpBytes(i,l,r){for(let o=0;o<r;o++)o%16==0&&o>0?this.print(i,`
`):o%8==0&&o>0&&this.print(i,"  "),this.print(i,"{0} ",[l[o]&255]);this.print(i,`
`)}constructor(){}}var bp;(s=>{s.CubismDebug=zf})(bp||(bp={}));class ly{constructor(i,l){_(this,"first");_(this,"second");this.first=i??null,this.second=l??null}}const ys=class ys{constructor(i){_(this,"_keyValues");_(this,"_dummyValue");_(this,"_size");i!=null?i<1?(this._keyValues=[],this._dummyValue=null,this._size=0):(this._keyValues=new Array(i),this._size=i):(this._keyValues=[],this._dummyValue=null,this._size=0)}release(){this.clear()}appendKey(i){let l=-1;for(let r=0;r<this._size;r++)if(this._keyValues[r].first==i){l=r;break}if(l!=-1){wt("The key `{0}` is already append.",i);return}this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new ly(i),this._size+=1}getValue(i){let l=-1;for(let r=0;r<this._size;r++)if(this._keyValues[r].first==i){l=r;break}return l>=0?this._keyValues[l].second:(this.appendKey(i),this._keyValues[this._size-1].second)}setValue(i,l){let r=-1;for(let o=0;o<this._size;o++)if(this._keyValues[o].first==i){r=o;break}r>=0?this._keyValues[r].second=l:(this.appendKey(i),this._keyValues[this._size-1].second=l)}isExist(i){for(let l=0;l<this._size;l++)if(this._keyValues[l].first==i)return!0;return!1}clear(){this._keyValues=void 0,this._keyValues=null,this._keyValues=[],this._size=0}getSize(){return this._size}prepareCapacity(i,l){i>this._keyValues.length&&(this._keyValues.length==0?(!l&&i<ys.DefaultSize&&(i=ys.DefaultSize),this._keyValues.length=i):(!l&&i<this._keyValues.length*2&&(i=this._keyValues.length*2),this._keyValues.length=i))}begin(){return new ul(this,0)}end(){return new ul(this,this._size)}erase(i){const l=i._index;return l<0||this._size<=l?i:(this._keyValues.splice(l,1),--this._size,new ul(this,l))}dumpAsInt(){for(let i=0;i<this._size;i++)xs("{0} ,",this._keyValues[i]),xs(`
`)}};_(ys,"DefaultSize",10);let Ma=ys;class ul{constructor(i,l){_(this,"_index");_(this,"_map");this._map=i??new Ma,this._index=l??0}set(i){return this._index=i._index,this._map=i._map,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new ul(this._map,this._index++)}decrement(){const i=new ul(this._map,this._index);return this._map=i._map,this._index=i._index,this}ptr(){return this._map._keyValues[this._index]}notEqual(i){return this._index!=i._index||this._map!=i._map}}var Cp;(s=>{s.csmMap=Ma,s.csmPair=ly,s.iterator=ul})(Cp||(Cp={}));class pu{static parseJsonObject(i,l){return Object.keys(i).forEach(r=>{if(typeof i[r]=="boolean"){const o=!!i[r];l.put(r,new ta(o))}else if(typeof i[r]=="string"){const o=String(i[r]);l.put(r,new on(o))}else if(typeof i[r]=="number"){const o=Number(i[r]);l.put(r,new yu(o))}else i[r]instanceof Array?l.put(r,pu.parseJsonArray(i[r])):i[r]instanceof Object?l.put(r,pu.parseJsonObject(i[r],new un)):i[r]==null?l.put(r,new rn):l.put(r,i[r])}),l}static parseJsonArray(i){const l=new Lf;return Object.keys(i).forEach(r=>{if(typeof Number(r)=="number")if(typeof i[r]=="boolean"){const f=!!i[r];l.add(new ta(f))}else if(typeof i[r]=="string"){const f=String(i[r]);l.add(new on(f))}else if(typeof i[r]=="number"){const f=Number(i[r]);l.add(new yu(f))}else i[r]instanceof Array?l.add(this.parseJsonArray(i[r])):i[r]instanceof Object?l.add(this.parseJsonObject(i[r],new un)):i[r]==null?l.add(new rn):l.add(i[r]);else if(i[r]instanceof Array)l.add(this.parseJsonArray(i[r]));else if(i[r]instanceof Object)l.add(this.parseJsonObject(i[r],new un));else if(i[r]==null)l.add(new rn);else{const f=Array(i[r]);for(let h=0;h<f.length;h++)l.add(f[h])}}),l}}const _u="Error: type mismatch",Gb="Error: index out of bounds";var Ee;let Ve=(Ee=class{constructor(){_(this,"_stringBuffer")}getRawString(i,l){return this.getString(i,l)}toInt(i=0){return i}toFloat(i=0){return i}toBoolean(i=!1){return i}getSize(){return 0}getArray(i=null){return i}getVector(i=new ct){return i}getMap(i){return i}getValueByIndex(i){return Ee.errorValue.setErrorNotForClientCall(_u)}getValueByString(i){return Ee.nullValue.setErrorNotForClientCall(_u)}getKeys(){return Ee.dummyKeys}isError(){return!1}isNull(){return!1}isBool(){return!1}isFloat(){return!1}isString(){return!1}isArray(){return!1}isMap(){return!1}equals(i){return!1}isStatic(){return!1}setErrorNotForClientCall(i){return bs.errorValue}static staticInitializeNotForClientCall(){ta.trueValue=new ta(!0),ta.falseValue=new ta(!1),Ee.errorValue=new bs("ERROR",!0),Ee.nullValue=new rn,Ee.dummyKeys=new ct}static staticReleaseNotForClientCall(){ta.trueValue=null,ta.falseValue=null,Ee.errorValue=null,Ee.nullValue=null,Ee.dummyKeys=null}},_(Ee,"dummyKeys"),_(Ee,"errorValue"),_(Ee,"nullValue"),Ee);class Be{constructor(i,l){_(this,"_parseCallback",pu.parseJsonObject);_(this,"_error");_(this,"_lineCount");_(this,"_root");this._error=null,this._lineCount=0,this._root=null,i!=null&&this.parseBytes(i,l,this._parseCallback)}static create(i,l){const r=new Be;return r.parseBytes(i,l,r._parseCallback)?r:(Be.delete(r),null)}static delete(i){}getRoot(){return this._root}static arrayBufferToString(i){const l=new Uint8Array(i);let r="";for(let o=0,f=l.length;o<f;++o)r+="%"+this.pad(l[o].toString(16));return r=decodeURIComponent(r),r}static pad(i){return i.length<2?"0"+i:i}parseBytes(i,l,r){const o=new Array(1),f=Be.arrayBufferToString(i);if(r==null?this._root=this.parseValue(f,l,0,o):this._root=r(JSON.parse(f),new un),this._error){let h="\0";return h="Json parse error : @line "+(this._lineCount+1)+`
`,this._root=new on(h),ma("{0}",this._root.getRawString()),!1}else if(this._root==null)return this._root=new bs(new pa(this._error),!1),!1;return!0}getParseError(){return this._error}checkEndOfFile(){return this._root.getArray()[1].equals("EOF")}parseValue(i,l,r,o){if(this._error)return null;let f=null,h=r,m;for(;h<l;h++)switch(i[h]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{const g=new Array(1);return m=qb(i.slice(h),g),o[0]=i.indexOf(g[0]),new yu(m)}case'"':return new on(this.parseString(i,l,h+1,o));case"[":return f=this.parseArray(i,l,h+1,o),f;case"{":return f=this.parseObject(i,l,h+1,o),f;case"n":return h+3<l?(f=new rn,o[0]=h+4):this._error="parse null",f;case"t":return h+3<l?(f=ta.trueValue,o[0]=h+4):this._error="parse true",f;case"f":return h+4<l?(f=ta.falseValue,o[0]=h+5):this._error="illegal ',' position",f;case",":return this._error="illegal ',' position",null;case"]":return o[0]=h,null;case`
`:this._lineCount++}return this._error="illegal end of value",null}parseString(i,l,r,o){if(this._error)return null;if(!i)return this._error="string is null",null;let f=r,h,m;const p=new pa("");let g=r;for(;f<l;f++)switch(h=i[f],h){case'"':return o[0]=f+1,p.append(i.slice(g),f-g),p.s;case"//":if(f++,f-1>g&&p.append(i.slice(g),f-g),g=f+1,f<l)switch(m=i[f],m){case"\\":p.expansion(1,"\\");break;case'"':p.expansion(1,'"');break;case"/":p.expansion(1,"/");break;case"b":p.expansion(1,"\b");break;case"f":p.expansion(1,"\f");break;case"n":p.expansion(1,`
`);break;case"r":p.expansion(1,"\r");break;case"t":p.expansion(1,"	");break;case"u":this._error="parse string/unicord escape not supported";break}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null}parseObject(i,l,r,o){if(this._error)return null;if(!i)return this._error="buffer is null",null;const f=new un;let h="",m=r,p="";const g=Array(1);let y=!1;for(;m<l;m++){t:for(;m<l;m++)switch(p=i[m],p){case'"':if(h=this.parseString(i,l,m+1,g),this._error)return null;m=g[0],y=!0;break t;case"}":return o[0]=m+1,f;case":":this._error="illegal ':' position";break;case`
`:this._lineCount++}if(!y)return this._error="key not found",null;y=!1;t:for(;m<l;m++)switch(p=i[m],p){case":":y=!0,m++;break t;case"}":this._error="illegal '}' position";break;case`
`:this._lineCount++}if(!y)return this._error="':' not found",null;const S=this.parseValue(i,l,m,g);if(this._error)return null;m=g[0],f.put(h,S);t:for(;m<l;m++)switch(p=i[m],p){case",":break t;case"}":return o[0]=m+1,f;case`
`:this._lineCount++}}return this._error="illegal end of perseObject",null}parseArray(i,l,r,o){if(this._error)return null;if(!i)return this._error="buffer is null",null;let f=new Lf,h=r,m;const p=new Array(1);for(;h<l;h++){const g=this.parseValue(i,l,h,p);if(this._error)return null;h=p[0],g&&f.add(g);t:for(;h<l;h++)switch(m=i[h],m){case",":break t;case"]":return o[0]=h+1,f;case`
`:++this._lineCount}}return f=void 0,this._error="illegal end of parseObject",null}}class yu extends Ve{constructor(l){super();_(this,"_value");this._value=l}isFloat(){return!0}getString(l,r){return this._value=parseFloat("\0"),this._stringBuffer="\0",this._stringBuffer}toInt(l=0){return parseInt(this._value.toString())}toFloat(l=0){return this._value}equals(l){return typeof l=="number"?Math.round(l)?!1:l==this._value:!1}}class ta extends Ve{constructor(l){super();_(this,"_boolValue");this._boolValue=l}isBool(){return!0}toBoolean(l=!1){return this._boolValue}getString(l,r){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer}equals(l){return typeof l=="boolean"?l==this._boolValue:!1}isStatic(){return!0}}_(ta,"trueValue"),_(ta,"falseValue");class on extends Ve{constructor(i){super(),typeof i=="string"&&(this._stringBuffer=i),i instanceof pa&&(this._stringBuffer=i.s)}isString(){return!0}getString(i,l){return this._stringBuffer}equals(i){return typeof i=="string"?this._stringBuffer==i:i instanceof pa?this._stringBuffer==i.s:!1}}class bs extends on{constructor(l,r){var i=(...L1)=>(super(...L1),_(this,"_isStatic"),this);i(l),this._isStatic=r}isStatic(){return this._isStatic}setErrorNotForClientCall(l){return this._stringBuffer=l,this}isError(){return!0}}class rn extends Ve{isNull(){return!0}getString(i,l){return this._stringBuffer}isStatic(){return!0}setErrorNotForClientCall(i){return this._stringBuffer=i,bs.nullValue}constructor(){super(),this._stringBuffer="NullValue"}}class Lf extends Ve{constructor(){super();_(this,"_array");this._array=new ct}release(){for(let l=this._array.begin();l.notEqual(this._array.end());l.preIncrement()){let r=l.ptr();r&&!r.isStatic()&&(r=void 0,r=null)}}isArray(){return!0}getValueByIndex(l){if(l<0||this._array.getSize()<=l)return Ve.errorValue.setErrorNotForClientCall(Gb);const r=this._array.at(l);return r??Ve.nullValue}getValueByString(l){return Ve.errorValue.setErrorNotForClientCall(_u)}getString(l,r){const o=r+`[
`;for(let f=this._array.begin();f.notEqual(this._array.end());f.increment()){const h=f.ptr();this._stringBuffer+=r+""+h.getString(r+" ")+`
`}return this._stringBuffer=o+r+`]
`,this._stringBuffer}add(l){this._array.pushBack(l)}getVector(l=null){return this._array}getSize(){return this._array.getSize()}}class un extends Ve{constructor(){super();_(this,"_map");_(this,"_keys");this._map=new Ma}release(){const l=this._map.begin();for(;l.notEqual(this._map.end());){let r=l.ptr().second;r&&!r.isStatic()&&(r=void 0,r=null),l.preIncrement()}}isMap(){return!0}getValueByString(l){if(l instanceof pa){const r=this._map.getValue(l.s);return r??Ve.nullValue}for(let r=this._map.begin();r.notEqual(this._map.end());r.preIncrement())if(r.ptr().first==l)return r.ptr().second==null?Ve.nullValue:r.ptr().second;return Ve.nullValue}getValueByIndex(l){return Ve.errorValue.setErrorNotForClientCall(_u)}getString(l,r){this._stringBuffer=r+`{
`;const o=this._map.begin();for(;o.notEqual(this._map.end());){const f=o.ptr().first,h=o.ptr().second;this._stringBuffer+=r+" "+f+" : "+h.getString(r+"   ")+` 
`,o.preIncrement()}return this._stringBuffer+=r+`}
`,this._stringBuffer}getMap(l){return this._map}put(l,r){this._map.setValue(l,r)}getKeys(){if(!this._keys){this._keys=new ct;const l=this._map.begin();for(;l.notEqual(this._map.end());){const r=l.ptr().first;this._keys.pushBack(r),l.preIncrement()}}return this._keys}getSize(){return this._keys.getSize()}}var Mp;(s=>{s.CubismJson=Be,s.JsonArray=Lf,s.JsonBoolean=ta,s.JsonError=bs,s.JsonFloat=yu,s.JsonMap=un,s.JsonNullvalue=rn,s.JsonString=on,s.Value=Ve})(Mp||(Mp={}));function qb(s,i){let l=0;for(let o=1;;o++){const f=s.slice(o-1,o);if(f=="e"||f=="-"||f=="E")continue;const h=s.substring(0,o),m=Number(h);if(isNaN(m))break;l=o}let r=parseFloat(s);return isNaN(r)&&(r=NaN),i[0]=s.slice(l),r}let Sa=!1,Kl=!1,Wl=null,cs=null;const zi=Object.freeze({vertexOffset:0,vertexStep:2});function ln(s){s&&(s=void 0)}class kt{static startUp(i=null){if(Sa)return ma("CubismFramework.startUp() is already done."),Sa;if(Wl=i,Wl!=null&&Live2DCubismCore.Logging.csmSetLogFunction(Wl.logFunction),Sa=!0,Sa){const l=Live2DCubismCore.Version.csmGetVersion(),r=(l&4278190080)>>24,o=(l&16711680)>>16,f=l&65535,h=l;ma("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+r).slice(-2),("00"+o).slice(-2),("0000"+f).slice(-4),h)}return ma("CubismFramework.startUp() is complete."),Sa}static cleanUp(){Sa=!1,Kl=!1,Wl=null,cs=null}static initialize(i=0){if(Ie(Sa),!Sa){wt("CubismFramework is not started.");return}if(Kl){wt("CubismFramework.initialize() skipped, already initialized.");return}Ve.staticInitializeNotForClientCall(),cs=new iy,Live2DCubismCore.Memory.initializeAmountOfMemory(i),Kl=!0,ma("CubismFramework.initialize() is complete.")}static dispose(){if(Ie(Sa),!Sa){wt("CubismFramework is not started.");return}if(!Kl){wt("CubismFramework.dispose() skipped, not initialized.");return}Ve.staticReleaseNotForClientCall(),cs.release(),cs=null,Tu.staticRelease(),Kl=!1,ma("CubismFramework.dispose() is complete.")}static isStarted(){return Sa}static isInitialized(){return Kl}static coreLogFunction(i){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(i)}static getLoggingLevel(){return Wl!=null?Wl.loggingLevel:5}static getIdManager(){return cs}constructor(){}}var sl=(s=>(s[s.LogLevel_Verbose=0]="LogLevel_Verbose",s[s.LogLevel_Debug=1]="LogLevel_Debug",s[s.LogLevel_Info=2]="LogLevel_Info",s[s.LogLevel_Warning=3]="LogLevel_Warning",s[s.LogLevel_Error=4]="LogLevel_Error",s[s.LogLevel_Off=5]="LogLevel_Off",s))(sl||{}),Tp;(s=>{s.Constant=zi,s.csmDelete=ln,s.CubismFramework=kt})(Tp||(Tp={}));class Os{constructor(){_(this,"_breathParameters");_(this,"_currentTime");this._currentTime=0}static create(){return new Os}static delete(i){}setParameters(i){this._breathParameters=i}getParameters(){return this._breathParameters}updateParameters(i,l){this._currentTime+=l;const r=this._currentTime*2*Math.PI;for(let o=0;o<this._breathParameters.getSize();++o){const f=this._breathParameters.at(o);i.addParameterValueById(f.parameterId,f.offset+f.peak*Math.sin(r/f.cycle),f.weight)}}}class ny{constructor(i,l,r,o,f){_(this,"parameterId");_(this,"offset");_(this,"peak");_(this,"cycle");_(this,"weight");this.parameterId=i??null,this.offset=l??0,this.peak=r??0,this.cycle=o??0,this.weight=f??0}}var Ep;(s=>{s.BreathParameterData=ny,s.CubismBreath=Os})(Ep||(Ep={}));const vs=class vs{constructor(i){_(this,"_blinkingState");_(this,"_parameterIds");_(this,"_nextBlinkingTime");_(this,"_stateStartTimeSeconds");_(this,"_blinkingIntervalSeconds");_(this,"_closingSeconds");_(this,"_closedSeconds");_(this,"_openingSeconds");_(this,"_userTimeSeconds");if(this._blinkingState=0,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=new ct,i!=null)for(let l=0;l<i.getEyeBlinkParameterCount();++l)this._parameterIds.pushBack(i.getEyeBlinkParameterId(l))}static create(i=null){return new vs(i)}static delete(i){}setBlinkingInterval(i){this._blinkingIntervalSeconds=i}setBlinkingSetting(i,l,r){this._closingSeconds=i,this._closedSeconds=l,this._openingSeconds=r}setParameterIds(i){this._parameterIds=i}getParameterIds(){return this._parameterIds}updateParameters(i,l){this._userTimeSeconds+=l;let r,o=0;switch(this._blinkingState){case 2:o=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,o>=1&&(o=1,this._blinkingState=3,this._stateStartTimeSeconds=this._userTimeSeconds),r=1-o;break;case 3:o=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,o>=1&&(this._blinkingState=4,this._stateStartTimeSeconds=this._userTimeSeconds),r=0;break;case 4:o=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,o>=1&&(o=1,this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming()),r=o;break;case 1:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=2,this._stateStartTimeSeconds=this._userTimeSeconds),r=1;break;case 0:default:this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming(),r=1;break}vs.CloseIfZero||(r=-r);for(let h=0;h<this._parameterIds.getSize();++h)i.setParameterValueById(this._parameterIds.at(h),r)}determinNextBlinkingTiming(){const i=Math.random();return this._userTimeSeconds+i*(2*this._blinkingIntervalSeconds-1)}};_(vs,"CloseIfZero",!0);let Cs=vs;var sy=(s=>(s[s.EyeState_First=0]="EyeState_First",s[s.EyeState_Interval=1]="EyeState_Interval",s[s.EyeState_Closing=2]="EyeState_Closing",s[s.EyeState_Closed=3]="EyeState_Closed",s[s.EyeState_Opening=4]="EyeState_Opening",s))(sy||{}),Bp;(s=>{s.CubismEyeBlink=Cs,s.EyeState=sy})(Bp||(Bp={}));const Xb=.001,lf=.5,Rp="FadeInTime",Vp="Link",Qb="Groups",Zb="Id";class Ms{constructor(){_(this,"_partGroups");_(this,"_partGroupCounts");_(this,"_fadeTimeSeconds");_(this,"_lastModel");this._fadeTimeSeconds=lf,this._lastModel=null,this._partGroups=new ct,this._partGroupCounts=new ct}static create(i,l){const r=Be.create(i,l);if(!r)return null;const o=new Ms,f=r.getRoot();f.getValueByString(Rp).isNull()||(o._fadeTimeSeconds=f.getValueByString(Rp).toFloat(lf),o._fadeTimeSeconds<0&&(o._fadeTimeSeconds=lf));const h=f.getValueByString(Qb),m=h.getSize();for(let p=0;p<m;++p){const g=h.getValueByIndex(p),y=g.getSize();let S=0;for(let E=0;E<y;++E){const b=g.getValueByIndex(E),B=new Ts,C=kt.getIdManager().getId(b.getValueByString(Zb).getRawString());if(B.partId=C,!b.getValueByString(Vp).isNull()){const D=b.getValueByString(Vp),j=D.getSize();for(let F=0;F<j;++F){const A=new Ts,J=kt.getIdManager().getId(D.getValueByIndex(F).getString());A.partId=J,B.link.pushBack(A)}}o._partGroups.pushBack(B.clone()),++S}o._partGroupCounts.pushBack(S)}return Be.delete(r),o}static delete(i){}updateParameters(i,l){i!=this._lastModel&&this.reset(i),this._lastModel=i,l<0&&(l=0);let r=0;for(let o=0;o<this._partGroupCounts.getSize();o++){const f=this._partGroupCounts.at(o);this.doFade(i,l,r,f),r+=f}this.copyPartOpacities(i)}reset(i){let l=0;for(let r=0;r<this._partGroupCounts.getSize();++r){const o=this._partGroupCounts.at(r);for(let f=l;f<l+o;++f){this._partGroups.at(f).initialize(i);const h=this._partGroups.at(f).partIndex,m=this._partGroups.at(f).parameterIndex;if(!(h<0)){i.setPartOpacityByIndex(h,f==l?1:0),i.setParameterValueByIndex(m,f==l?1:0);for(let p=0;p<this._partGroups.at(f).link.getSize();++p)this._partGroups.at(f).link.at(p).initialize(i)}}l+=o}}copyPartOpacities(i){for(let l=0;l<this._partGroups.getSize();++l){const r=this._partGroups.at(l);if(r.link.getSize()==0)continue;const o=this._partGroups.at(l).partIndex,f=i.getPartOpacityByIndex(o);for(let h=0;h<r.link.getSize();++h){const p=r.link.at(h).partIndex;p<0||i.setPartOpacityByIndex(p,f)}}}doFade(i,l,r,o){let f=-1,h=1;const m=.5,p=.15;for(let g=r;g<r+o;++g){const y=this._partGroups.at(g).partIndex,S=this._partGroups.at(g).parameterIndex;if(i.getParameterValueByIndex(S)>Xb){if(f>=0)break;if(f=g,this._fadeTimeSeconds==0){h=1;continue}h=i.getPartOpacityByIndex(y),h+=l/this._fadeTimeSeconds,h>1&&(h=1)}}f<0&&(f=0,h=1);for(let g=r;g<r+o;++g){const y=this._partGroups.at(g).partIndex;if(f==g)i.setPartOpacityByIndex(y,h);else{let S=i.getPartOpacityByIndex(y),E;h<m?E=h*(m-1)/m+1:E=(1-h)*m/(1-m),(1-E)*(1-h)>p&&(E=1-p/(1-h)),S>E&&(S=E),i.setPartOpacityByIndex(y,S)}}}}class Ts{constructor(i){_(this,"partId");_(this,"parameterIndex");_(this,"partIndex");_(this,"link");if(this.parameterIndex=0,this.partIndex=0,this.link=new ct,i!=null){this.partId=i.partId;for(const l=i.link.begin();l.notEqual(i.link.end());l.preIncrement())this.link.pushBack(l.ptr().clone())}}assignment(i){this.partId=i.partId;for(const l=i.link.begin();l.notEqual(i.link.end());l.preIncrement())this.link.pushBack(l.ptr().clone());return this}initialize(i){this.parameterIndex=i.getParameterIndex(this.partId),this.partIndex=i.getPartIndex(this.partId),i.setParameterValueByIndex(this.parameterIndex,1)}clone(){const i=new Ts;i.partId=this.partId,i.parameterIndex=this.parameterIndex,i.partIndex=this.partIndex,i.link=new ct;for(let l=this.link.begin();l.notEqual(this.link.end());l.increment())i.link.pushBack(l.ptr().clone());return i}}var Dp;(s=>{s.CubismPose=Ms,s.PartData=Ts})(Dp||(Dp={}));class ry extends Ye{constructor(l,r){super();_(this,"_width");_(this,"_height");this._width=l!==void 0?l:0,this._height=r!==void 0?r:0,this.setHeight(2)}setWidth(l){const r=l/this._width,o=r;this.scale(r,o)}setHeight(l){const r=l/this._height,o=r;this.scale(r,o)}setPosition(l,r){this.translate(l,r)}setCenterPosition(l,r){this.centerX(l),this.centerY(r)}top(l){this.setY(l)}bottom(l){const r=this._height*this.getScaleY();this.translateY(l-r)}left(l){this.setX(l)}right(l){const r=this._width*this.getScaleX();this.translateX(l-r)}centerX(l){const r=this._width*this.getScaleX();this.translateX(l-r/2)}setX(l){this.translateX(l)}centerY(l){const r=this._height*this.getScaleY();this.translateY(l-r/2)}setY(l){this.translateY(l)}setupFromLayout(l){const r="width",o="height",m="center_x",p="center_y",y="bottom",S="left",E="right";for(const b=l.begin();b.notEqual(l.end());b.preIncrement()){const B=b.ptr().first,C=b.ptr().second;B==r?this.setWidth(C):B==o&&this.setHeight(C)}for(const b=l.begin();b.notEqual(l.end());b.preIncrement()){const B=b.ptr().first,C=b.ptr().second;B=="x"?this.setX(C):B=="y"?this.setY(C):B==m?this.centerX(C):B==p?this.centerY(C):B=="top"?this.top(C):B==y?this.bottom(C):B==S?this.left(C):B==E&&this.right(C)}}}var Ap;(s=>{s.CubismModelMatrix=ry})(Ap||(Ap={}));class ot{constructor(i,l){this.x=i,this.y=l,this.x=i??0,this.y=l??0}add(i){const l=new ot(0,0);return l.x=this.x+i.x,l.y=this.y+i.y,l}substract(i){const l=new ot(0,0);return l.x=this.x-i.x,l.y=this.y-i.y,l}multiply(i){const l=new ot(0,0);return l.x=this.x*i.x,l.y=this.y*i.y,l}multiplyByScaler(i){return this.multiply(new ot(i,i))}division(i){const l=new ot(0,0);return l.x=this.x/i.x,l.y=this.y/i.y,l}divisionByScalar(i){return this.division(new ot(i,i))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(i){return Math.sqrt((this.x-i.x)*(this.x-i.x)+(this.y-i.y)*(this.y-i.y))}dot(i){return this.x*i.x+this.y*i.y}normalize(){const i=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/i,this.y=this.y/i}isEqual(i){return this.x==i.x&&this.y==i.y}isNotEqual(i){return!this.isEqual(i)}}var Op;(s=>{s.CubismVector2=ot})(Op||(Op={}));const nn=class nn{static range(i,l,r){return i<l?i=l:i>r&&(i=r),i}static sin(i){return Math.sin(i)}static cos(i){return Math.cos(i)}static abs(i){return Math.abs(i)}static sqrt(i){return Math.sqrt(i)}static cbrt(i){if(i===0)return i;let l=i;const r=l<0;r&&(l=-l);let o;return l===1/0?o=1/0:(o=Math.exp(Math.log(l)/3),o=(l/(o*o)+2*o)/3),r?-o:o}static getEasingSine(i){return i<0?0:i>1?1:.5-.5*this.cos(i*Math.PI)}static max(i,l){return i>l?i:l}static min(i,l){return i>l?l:i}static clamp(i,l,r){return i<l?l:r<i?r:i}static degreesToRadian(i){return i/180*Math.PI}static radianToDegrees(i){return i*180/Math.PI}static directionToRadian(i,l){const r=Math.atan2(l.y,l.x),o=Math.atan2(i.y,i.x);let f=r-o;for(;f<-Math.PI;)f+=Math.PI*2;for(;f>Math.PI;)f-=Math.PI*2;return f}static directionToDegrees(i,l){const r=this.directionToRadian(i,l);let o=this.radianToDegrees(r);return l.x-i.x>0&&(o=-o),o}static radianToDirection(i){const l=new ot;return l.x=this.sin(i),l.y=this.cos(i),l}static quadraticEquation(i,l,r){return this.abs(i)<nn.Epsilon?this.abs(l)<nn.Epsilon?-r:-r/l:-(l+this.sqrt(l*l-4*i*r))/(2*i)}static cardanoAlgorithmForBezier(i,l,r,o){if(this.abs(i)<nn.Epsilon)return this.range(this.quadraticEquation(l,r,o),0,1);const f=l/i,h=r/i,m=o/i,p=(3*h-f*f)/3,g=p/3,y=(2*f*f*f-9*f*h+27*m)/27,S=y/2,E=S*S+g*g*g,b=.5,B=b+.01;if(E<0){const A=-p/3,J=A*A*A,Y=this.sqrt(J),Z=-y/(2*Y),Q=this.range(Z,-1,1),ht=Math.acos(Q),At=2*this.cbrt(Y),Gt=At*this.cos(ht/3)-f/3;if(this.abs(Gt-b)<B)return this.range(Gt,0,1);const lt=At*this.cos((ht+2*Math.PI)/3)-f/3;if(this.abs(lt-b)<B)return this.range(lt,0,1);const mt=At*this.cos((ht+4*Math.PI)/3)-f/3;return this.range(mt,0,1)}if(E==0){let A;S<0?A=this.cbrt(-S):A=-this.cbrt(S);const J=2*A-f/3;if(this.abs(J-b)<B)return this.range(J,0,1);const Y=-A-f/3;return this.range(Y,0,1)}const C=this.sqrt(E),D=this.cbrt(C-S),j=this.cbrt(C+S),F=D-j-f/3;return this.range(F,0,1)}static mod(i,l){if(!isFinite(i)||l===0||isNaN(i)||isNaN(l))return console.warn(`divided: ${i}, divisor: ${l} mod() returns 'NaN'.`),NaN;const r=Math.abs(i),o=Math.abs(l);let f=r-Math.floor(r/o)*o;return f*=Math.sign(i),f}constructor(){}};_(nn,"Epsilon",1e-5);let gt=nn;var wp;(s=>{s.CubismMath=gt})(wp||(wp={}));const nf=30,zp=.01;class uy{constructor(){_(this,"_faceTargetX");_(this,"_faceTargetY");_(this,"_faceX");_(this,"_faceY");_(this,"_faceVX");_(this,"_faceVY");_(this,"_lastTimeSeconds");_(this,"_userTimeSeconds");this._faceTargetX=0,this._faceTargetY=0,this._faceX=0,this._faceY=0,this._faceVX=0,this._faceVY=0,this._lastTimeSeconds=0,this._userTimeSeconds=0}update(i){this._userTimeSeconds+=i;const r=40/10*1/nf;if(this._lastTimeSeconds==0){this._lastTimeSeconds=this._userTimeSeconds;return}const o=(this._userTimeSeconds-this._lastTimeSeconds)*nf;this._lastTimeSeconds=this._userTimeSeconds;const h=.15*nf,m=o*r/h,p=this._faceTargetX-this._faceX,g=this._faceTargetY-this._faceY;if(gt.abs(p)<=zp&&gt.abs(g)<=zp)return;const y=gt.sqrt(p*p+g*g),S=r*p/y,E=r*g/y;let b=S-this._faceVX,B=E-this._faceVY;const C=gt.sqrt(b*b+B*B);(C<-m||C>m)&&(b*=m/C,B*=m/C),this._faceVX+=b,this._faceVY+=B;{const D=.5*(gt.sqrt(m*m+16*m*y-8*m*y)-m),j=gt.sqrt(this._faceVX*this._faceVX+this._faceVY*this._faceVY);j>D&&(this._faceVX*=D/j,this._faceVY*=D/j)}this._faceX+=this._faceVX,this._faceY+=this._faceVY}getX(){return this._faceX}getY(){return this._faceY}set(i,l){this._faceTargetX=i,this._faceTargetY=l}}var Lp;(s=>{s.CubismTargetPoint=uy})(Lp||(Lp={}));class Eu{constructor(){_(this,"setBeganMotionHandler",i=>this._onBeganMotion=i);_(this,"getBeganMotionHandler",()=>this._onBeganMotion);_(this,"setFinishedMotionHandler",i=>this._onFinishedMotion=i);_(this,"getFinishedMotionHandler",()=>this._onFinishedMotion);_(this,"_fadeInSeconds");_(this,"_fadeOutSeconds");_(this,"_weight");_(this,"_offsetSeconds");_(this,"_isLoop");_(this,"_isLoopFadeIn");_(this,"_previousLoopState");_(this,"_firedEventValues");_(this,"_onBeganMotion");_(this,"_onFinishedMotion");this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._isLoop=!1,this._isLoopFadeIn=!0,this._previousLoopState=this._isLoop,this._firedEventValues=new ct}static delete(i){i.release(),i=null}release(){this._weight=0}updateParameters(i,l,r){if(!l.isAvailable()||l.isFinished())return;this.setupMotionQueueEntry(l,r);const o=this.updateFadeWeight(l,r);this.doUpdateParameters(i,r,o,l),l.getEndTime()>0&&l.getEndTime()<r&&l.setIsFinished(!0)}setupMotionQueueEntry(i,l){i==null||i.isStarted()||i.isAvailable()&&(i.setIsStarted(!0),i.setStartTime(l-this._offsetSeconds),i.setFadeInStartTime(l),i.getEndTime()<0&&this.adjustEndTime(i),i._motion._onBeganMotion&&i._motion._onBeganMotion(i._motion))}updateFadeWeight(i,l){i==null&&zf.print(sl.LogLevel_Error,"motionQueueEntry is null.");let r=this._weight;const o=this._fadeInSeconds==0?1:gt.getEasingSine((l-i.getFadeInStartTime())/this._fadeInSeconds),f=this._fadeOutSeconds==0||i.getEndTime()<0?1:gt.getEasingSine((i.getEndTime()-l)/this._fadeOutSeconds);return r=r*o*f,i.setState(l,r),Ie(0<=r&&r<=1),r}setFadeInTime(i){this._fadeInSeconds=i}setFadeOutTime(i){this._fadeOutSeconds=i}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(i){this._weight=i}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(i){this._offsetSeconds=i}setLoop(i){this._isLoop=i}getLoop(){return this._isLoop}setLoopFadeIn(i){this._isLoopFadeIn=i}getLoopFadeIn(){return this._isLoopFadeIn}getFiredEvent(i,l){return this._firedEventValues}isExistModelOpacity(){return!1}getModelOpacityIndex(){return-1}getModelOpacityId(i){return null}getModelOpacityValue(){return 1}adjustEndTime(i){const l=this.getDuration(),r=l<=0?-1:i.getStartTime()+l;i.setEndTime(r)}}var Np;(s=>{s.ACubismMotion=Eu})(Np||(Np={}));const Jb="FadeInTime",Kb="FadeOutTime",Fp="Parameters",Wb="Id",$b="Value",eu="Blend",tC="Add",eC="Multiply",aC="Overwrite",Up=1,$e=class $e extends Eu{constructor(){super();_(this,"_parameters");_(this,"_fadeWeight");this._parameters=new ct,this._fadeWeight=0}static create(l,r){const o=new $e;return o.parse(l,r),o}doUpdateParameters(l,r,o,f){for(let h=0;h<this._parameters.getSize();++h){const m=this._parameters.at(h);switch(m.blendType){case 0:{l.addParameterValueById(m.parameterId,m.value,o);break}case 1:{l.multiplyParameterValueById(m.parameterId,m.value,o);break}case 2:{l.setParameterValueById(m.parameterId,m.value,o);break}}}}calculateExpressionParameters(l,r,o,f,h,m){if(!(o==null||f==null)&&o.isAvailable()){this._fadeWeight=this.updateFadeWeight(o,r);for(let p=0;p<f.getSize();++p){const g=f.at(p);if(g.parameterId==null)continue;const y=g.overwriteValue=l.getParameterValueById(g.parameterId),S=this.getExpressionParameters();let E=-1;for(let j=0;j<S.getSize();++j)if(g.parameterId==S.at(j).parameterId){E=j;break}if(E<0){h==0?(g.additiveValue=$e.DefaultAdditiveValue,g.multiplyValue=$e.DefaultMultiplyValue,g.overwriteValue=y):(g.additiveValue=this.calculateValue(g.additiveValue,$e.DefaultAdditiveValue,m),g.multiplyValue=this.calculateValue(g.multiplyValue,$e.DefaultMultiplyValue,m),g.overwriteValue=this.calculateValue(g.overwriteValue,y,m));continue}const b=S.at(E).value;let B,C,D;switch(S.at(E).blendType){case 0:B=b,C=$e.DefaultMultiplyValue,D=y;break;case 1:B=$e.DefaultAdditiveValue,C=b,D=y;break;case 2:B=$e.DefaultAdditiveValue,C=$e.DefaultMultiplyValue,D=b;break;default:return}h==0?(g.additiveValue=B,g.multiplyValue=C,g.overwriteValue=D):(g.additiveValue=g.additiveValue*(1-m)+B*m,g.multiplyValue=g.multiplyValue*(1-m)+C*m,g.overwriteValue=g.overwriteValue*(1-m)+D*m)}}}getExpressionParameters(){return this._parameters}getFadeWeight(){return this._fadeWeight}parse(l,r){const o=Be.create(l,r);if(!o)return;const f=o.getRoot();this.setFadeInTime(f.getValueByString(Jb).toFloat(Up)),this.setFadeOutTime(f.getValueByString(Kb).toFloat(Up));const h=f.getValueByString(Fp).getSize();this._parameters.prepareCapacity(h);for(let m=0;m<h;++m){const p=f.getValueByString(Fp).getValueByIndex(m),g=kt.getIdManager().getId(p.getValueByString(Wb).getRawString()),y=p.getValueByString($b).toFloat();let S;p.getValueByString(eu).isNull()||p.getValueByString(eu).getString()==tC?S=0:p.getValueByString(eu).getString()==eC?S=1:p.getValueByString(eu).getString()==aC?S=2:S=0;const E=new cy;E.parameterId=g,E.blendType=S,E.value=y,this._parameters.pushBack(E)}Be.delete(o)}calculateValue(l,r,o){return l*(1-o)+r*o}};_($e,"DefaultAdditiveValue",0),_($e,"DefaultMultiplyValue",1);let Li=$e;var oy=(s=>(s[s.Additive=0]="Additive",s[s.Multiply=1]="Multiply",s[s.Overwrite=2]="Overwrite",s))(oy||{});class cy{constructor(){_(this,"parameterId");_(this,"blendType");_(this,"value")}}var jp;(s=>{s.CubismExpressionMotion=Li,s.ExpressionBlendType=oy,s.ExpressionParameter=cy})(jp||(jp={}));class fy{constructor(){_(this,"_autoDelete");_(this,"_motion");_(this,"_available");_(this,"_finished");_(this,"_started");_(this,"_startTimeSeconds");_(this,"_fadeInStartTimeSeconds");_(this,"_endTimeSeconds");_(this,"_stateTimeSeconds");_(this,"_stateWeight");_(this,"_lastEventCheckSeconds");_(this,"_fadeOutSeconds");_(this,"_isTriggeredFadeOut");_(this,"_motionQueueEntryHandle");this._autoDelete=!1,this._motion=null,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&Eu.delete(this._motion)}setFadeOut(i){this._fadeOutSeconds=i,this._isTriggeredFadeOut=!0}startFadeOut(i,l){const r=l+i;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||r<this._endTimeSeconds)&&(this._endTimeSeconds=r)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(i){this._startTimeSeconds=i}setFadeInStartTime(i){this._fadeInStartTimeSeconds=i}setEndTime(i){this._endTimeSeconds=i}setIsFinished(i){this._finished=i}setIsStarted(i){this._started=i}isAvailable(){return this._available}setIsAvailable(i){this._available=i}setState(i,l){this._stateTimeSeconds=i,this._stateWeight=l}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(i){this._lastEventCheckSeconds=i}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}getCubismMotion(){return this._motion}}var Pp;(s=>{s.CubismMotionQueueEntry=fy})(Pp||(Pp={}));class Nf{constructor(){_(this,"_userTimeSeconds");_(this,"_motions");_(this,"_eventCallBack");_(this,"_eventCustomData");this._userTimeSeconds=0,this._eventCallBack=null,this._eventCustomData=null,this._motions=new ct}release(){for(let i=0;i<this._motions.getSize();++i)this._motions.at(i)&&(this._motions.at(i).release(),this._motions.set(i,null));this._motions=null}startMotion(i,l,r){if(i==null)return hy;let o=null;for(let f=0;f<this._motions.getSize();++f)o=this._motions.at(f),o!=null&&o.setFadeOut(o._motion.getFadeOutTime());return o=new fy,o._autoDelete=l,o._motion=i,this._motions.pushBack(o),o._motionQueueEntryHandle}isFinished(){for(let i=this._motions.begin();i.notEqual(this._motions.end());){let l=i.ptr();if(l==null){i=this._motions.erase(i);continue}if(l._motion==null){l.release(),l=null,i=this._motions.erase(i);continue}if(l.isFinished())i.preIncrement();else return!1}return!0}isFinishedByHandle(i){for(let l=this._motions.begin();l.notEqual(this._motions.end());l.increment()){const r=l.ptr();if(r!=null&&r._motionQueueEntryHandle==i&&!r.isFinished())return!1}return!0}stopAllMotions(){for(let i=this._motions.begin();i.notEqual(this._motions.end());){let l=i.ptr();if(l==null){i=this._motions.erase(i);continue}l.release(),l=null,i=this._motions.erase(i)}}getCubismMotionQueueEntries(){return this._motions}getCubismMotionQueueEntry(i){for(let l=this._motions.begin();l.notEqual(this._motions.end());l.preIncrement()){const r=l.ptr();if(r!=null&&r._motionQueueEntryHandle==i)return r}return null}setEventCallback(i,l=null){this._eventCallBack=i,this._eventCustomData=l}doUpdateMotion(i,l){let r=!1;for(let o=this._motions.begin();o.notEqual(this._motions.end());){let f=o.ptr();if(f==null){o=this._motions.erase(o);continue}const h=f._motion;if(h==null){f.release(),f=null,o=this._motions.erase(o);continue}h.updateParameters(i,f,l),r=!0;const m=h.getFiredEvent(f.getLastCheckEventSeconds()-f.getStartTime(),l-f.getStartTime());for(let p=0;p<m.getSize();++p)this._eventCallBack(this,m.at(p),this._eventCustomData);f.setLastCheckEventSeconds(l),f.isFinished()?(f.release(),f=null,o=this._motions.erase(o)):(f.isTriggeredFadeOut()&&f.startFadeOut(f.getFadeOutSeconds(),l),o.preIncrement())}return r}}const hy=-1;var kp;(s=>{s.CubismMotionQueueManager=Nf,s.InvalidMotionQueueEntryHandleValue=hy})(kp||(kp={}));class iC{constructor(){_(this,"parameterId");_(this,"additiveValue");_(this,"multiplyValue");_(this,"overwriteValue")}}class dy extends Nf{constructor(){super();_(this,"_expressionParameterValues");_(this,"_fadeWeights");_(this,"_currentPriority");_(this,"_reservePriority");_(this,"_startExpressionTime");this._currentPriority=0,this._reservePriority=0,this._expressionParameterValues=new ct,this._fadeWeights=new ct}release(){this._expressionParameterValues&&(ln(this._expressionParameterValues),this._expressionParameterValues=null),this._fadeWeights&&(ln(this._fadeWeights),this._fadeWeights=null)}getCurrentPriority(){return ma("CubismExpressionMotionManager.getCurrentPriority() is deprecated because a priority value is not actually used during expression motion playback."),this._currentPriority}getReservePriority(){return ma("CubismExpressionMotionManager.getReservePriority() is deprecated because a priority value is not actually used during expression motion playback."),this._reservePriority}getFadeWeight(l){return l<0||this._fadeWeights.getSize()<1||l>=this._fadeWeights.getSize()?(console.warn("Failed to get the fade weight value. The element at that index does not exist."),-1):this._fadeWeights.at(l)}setFadeWeight(l,r){if(l<0||this._fadeWeights.getSize()<1||this._fadeWeights.getSize()<=l){console.warn("Failed to set the fade weight value. The element at that index does not exist.");return}this._fadeWeights.set(l,r)}setReservePriority(l){ma("CubismExpressionMotionManager.setReservePriority() is deprecated because a priority value is not actually used during expression motion playback."),this._reservePriority=l}startMotionPriority(l,r,o){return ma("CubismExpressionMotionManager.startMotionPriority() is deprecated because a priority value is not actually used during expression motion playback."),o==this.getReservePriority()&&this.setReservePriority(0),this._currentPriority=o,this.startMotion(l,r)}updateMotion(l,r){this._userTimeSeconds+=r;let o=!1;const f=this.getCubismMotionQueueEntries();let h=0,m=0;if(this._fadeWeights.getSize()!==f.getSize()){const p=f.getSize()-this._fadeWeights.getSize();for(let g=0;g<p;g++)this._fadeWeights.pushBack(0)}for(let p=this._motions.begin();p.notEqual(this._motions.end());){const g=p.ptr();if(g==null){p=f.erase(p);continue}const y=g.getCubismMotion();if(y==null){ln(g),p=f.erase(p);continue}const S=y.getExpressionParameters();if(g.isAvailable())for(let E=0;E<S.getSize();++E){if(S.at(E).parameterId==null)continue;let b=-1;for(let C=0;C<this._expressionParameterValues.getSize();++C)if(this._expressionParameterValues.at(C).parameterId==S.at(E).parameterId){b=C;break}if(b>=0)continue;const B=new iC;B.parameterId=S.at(E).parameterId,B.additiveValue=Li.DefaultAdditiveValue,B.multiplyValue=Li.DefaultMultiplyValue,B.overwriteValue=l.getParameterValueById(B.parameterId),this._expressionParameterValues.pushBack(B)}y.setupMotionQueueEntry(g,this._userTimeSeconds),this.setFadeWeight(m,y.updateFadeWeight(g,this._userTimeSeconds)),y.calculateExpressionParameters(l,this._userTimeSeconds,g,this._expressionParameterValues,m,this.getFadeWeight(m)),h+=y.getFadeInTime()==0?1:gt.getEasingSine((this._userTimeSeconds-g.getFadeInStartTime())/y.getFadeInTime()),o=!0,g.isTriggeredFadeOut()&&g.startFadeOut(g.getFadeOutSeconds(),this._userTimeSeconds),p.preIncrement(),++m}if(f.getSize()>1&&this.getFadeWeight(this._fadeWeights.getSize()-1)>=1)for(let g=f.getSize()-2;g>=0;--g){const y=f.at(g);ln(y),f.remove(g),this._fadeWeights.remove(g)}h>1&&(h=1);for(let p=0;p<this._expressionParameterValues.getSize();++p){const g=this._expressionParameterValues.at(p);l.setParameterValueById(g.parameterId,(g.overwriteValue+g.additiveValue)*g.multiplyValue,h),g.additiveValue=Li.DefaultAdditiveValue,g.multiplyValue=Li.DefaultMultiplyValue}return o}}var Ip;(s=>{s.CubismExpressionMotionManager=dy})(Ip||(Ip={}));var xa=(s=>(s[s.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",s[s.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",s[s.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",s))(xa||{}),pe=(s=>(s[s.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",s[s.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",s[s.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",s[s.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",s))(pe||{});class Es{constructor(){_(this,"time",0);_(this,"value",0)}}class gy{constructor(){_(this,"evaluate");_(this,"basePointIndex");_(this,"segmentType");this.evaluate=null,this.basePointIndex=0,this.segmentType=0}}class my{constructor(){_(this,"type");_(this,"id");_(this,"segmentCount");_(this,"baseSegmentIndex");_(this,"fadeInTime");_(this,"fadeOutTime");this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class py{constructor(){_(this,"fireTime",0);_(this,"value")}}class _y{constructor(){_(this,"duration");_(this,"loop");_(this,"curveCount");_(this,"eventCount");_(this,"fps");_(this,"curves");_(this,"segments");_(this,"points");_(this,"events");this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=new ct,this.segments=new ct,this.points=new ct,this.events=new ct}}var Hp;(s=>{s.CubismMotionCurve=my,s.CubismMotionCurveTarget=xa,s.CubismMotionData=_y,s.CubismMotionEvent=py,s.CubismMotionPoint=Es,s.CubismMotionSegment=gy,s.CubismMotionSegmentType=pe})(Hp||(Hp={}));const We="Meta",lC="Duration",nC="Loop",sC="AreBeziersRestricted",rC="CurveCount",uC="Fps",oC="TotalSegmentCount",cC="TotalPointCount",ai="Curves",fC="Target",hC="Id",au="FadeInTime",iu="FadeOutTime",Yp="Segments",Gp="UserData",dC="UserDataCount",gC="TotalUserDataSize",mC="Time",pC="Value";class yy{constructor(i,l){_(this,"_json");this._json=Be.create(i,l)}release(){Be.delete(this._json)}getMotionDuration(){return this._json.getRoot().getValueByString(We).getValueByString(lC).toFloat()}isMotionLoop(){return this._json.getRoot().getValueByString(We).getValueByString(nC).toBoolean()}hasConsistency(){let i=!0;if(!this._json||!this._json.getRoot())return!1;const l=this._json.getRoot().getValueByString(ai).getVector().getSize();let r=0,o=0;for(let f=0;f<l;++f)for(let h=0;h<this.getMotionCurveSegmentCount(f);){switch(h==0&&(o+=1,h+=2),this.getMotionCurveSegment(f,h)){case pe.CubismMotionSegmentType_Linear:o+=1,h+=3;break;case pe.CubismMotionSegmentType_Bezier:o+=3,h+=7;break;case pe.CubismMotionSegmentType_Stepped:o+=1,h+=3;break;case pe.CubismMotionSegmentType_InverseStepped:o+=1,h+=3;break;default:Ie(0);break}++r}return l!=this.getMotionCurveCount()&&(wt("The number of curves does not match the metadata."),i=!1),r!=this.getMotionTotalSegmentCount()&&(wt("The number of segment does not match the metadata."),i=!1),o!=this.getMotionTotalPointCount()&&(wt("The number of point does not match the metadata."),i=!1),i}getEvaluationOptionFlag(i){return i==0?this._json.getRoot().getValueByString(We).getValueByString(sC).toBoolean():!1}getMotionCurveCount(){return this._json.getRoot().getValueByString(We).getValueByString(rC).toInt()}getMotionFps(){return this._json.getRoot().getValueByString(We).getValueByString(uC).toFloat()}getMotionTotalSegmentCount(){return this._json.getRoot().getValueByString(We).getValueByString(oC).toInt()}getMotionTotalPointCount(){return this._json.getRoot().getValueByString(We).getValueByString(cC).toInt()}isExistMotionFadeInTime(){return!this._json.getRoot().getValueByString(We).getValueByString(au).isNull()}isExistMotionFadeOutTime(){return!this._json.getRoot().getValueByString(We).getValueByString(iu).isNull()}getMotionFadeInTime(){return this._json.getRoot().getValueByString(We).getValueByString(au).toFloat()}getMotionFadeOutTime(){return this._json.getRoot().getValueByString(We).getValueByString(iu).toFloat()}getMotionCurveTarget(i){return this._json.getRoot().getValueByString(ai).getValueByIndex(i).getValueByString(fC).getRawString()}getMotionCurveId(i){return kt.getIdManager().getId(this._json.getRoot().getValueByString(ai).getValueByIndex(i).getValueByString(hC).getRawString())}isExistMotionCurveFadeInTime(i){return!this._json.getRoot().getValueByString(ai).getValueByIndex(i).getValueByString(au).isNull()}isExistMotionCurveFadeOutTime(i){return!this._json.getRoot().getValueByString(ai).getValueByIndex(i).getValueByString(iu).isNull()}getMotionCurveFadeInTime(i){return this._json.getRoot().getValueByString(ai).getValueByIndex(i).getValueByString(au).toFloat()}getMotionCurveFadeOutTime(i){return this._json.getRoot().getValueByString(ai).getValueByIndex(i).getValueByString(iu).toFloat()}getMotionCurveSegmentCount(i){return this._json.getRoot().getValueByString(ai).getValueByIndex(i).getValueByString(Yp).getVector().getSize()}getMotionCurveSegment(i,l){return this._json.getRoot().getValueByString(ai).getValueByIndex(i).getValueByString(Yp).getValueByIndex(l).toFloat()}getEventCount(){return this._json.getRoot().getValueByString(We).getValueByString(dC).toInt()}getTotalEventValueSize(){return this._json.getRoot().getValueByString(We).getValueByString(gC).toInt()}getEventTime(i){return this._json.getRoot().getValueByString(Gp).getValueByIndex(i).getValueByString(mC).toFloat()}getEventValue(i){return new pa(this._json.getRoot().getValueByString(Gp).getValueByIndex(i).getValueByString(pC).getRawString())}}var vy=(s=>(s[s.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",s))(vy||{}),qp;(s=>{s.CubismMotionJson=yy})(qp||(qp={}));const _C="EyeBlink",yC="LipSync",vC="Model",SC="Parameter",xC="PartOpacity",lu="Opacity",bC=!1;function ga(s,i,l){const r=new Es;return r.time=s.time+(i.time-s.time)*l,r.value=s.value+(i.value-s.value)*l,r}function Sy(s,i){let l=(i-s[0].time)/(s[1].time-s[0].time);return l<0&&(l=0),s[0].value+(s[1].value-s[0].value)*l}function CC(s,i){let l=(i-s[0].time)/(s[3].time-s[0].time);l<0&&(l=0);const r=ga(s[0],s[1],l),o=ga(s[1],s[2],l),f=ga(s[2],s[3],l),h=ga(r,o,l),m=ga(o,f,l);return ga(h,m,l).value}function MC(s,i){const l=i,r=s[0].time,o=s[3].time,f=s[1].time,h=s[2].time,m=o-3*h+3*f-r,p=3*h-6*f+3*r,g=3*f-3*r,y=r-l,S=gt.cardanoAlgorithmForBezier(m,p,g,y),E=ga(s[0],s[1],S),b=ga(s[1],s[2],S),B=ga(s[2],s[3],S),C=ga(E,b,S),D=ga(b,B,S);return ga(C,D,S).value}function xy(s,i){return s[0].value}function by(s,i){return s[1].value}function sf(s,i,l,r,o){const f=s.curves.at(i);let h=-1;const m=f.baseSegmentIndex+f.segmentCount;let p=0;for(let y=f.baseSegmentIndex;y<m;++y)if(p=s.segments.at(y).basePointIndex+(s.segments.at(y).segmentType==pe.CubismMotionSegmentType_Bezier?3:1),s.points.at(p).time>l){h=y;break}if(h==-1)return r&&l<o?TC(s,m-1,s.segments.at(f.baseSegmentIndex).basePointIndex,p,l,o):s.points.at(p).value;const g=s.segments.at(h);return g.evaluate(s.points.get(g.basePointIndex),l)}function TC(s,i,l,r,o,f){const h=[new Es,new Es];{const m=s.points.at(r);h[0].time=m.time,h[0].value=m.value}{const m=s.points.at(l);h[1].time=f,h[1].value=m.value}switch(s.segments.at(i).segmentType){case pe.CubismMotionSegmentType_Linear:case pe.CubismMotionSegmentType_Bezier:default:return Sy(h,o);case pe.CubismMotionSegmentType_Stepped:return xy(h);case pe.CubismMotionSegmentType_InverseStepped:return by(h)}}class Bu extends Eu{constructor(){super();_(this,"_sourceFrameRate");_(this,"_loopDurationSeconds");_(this,"_motionBehavior",1);_(this,"_lastWeight");_(this,"_motionData");_(this,"_eyeBlinkParameterIds");_(this,"_lipSyncParameterIds");_(this,"_modelCurveIdEyeBlink");_(this,"_modelCurveIdLipSync");_(this,"_modelCurveIdOpacity");_(this,"_modelOpacity");_(this,"_debugMode");this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0,this._motionData=null,this._modelCurveIdEyeBlink=null,this._modelCurveIdLipSync=null,this._modelCurveIdOpacity=null,this._eyeBlinkParameterIds=null,this._lipSyncParameterIds=null,this._modelOpacity=1,this._debugMode=!1}static create(l,r,o,f,h=!1){const m=new Bu;if(m.parse(l,r,h),m._motionData)m._sourceFrameRate=m._motionData.fps,m._loopDurationSeconds=m._motionData.duration,m._onFinishedMotion=o,m._onBeganMotion=f;else return ln(m),null;return m}doUpdateParameters(l,r,o,f){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=kt.getIdManager().getId(_C)),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=kt.getIdManager().getId(yC)),this._modelCurveIdOpacity==null&&(this._modelCurveIdOpacity=kt.getIdManager().getId(lu)),this._motionBehavior===1&&this._previousLoopState!==this._isLoop&&(this.adjustEndTime(f),this._previousLoopState=this._isLoop);let h=r-f.getStartTime();h<0&&(h=0);let m=Number.MAX_VALUE,p=Number.MAX_VALUE;const g=64;let y=0,S=0;this._eyeBlinkParameterIds.getSize()>g&&xs("too many eye blink targets : {0}",this._eyeBlinkParameterIds.getSize()),this._lipSyncParameterIds.getSize()>g&&xs("too many lip sync targets : {0}",this._lipSyncParameterIds.getSize());const E=this._fadeInSeconds<=0?1:gt.getEasingSine((r-f.getFadeInStartTime())/this._fadeInSeconds),b=this._fadeOutSeconds<=0||f.getEndTime()<0?1:gt.getEasingSine((f.getEndTime()-r)/this._fadeOutSeconds);let B,C,D,j=h,F=this._motionData.duration;const A=this._motionBehavior===1&&this._isLoop;if(this._isLoop)for(this._motionBehavior===1&&(F+=1/this._motionData.fps);j>F;)j-=F;const J=this._motionData.curves;for(C=0;C<this._motionData.curveCount&&J.at(C).type==xa.CubismMotionCurveTarget_Model;++C)B=sf(this._motionData,C,j,A,F),J.at(C).id==this._modelCurveIdEyeBlink?p=B:J.at(C).id==this._modelCurveIdLipSync?m=B:J.at(C).id==this._modelCurveIdOpacity&&(this._modelOpacity=B,l.setModelOapcity(this.getModelOpacityValue()));for(;C<this._motionData.curveCount&&J.at(C).type==xa.CubismMotionCurveTarget_Parameter;++C){if(D=l.getParameterIndex(J.at(C).id),D==-1)continue;const Y=l.getParameterValueByIndex(D);if(B=sf(this._motionData,C,j,A,F),p!=Number.MAX_VALUE){for(let Q=0;Q<this._eyeBlinkParameterIds.getSize()&&Q<g;++Q)if(this._eyeBlinkParameterIds.at(Q)==J.at(C).id){B*=p,S|=1<<Q;break}}if(m!=Number.MAX_VALUE){for(let Q=0;Q<this._lipSyncParameterIds.getSize()&&Q<g;++Q)if(this._lipSyncParameterIds.at(Q)==J.at(C).id){B+=m,y|=1<<Q;break}}l.isRepeat(D)&&(B=l.getParameterRepeatValue(D,B));let Z;if(J.at(C).fadeInTime<0&&J.at(C).fadeOutTime<0)Z=Y+(B-Y)*o;else{let Q,ht;J.at(C).fadeInTime<0?Q=E:Q=J.at(C).fadeInTime==0?1:gt.getEasingSine((r-f.getFadeInStartTime())/J.at(C).fadeInTime),J.at(C).fadeOutTime<0?ht=b:ht=J.at(C).fadeOutTime==0||f.getEndTime()<0?1:gt.getEasingSine((f.getEndTime()-r)/J.at(C).fadeOutTime);const Et=this._weight*Q*ht;Z=Y+(B-Y)*Et}l.setParameterValueByIndex(D,Z,1)}{if(p!=Number.MAX_VALUE)for(let Y=0;Y<this._eyeBlinkParameterIds.getSize()&&Y<g;++Y){const Z=l.getParameterValueById(this._eyeBlinkParameterIds.at(Y));if(S>>Y&1)continue;const Q=Z+(p-Z)*o;l.setParameterValueById(this._eyeBlinkParameterIds.at(Y),Q)}if(m!=Number.MAX_VALUE)for(let Y=0;Y<this._lipSyncParameterIds.getSize()&&Y<g;++Y){const Z=l.getParameterValueById(this._lipSyncParameterIds.at(Y));if(y>>Y&1)continue;const Q=Z+(m-Z)*o;l.setParameterValueById(this._lipSyncParameterIds.at(Y),Q)}}for(;C<this._motionData.curveCount&&J.at(C).type==xa.CubismMotionCurveTarget_PartOpacity;++C)D=l.getParameterIndex(J.at(C).id),D!=-1&&(B=sf(this._motionData,C,j,A,F),l.setParameterValueByIndex(D,B));h>=F&&(this._isLoop?this.updateForNextLoop(f,r,j):(this._onFinishedMotion&&this._onFinishedMotion(this),f.setIsFinished(!0))),this._lastWeight=o}setIsLoop(l){wt("setIsLoop() is a deprecated function. Please use setLoop()."),this._isLoop=l}isLoop(){return wt("isLoop() is a deprecated function. Please use getLoop()."),this._isLoop}setIsLoopFadeIn(l){wt("setIsLoopFadeIn() is a deprecated function. Please use setLoopFadeIn()."),this._isLoopFadeIn=l}isLoopFadeIn(){return wt("isLoopFadeIn() is a deprecated function. Please use getLoopFadeIn()."),this._isLoopFadeIn}setMotionBehavior(l){this._motionBehavior=l}getMotionBehavior(){return this._motionBehavior}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(l,r){const o=this._motionData.curves;for(let f=0;f<this._motionData.curveCount;++f)if(l==o.at(f).id){o.at(f).fadeInTime=r;return}}setParameterFadeOutTime(l,r){const o=this._motionData.curves;for(let f=0;f<this._motionData.curveCount;++f)if(l==o.at(f).id){o.at(f).fadeOutTime=r;return}}getParameterFadeInTime(l){const r=this._motionData.curves;for(let o=0;o<this._motionData.curveCount;++o)if(l==r.at(o).id)return r.at(o).fadeInTime;return-1}getParameterFadeOutTime(l){const r=this._motionData.curves;for(let o=0;o<this._motionData.curveCount;++o)if(l==r.at(o).id)return r.at(o).fadeOutTime;return-1}setEffectIds(l,r){this._eyeBlinkParameterIds=l,this._lipSyncParameterIds=r}release(){this._motionData=void 0,this._motionData=null}updateForNextLoop(l,r,o){switch(this._motionBehavior){case 1:default:l.setStartTime(r-o),this._isLoopFadeIn&&l.setFadeInStartTime(r-o),this._onFinishedMotion!=null&&this._onFinishedMotion(this);break;case 0:l.setStartTime(r),this._isLoopFadeIn&&l.setFadeInStartTime(r);break}}parse(l,r,o=!1){let f=new yy(l,r);if(!f){f.release(),f=void 0;return}if(o&&!f.hasConsistency()){f.release(),ie("Inconsistent motion3.json.");return}this._motionData=new _y,this._motionData.duration=f.getMotionDuration(),this._motionData.loop=f.isMotionLoop(),this._motionData.curveCount=f.getMotionCurveCount(),this._motionData.fps=f.getMotionFps(),this._motionData.eventCount=f.getEventCount();const h=f.getEvaluationOptionFlag(vy.EvaluationOptionFlag_AreBeziersRistricted);f.isExistMotionFadeInTime()?this._fadeInSeconds=f.getMotionFadeInTime()<0?1:f.getMotionFadeInTime():this._fadeInSeconds=1,f.isExistMotionFadeOutTime()?this._fadeOutSeconds=f.getMotionFadeOutTime()<0?1:f.getMotionFadeOutTime():this._fadeOutSeconds=1,this._motionData.curves.updateSize(this._motionData.curveCount,my,!0),this._motionData.segments.updateSize(f.getMotionTotalSegmentCount(),gy,!0),this._motionData.points.updateSize(f.getMotionTotalPointCount(),Es,!0),this._motionData.events.updateSize(this._motionData.eventCount,py,!0);let m=0,p=0;for(let g=0;g<this._motionData.curveCount;++g){f.getMotionCurveTarget(g)==vC?this._motionData.curves.at(g).type=xa.CubismMotionCurveTarget_Model:f.getMotionCurveTarget(g)==SC?this._motionData.curves.at(g).type=xa.CubismMotionCurveTarget_Parameter:f.getMotionCurveTarget(g)==xC?this._motionData.curves.at(g).type=xa.CubismMotionCurveTarget_PartOpacity:wt('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!'),this._motionData.curves.at(g).id=f.getMotionCurveId(g),this._motionData.curves.at(g).baseSegmentIndex=p,this._motionData.curves.at(g).fadeInTime=f.isExistMotionCurveFadeInTime(g)?f.getMotionCurveFadeInTime(g):-1,this._motionData.curves.at(g).fadeOutTime=f.isExistMotionCurveFadeOutTime(g)?f.getMotionCurveFadeOutTime(g):-1;for(let y=0;y<f.getMotionCurveSegmentCount(g);){switch(y==0?(this._motionData.segments.at(p).basePointIndex=m,this._motionData.points.at(m).time=f.getMotionCurveSegment(g,y),this._motionData.points.at(m).value=f.getMotionCurveSegment(g,y+1),m+=1,y+=2):this._motionData.segments.at(p).basePointIndex=m-1,f.getMotionCurveSegment(g,y)){case pe.CubismMotionSegmentType_Linear:{this._motionData.segments.at(p).segmentType=pe.CubismMotionSegmentType_Linear,this._motionData.segments.at(p).evaluate=Sy,this._motionData.points.at(m).time=f.getMotionCurveSegment(g,y+1),this._motionData.points.at(m).value=f.getMotionCurveSegment(g,y+2),m+=1,y+=3;break}case pe.CubismMotionSegmentType_Bezier:{this._motionData.segments.at(p).segmentType=pe.CubismMotionSegmentType_Bezier,h||bC?this._motionData.segments.at(p).evaluate=CC:this._motionData.segments.at(p).evaluate=MC,this._motionData.points.at(m).time=f.getMotionCurveSegment(g,y+1),this._motionData.points.at(m).value=f.getMotionCurveSegment(g,y+2),this._motionData.points.at(m+1).time=f.getMotionCurveSegment(g,y+3),this._motionData.points.at(m+1).value=f.getMotionCurveSegment(g,y+4),this._motionData.points.at(m+2).time=f.getMotionCurveSegment(g,y+5),this._motionData.points.at(m+2).value=f.getMotionCurveSegment(g,y+6),m+=3,y+=7;break}case pe.CubismMotionSegmentType_Stepped:{this._motionData.segments.at(p).segmentType=pe.CubismMotionSegmentType_Stepped,this._motionData.segments.at(p).evaluate=xy,this._motionData.points.at(m).time=f.getMotionCurveSegment(g,y+1),this._motionData.points.at(m).value=f.getMotionCurveSegment(g,y+2),m+=1,y+=3;break}case pe.CubismMotionSegmentType_InverseStepped:{this._motionData.segments.at(p).segmentType=pe.CubismMotionSegmentType_InverseStepped,this._motionData.segments.at(p).evaluate=by,this._motionData.points.at(m).time=f.getMotionCurveSegment(g,y+1),this._motionData.points.at(m).value=f.getMotionCurveSegment(g,y+2),m+=1,y+=3;break}default:{Ie(0);break}}++this._motionData.curves.at(g).segmentCount,++p}}for(let g=0;g<f.getEventCount();++g)this._motionData.events.at(g).fireTime=f.getEventTime(g),this._motionData.events.at(g).value=f.getEventValue(g);f.release(),f=void 0,f=null}getFiredEvent(l,r){this._firedEventValues.updateSize(0);for(let o=0;o<this._motionData.eventCount;++o)this._motionData.events.at(o).fireTime>l&&this._motionData.events.at(o).fireTime<=r&&this._firedEventValues.pushBack(new pa(this._motionData.events.at(o).value.s));return this._firedEventValues}isExistModelOpacity(){for(let l=0;l<this._motionData.curveCount;l++){const r=this._motionData.curves.at(l);if(r.type==xa.CubismMotionCurveTarget_Model&&r.id.getString().s.localeCompare(lu)==0)return!0}return!1}getModelOpacityIndex(){if(this.isExistModelOpacity())for(let l=0;l<this._motionData.curveCount;l++){const r=this._motionData.curves.at(l);if(r.type==xa.CubismMotionCurveTarget_Model&&r.id.getString().s.localeCompare(lu)==0)return l}return-1}getModelOpacityId(l){if(l!=-1){const r=this._motionData.curves.at(l);if(r.type==xa.CubismMotionCurveTarget_Model&&r.id.getString().s.localeCompare(lu)==0)return kt.getIdManager().getId(r.id.getString().s)}return null}getModelOpacityValue(){return this._modelOpacity}setDebugMode(l){this._debugMode=l}}var Xp;(s=>{s.CubismMotion=Bu})(Xp||(Xp={}));class Cy extends Nf{constructor(){super();_(this,"_currentPriority");_(this,"_reservePriority");this._currentPriority=0,this._reservePriority=0}getCurrentPriority(){return this._currentPriority}getReservePriority(){return this._reservePriority}setReservePriority(l){this._reservePriority=l}startMotionPriority(l,r,o){return o==this._reservePriority&&(this._reservePriority=0),this._currentPriority=o,super.startMotion(l,r)}updateMotion(l,r){this._userTimeSeconds+=r;const o=super.doUpdateMotion(l,this._userTimeSeconds);return this.isFinished()&&(this._currentPriority=0),o}reserveMotion(l){return l<=this._reservePriority||l<=this._currentPriority?!1:(this._reservePriority=l,!0)}}var Qp;(s=>{s.CubismMotionManager=Cy})(Qp||(Qp={}));var vu=(s=>(s[s.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",s))(vu||{}),Oi=(s=>(s[s.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",s[s.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",s[s.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",s))(Oi||{});class EC{constructor(){_(this,"gravity");_(this,"wind");this.gravity=new ot(0,0),this.wind=new ot(0,0)}}class Ff{constructor(){_(this,"id");_(this,"targetType")}}class vf{constructor(){_(this,"minimum");_(this,"maximum");_(this,"defalut")}}class My{constructor(){_(this,"initialPosition");_(this,"mobility");_(this,"delay");_(this,"acceleration");_(this,"radius");_(this,"position");_(this,"lastPosition");_(this,"lastGravity");_(this,"force");_(this,"velocity");this.initialPosition=new ot(0,0),this.position=new ot(0,0),this.lastPosition=new ot(0,0),this.lastGravity=new ot(0,0),this.force=new ot(0,0),this.velocity=new ot(0,0)}}class Ty{constructor(){_(this,"inputCount");_(this,"outputCount");_(this,"particleCount");_(this,"baseInputIndex");_(this,"baseOutputIndex");_(this,"baseParticleIndex");_(this,"normalizationPosition");_(this,"normalizationAngle");this.normalizationPosition=new vf,this.normalizationAngle=new vf}}class Ey{constructor(){_(this,"source");_(this,"sourceParameterIndex");_(this,"weight");_(this,"type");_(this,"reflect");_(this,"getNormalizedParameterValue");this.source=new Ff}}class By{constructor(){_(this,"destination");_(this,"destinationParameterIndex");_(this,"vertexIndex");_(this,"translationScale");_(this,"angleScale");_(this,"weight");_(this,"type");_(this,"reflect");_(this,"valueBelowMinimum");_(this,"valueExceededMaximum");_(this,"getValue");_(this,"getScale");this.destination=new Ff,this.translationScale=new ot(0,0)}}class Ry{constructor(){_(this,"subRigCount");_(this,"settings");_(this,"inputs");_(this,"outputs");_(this,"particles");_(this,"gravity");_(this,"wind");_(this,"fps");this.settings=new ct,this.inputs=new ct,this.outputs=new ct,this.particles=new ct,this.gravity=new ot(0,0),this.wind=new ot(0,0),this.fps=0}}var Zp;(s=>{s.CubismPhysicsInput=Ey,s.CubismPhysicsNormalization=vf,s.CubismPhysicsOutput=By,s.CubismPhysicsParameter=Ff,s.CubismPhysicsParticle=My,s.CubismPhysicsRig=Ry,s.CubismPhysicsSource=Oi,s.CubismPhysicsSubRig=Ty,s.CubismPhysicsTargetType=vu,s.PhysicsJsonEffectiveForces=EC})(Zp||(Zp={}));const fs="Position",rf="X",uf="Y",of="Angle",Jp="Type",Kp="Id",ii="Meta",nu="EffectiveForces",BC="TotalInputCount",RC="TotalOutputCount",VC="PhysicsSettingCount",Wp="Gravity",$p="Wind",DC="VertexCount",AC="Fps",Zt="PhysicsSettings",$l="Normalization",t_="Minimum",e_="Maximum",a_="Default",i_="Reflect",l_="Weight",hs="Input",OC="Source",il="Output",wC="Scale",zC="VertexIndex",LC="Destination",ll="Vertices",NC="Mobility",FC="Delay",UC="Radius",jC="Acceleration";class Vy{constructor(i,l){_(this,"_json");this._json=Be.create(i,l)}release(){Be.delete(this._json)}getGravity(){const i=new ot(0,0);return i.x=this._json.getRoot().getValueByString(ii).getValueByString(nu).getValueByString(Wp).getValueByString(rf).toFloat(),i.y=this._json.getRoot().getValueByString(ii).getValueByString(nu).getValueByString(Wp).getValueByString(uf).toFloat(),i}getWind(){const i=new ot(0,0);return i.x=this._json.getRoot().getValueByString(ii).getValueByString(nu).getValueByString($p).getValueByString(rf).toFloat(),i.y=this._json.getRoot().getValueByString(ii).getValueByString(nu).getValueByString($p).getValueByString(uf).toFloat(),i}getFps(){return this._json.getRoot().getValueByString(ii).getValueByString(AC).toFloat(0)}getSubRigCount(){return this._json.getRoot().getValueByString(ii).getValueByString(VC).toInt()}getTotalInputCount(){return this._json.getRoot().getValueByString(ii).getValueByString(BC).toInt()}getTotalOutputCount(){return this._json.getRoot().getValueByString(ii).getValueByString(RC).toInt()}getVertexCount(){return this._json.getRoot().getValueByString(ii).getValueByString(DC).toInt()}getNormalizationPositionMinimumValue(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString($l).getValueByString(fs).getValueByString(t_).toFloat()}getNormalizationPositionMaximumValue(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString($l).getValueByString(fs).getValueByString(e_).toFloat()}getNormalizationPositionDefaultValue(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString($l).getValueByString(fs).getValueByString(a_).toFloat()}getNormalizationAngleMinimumValue(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString($l).getValueByString(of).getValueByString(t_).toFloat()}getNormalizationAngleMaximumValue(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString($l).getValueByString(of).getValueByString(e_).toFloat()}getNormalizationAngleDefaultValue(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString($l).getValueByString(of).getValueByString(a_).toFloat()}getInputCount(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(hs).getVector().getSize()}getInputWeight(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(hs).getValueByIndex(l).getValueByString(l_).toFloat()}getInputReflect(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(hs).getValueByIndex(l).getValueByString(i_).toBoolean()}getInputType(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(hs).getValueByIndex(l).getValueByString(Jp).getRawString()}getInputSourceId(i,l){return kt.getIdManager().getId(this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(hs).getValueByIndex(l).getValueByString(OC).getValueByString(Kp).getRawString())}getOutputCount(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(il).getVector().getSize()}getOutputVertexIndex(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(il).getValueByIndex(l).getValueByString(zC).toInt()}getOutputAngleScale(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(il).getValueByIndex(l).getValueByString(wC).toFloat()}getOutputWeight(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(il).getValueByIndex(l).getValueByString(l_).toFloat()}getOutputDestinationId(i,l){return kt.getIdManager().getId(this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(il).getValueByIndex(l).getValueByString(LC).getValueByString(Kp).getRawString())}getOutputType(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(il).getValueByIndex(l).getValueByString(Jp).getRawString()}getOutputReflect(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(il).getValueByIndex(l).getValueByString(i_).toBoolean()}getParticleCount(i){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(ll).getVector().getSize()}getParticleMobility(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(ll).getValueByIndex(l).getValueByString(NC).toFloat()}getParticleDelay(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(ll).getValueByIndex(l).getValueByString(FC).toFloat()}getParticleAcceleration(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(ll).getValueByIndex(l).getValueByString(jC).toFloat()}getParticleRadius(i,l){return this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(ll).getValueByIndex(l).getValueByString(UC).toFloat()}getParticlePosition(i,l){const r=new ot(0,0);return r.x=this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(ll).getValueByIndex(l).getValueByString(fs).getValueByString(rf).toFloat(),r.y=this._json.getRoot().getValueByString(Zt).getValueByIndex(i).getValueByString(ll).getValueByIndex(l).getValueByString(fs).getValueByString(uf).toFloat(),r}}var n_;(s=>{s.CubismPhysicsJson=Vy})(n_||(n_={}));const s_="X",r_="Y",u_="Angle",PC=5,Sf=100,o_=.001,kC=5;class Bs{constructor(){_(this,"_physicsRig");_(this,"_options");_(this,"_currentRigOutputs");_(this,"_previousRigOutputs");_(this,"_currentRemainTime");_(this,"_parameterCaches");_(this,"_parameterInputCaches");this._physicsRig=null,this._options=new Dy,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0,this._currentRigOutputs=new ct,this._previousRigOutputs=new ct,this._currentRemainTime=0,this._parameterCaches=null,this._parameterInputCaches=null}static create(i,l){const r=new Bs;return r.parse(i,l),r._physicsRig.gravity.y=0,r}static delete(i){i!=null&&(i.release(),i=null)}parse(i,l){this._physicsRig=new Ry;let r=new Vy(i,l);this._physicsRig.gravity=r.getGravity(),this._physicsRig.wind=r.getWind(),this._physicsRig.subRigCount=r.getSubRigCount(),this._physicsRig.fps=r.getFps(),this._physicsRig.settings.updateSize(this._physicsRig.subRigCount,Ty,!0),this._physicsRig.inputs.updateSize(r.getTotalInputCount(),Ey,!0),this._physicsRig.outputs.updateSize(r.getTotalOutputCount(),By,!0),this._physicsRig.particles.updateSize(r.getVertexCount(),My,!0),this._currentRigOutputs.clear(),this._previousRigOutputs.clear();let o=0,f=0,h=0;for(let m=0;m<this._physicsRig.settings.getSize();++m){this._physicsRig.settings.at(m).normalizationPosition.minimum=r.getNormalizationPositionMinimumValue(m),this._physicsRig.settings.at(m).normalizationPosition.maximum=r.getNormalizationPositionMaximumValue(m),this._physicsRig.settings.at(m).normalizationPosition.defalut=r.getNormalizationPositionDefaultValue(m),this._physicsRig.settings.at(m).normalizationAngle.minimum=r.getNormalizationAngleMinimumValue(m),this._physicsRig.settings.at(m).normalizationAngle.maximum=r.getNormalizationAngleMaximumValue(m),this._physicsRig.settings.at(m).normalizationAngle.defalut=r.getNormalizationAngleDefaultValue(m),this._physicsRig.settings.at(m).inputCount=r.getInputCount(m),this._physicsRig.settings.at(m).baseInputIndex=o;for(let y=0;y<this._physicsRig.settings.at(m).inputCount;++y)this._physicsRig.inputs.at(o+y).sourceParameterIndex=-1,this._physicsRig.inputs.at(o+y).weight=r.getInputWeight(m,y),this._physicsRig.inputs.at(o+y).reflect=r.getInputReflect(m,y),r.getInputType(m,y)==s_?(this._physicsRig.inputs.at(o+y).type=Oi.CubismPhysicsSource_X,this._physicsRig.inputs.at(o+y).getNormalizedParameterValue=HC):r.getInputType(m,y)==r_?(this._physicsRig.inputs.at(o+y).type=Oi.CubismPhysicsSource_Y,this._physicsRig.inputs.at(o+y).getNormalizedParameterValue=YC):r.getInputType(m,y)==u_&&(this._physicsRig.inputs.at(o+y).type=Oi.CubismPhysicsSource_Angle,this._physicsRig.inputs.at(o+y).getNormalizedParameterValue=GC),this._physicsRig.inputs.at(o+y).source.targetType=vu.CubismPhysicsTargetType_Parameter,this._physicsRig.inputs.at(o+y).source.id=r.getInputSourceId(m,y);o+=this._physicsRig.settings.at(m).inputCount,this._physicsRig.settings.at(m).outputCount=r.getOutputCount(m),this._physicsRig.settings.at(m).baseOutputIndex=f;const p=new c_;p.outputs.resize(this._physicsRig.settings.at(m).outputCount);const g=new c_;g.outputs.resize(this._physicsRig.settings.at(m).outputCount);for(let y=0;y<this._physicsRig.settings.at(m).outputCount;++y)p.outputs.set(y,0),g.outputs.set(y,0),this._physicsRig.outputs.at(f+y).destinationParameterIndex=-1,this._physicsRig.outputs.at(f+y).vertexIndex=r.getOutputVertexIndex(m,y),this._physicsRig.outputs.at(f+y).angleScale=r.getOutputAngleScale(m,y),this._physicsRig.outputs.at(f+y).weight=r.getOutputWeight(m,y),this._physicsRig.outputs.at(f+y).destination.targetType=vu.CubismPhysicsTargetType_Parameter,this._physicsRig.outputs.at(f+y).destination.id=r.getOutputDestinationId(m,y),r.getOutputType(m,y)==s_?(this._physicsRig.outputs.at(f+y).type=Oi.CubismPhysicsSource_X,this._physicsRig.outputs.at(f+y).getValue=qC,this._physicsRig.outputs.at(f+y).getScale=KC):r.getOutputType(m,y)==r_?(this._physicsRig.outputs.at(f+y).type=Oi.CubismPhysicsSource_Y,this._physicsRig.outputs.at(f+y).getValue=XC,this._physicsRig.outputs.at(f+y).getScale=WC):r.getOutputType(m,y)==u_&&(this._physicsRig.outputs.at(f+y).type=Oi.CubismPhysicsSource_Angle,this._physicsRig.outputs.at(f+y).getValue=QC,this._physicsRig.outputs.at(f+y).getScale=$C),this._physicsRig.outputs.at(f+y).reflect=r.getOutputReflect(m,y);this._currentRigOutputs.pushBack(p),this._previousRigOutputs.pushBack(g),f+=this._physicsRig.settings.at(m).outputCount,this._physicsRig.settings.at(m).particleCount=r.getParticleCount(m),this._physicsRig.settings.at(m).baseParticleIndex=h;for(let y=0;y<this._physicsRig.settings.at(m).particleCount;++y)this._physicsRig.particles.at(h+y).mobility=r.getParticleMobility(m,y),this._physicsRig.particles.at(h+y).delay=r.getParticleDelay(m,y),this._physicsRig.particles.at(h+y).acceleration=r.getParticleAcceleration(m,y),this._physicsRig.particles.at(h+y).radius=r.getParticleRadius(m,y),this._physicsRig.particles.at(h+y).position=r.getParticlePosition(m,y);h+=this._physicsRig.settings.at(m).particleCount}this.initialize(),r.release(),r=void 0,r=null}stabilization(i){var C,D;let l,r,o,f;const h=new ot;let m,p,g,y;const S=i.getModel().parameters.values,E=i.getModel().parameters.maximumValues,b=i.getModel().parameters.minimumValues,B=i.getModel().parameters.defaultValues;(((C=this._parameterCaches)==null?void 0:C.length)??0)<i.getParameterCount()&&(this._parameterCaches=new Float32Array(i.getParameterCount())),(((D=this._parameterInputCaches)==null?void 0:D.length)??0)<i.getParameterCount()&&(this._parameterInputCaches=new Float32Array(i.getParameterCount()));for(let j=0;j<i.getParameterCount();++j)this._parameterCaches[j]=S[j],this._parameterInputCaches[j]=S[j];for(let j=0;j<this._physicsRig.subRigCount;++j){l={angle:0},h.x=0,h.y=0,m=this._physicsRig.settings.at(j),p=this._physicsRig.inputs.get(m.baseInputIndex),g=this._physicsRig.outputs.get(m.baseOutputIndex),y=this._physicsRig.particles.get(m.baseParticleIndex);for(let F=0;F<m.inputCount;++F)r=p[F].weight/Sf,p[F].sourceParameterIndex==-1&&(p[F].sourceParameterIndex=i.getParameterIndex(p[F].source.id)),p[F].getNormalizedParameterValue(h,l,S[p[F].sourceParameterIndex],b[p[F].sourceParameterIndex],E[p[F].sourceParameterIndex],B[p[F].sourceParameterIndex],m.normalizationPosition,m.normalizationAngle,p[F].reflect,r),this._parameterCaches[p[F].sourceParameterIndex]=S[p[F].sourceParameterIndex];o=gt.degreesToRadian(-l.angle),h.x=h.x*gt.cos(o)-h.y*gt.sin(o),h.y=h.x*gt.sin(o)+h.y*gt.cos(o),e1(y,m.particleCount,h,l.angle,this._options.wind,o_*m.normalizationPosition.maximum);for(let F=0;F<m.outputCount;++F){const A=g[F].vertexIndex;if(g[F].destinationParameterIndex==-1&&(g[F].destinationParameterIndex=i.getParameterIndex(g[F].destination.id)),A<1||A>=m.particleCount)continue;let J=new ot;J=y[A].position.substract(y[A-1].position),f=g[F].getValue(J,y,A,g[F].reflect,this._options.gravity),this._currentRigOutputs.at(j).outputs.set(F,f),this._previousRigOutputs.at(j).outputs.set(F,f);const Y=g[F].destinationParameterIndex,Z=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(S.subarray(Y))):S.slice(Y);cf(Z,b[Y],E[Y],f,g[F]);for(let Q=Y,ht=0;Q<this._parameterCaches.length;Q++,ht++)S[Q]=this._parameterCaches[Q]=Z[ht]}}}evaluate(i,l){var F,A;let r,o,f,h;const m=new ot;let p,g,y,S;if(0>=l)return;const E=i.getModel().parameters.values,b=i.getModel().parameters.maximumValues,B=i.getModel().parameters.minimumValues,C=i.getModel().parameters.defaultValues;let D;if(this._currentRemainTime+=l,this._currentRemainTime>kC&&(this._currentRemainTime=0),(((F=this._parameterCaches)==null?void 0:F.length)??0)<i.getParameterCount()&&(this._parameterCaches=new Float32Array(i.getParameterCount())),(((A=this._parameterInputCaches)==null?void 0:A.length)??0)<i.getParameterCount()){this._parameterInputCaches=new Float32Array(i.getParameterCount());for(let J=0;J<i.getParameterCount();++J)this._parameterInputCaches[J]=E[J]}for(this._physicsRig.fps>0?D=1/this._physicsRig.fps:D=l;this._currentRemainTime>=D;){for(let Y=0;Y<this._physicsRig.subRigCount;++Y){p=this._physicsRig.settings.at(Y),y=this._physicsRig.outputs.get(p.baseOutputIndex);for(let Z=0;Z<p.outputCount;++Z)this._previousRigOutputs.at(Y).outputs.set(Z,this._currentRigOutputs.at(Y).outputs.at(Z))}const J=D/this._currentRemainTime;for(let Y=0;Y<i.getParameterCount();++Y)this._parameterCaches[Y]=this._parameterInputCaches[Y]*(1-J)+E[Y]*J,this._parameterInputCaches[Y]=this._parameterCaches[Y];for(let Y=0;Y<this._physicsRig.subRigCount;++Y){r={angle:0},m.x=0,m.y=0,p=this._physicsRig.settings.at(Y),g=this._physicsRig.inputs.get(p.baseInputIndex),y=this._physicsRig.outputs.get(p.baseOutputIndex),S=this._physicsRig.particles.get(p.baseParticleIndex);for(let Z=0;Z<p.inputCount;++Z)o=g[Z].weight/Sf,g[Z].sourceParameterIndex==-1&&(g[Z].sourceParameterIndex=i.getParameterIndex(g[Z].source.id)),g[Z].getNormalizedParameterValue(m,r,this._parameterCaches[g[Z].sourceParameterIndex],B[g[Z].sourceParameterIndex],b[g[Z].sourceParameterIndex],C[g[Z].sourceParameterIndex],p.normalizationPosition,p.normalizationAngle,g[Z].reflect,o);f=gt.degreesToRadian(-r.angle),m.x=m.x*gt.cos(f)-m.y*gt.sin(f),m.y=m.x*gt.sin(f)+m.y*gt.cos(f),t1(S,p.particleCount,m,r.angle,this._options.wind,o_*p.normalizationPosition.maximum,D,PC);for(let Z=0;Z<p.outputCount;++Z){const Q=y[Z].vertexIndex;if(y[Z].destinationParameterIndex==-1&&(y[Z].destinationParameterIndex=i.getParameterIndex(y[Z].destination.id)),Q<1||Q>=p.particleCount)continue;const ht=new ot;ht.x=S[Q].position.x-S[Q-1].position.x,ht.y=S[Q].position.y-S[Q-1].position.y,h=y[Z].getValue(ht,S,Q,y[Z].reflect,this._options.gravity),this._currentRigOutputs.at(Y).outputs.set(Z,h);const Et=y[Z].destinationParameterIndex,At=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(this._parameterCaches.subarray(Et))):this._parameterCaches.slice(Et);cf(At,B[Et],b[Et],h,y[Z]);for(let Gt=Et,lt=0;Gt<this._parameterCaches.length;Gt++,lt++)this._parameterCaches[Gt]=At[lt]}}this._currentRemainTime-=D}const j=this._currentRemainTime/D;this.interpolate(i,j)}interpolate(i,l){let r,o;const f=i.getModel().parameters.values,h=i.getModel().parameters.maximumValues,m=i.getModel().parameters.minimumValues;for(let p=0;p<this._physicsRig.subRigCount;++p){o=this._physicsRig.settings.at(p),r=this._physicsRig.outputs.get(o.baseOutputIndex);for(let g=0;g<o.outputCount;++g){if(r[g].destinationParameterIndex==-1)continue;const y=r[g].destinationParameterIndex,S=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(f.subarray(y))):f.slice(y);cf(S,m[y],h[y],this._previousRigOutputs.at(p).outputs.at(g)*(1-l)+this._currentRigOutputs.at(p).outputs.at(g)*l,r[g]);for(let E=y,b=0;E<f.length;E++,b++)f[E]=S[b]}}}setOptions(i){this._options=i}getOption(){return this._options}release(){this._physicsRig=void 0,this._physicsRig=null}initialize(){let i,l,r;for(let o=0;o<this._physicsRig.subRigCount;++o){l=this._physicsRig.settings.at(o),i=this._physicsRig.particles.get(l.baseParticleIndex),i[0].initialPosition=new ot(0,0),i[0].lastPosition=new ot(i[0].initialPosition.x,i[0].initialPosition.y),i[0].lastGravity=new ot(0,-1),i[0].lastGravity.y*=-1,i[0].velocity=new ot(0,0),i[0].force=new ot(0,0);for(let f=1;f<l.particleCount;++f)r=new ot(0,0),r.y=i[f].radius,i[f].initialPosition=new ot(i[f-1].initialPosition.x+r.x,i[f-1].initialPosition.y+r.y),i[f].position=new ot(i[f].initialPosition.x,i[f].initialPosition.y),i[f].lastPosition=new ot(i[f].initialPosition.x,i[f].initialPosition.y),i[f].lastGravity=new ot(0,-1),i[f].lastGravity.y*=-1,i[f].velocity=new ot(0,0),i[f].force=new ot(0,0)}}}class Dy{constructor(){_(this,"gravity");_(this,"wind");this.gravity=new ot(0,0),this.wind=new ot(0,0)}}class c_{constructor(){_(this,"outputs");this.outputs=new ct(0)}}function IC(s){let i=0;return s>0?i=1:s<0&&(i=-1),i}function HC(s,i,l,r,o,f,h,m,p,g){s.x+=Uf(l,r,o,f,h.minimum,h.maximum,h.defalut,p)*g}function YC(s,i,l,r,o,f,h,m,p,g){s.y+=Uf(l,r,o,f,h.minimum,h.maximum,h.defalut,p)*g}function GC(s,i,l,r,o,f,h,m,p,g){i.angle+=Uf(l,r,o,f,m.minimum,m.maximum,m.defalut,p)*g}function qC(s,i,l,r,o){let f=s.x;return r&&(f*=-1),f}function XC(s,i,l,r,o){let f=s.y;return r&&(f*=-1),f}function QC(s,i,l,r,o){let f;return l>=2?o=i[l-1].position.substract(i[l-2].position):o=o.multiplyByScaler(-1),f=gt.directionToRadian(o,s),r&&(f*=-1),f}function ZC(s,i){const l=gt.max(s,i),r=gt.min(s,i);return gt.abs(l-r)}function JC(s,i){return gt.min(s,i)+ZC(s,i)/2}function KC(s,i){return JSON.parse(JSON.stringify(s.x))}function WC(s,i){return JSON.parse(JSON.stringify(s.y))}function $C(s,i){return JSON.parse(JSON.stringify(i))}function t1(s,i,l,r,o,f,h,m){let p,g,y=new ot(0,0),S=new ot(0,0),E=new ot(0,0),b=new ot(0,0);s[0].position=new ot(l.x,l.y);const B=gt.degreesToRadian(r),C=gt.radianToDirection(B);C.normalize();for(let D=1;D<i;++D)s[D].force=C.multiplyByScaler(s[D].acceleration).add(o),s[D].lastPosition=new ot(s[D].position.x,s[D].position.y),p=s[D].delay*h*30,y=s[D].position.substract(s[D-1].position),g=gt.directionToRadian(s[D].lastGravity,C)/m,y.x=gt.cos(g)*y.x-y.y*gt.sin(g),y.y=gt.sin(g)*y.x+y.y*gt.cos(g),s[D].position=s[D-1].position.add(y),S=s[D].velocity.multiplyByScaler(p),E=s[D].force.multiplyByScaler(p).multiplyByScaler(p),s[D].position=s[D].position.add(S).add(E),b=s[D].position.substract(s[D-1].position),b.normalize(),s[D].position=s[D-1].position.add(b.multiplyByScaler(s[D].radius)),gt.abs(s[D].position.x)<f&&(s[D].position.x=0),p!=0&&(s[D].velocity=s[D].position.substract(s[D].lastPosition),s[D].velocity=s[D].velocity.divisionByScalar(p),s[D].velocity=s[D].velocity.multiplyByScaler(s[D].mobility)),s[D].force=new ot(0,0),s[D].lastGravity=new ot(C.x,C.y)}function e1(s,i,l,r,o,f){let h=new ot(0,0);s[0].position=new ot(l.x,l.y);const m=gt.degreesToRadian(r),p=gt.radianToDirection(m);p.normalize();for(let g=1;g<i;++g)s[g].force=p.multiplyByScaler(s[g].acceleration).add(o),s[g].lastPosition=new ot(s[g].position.x,s[g].position.y),s[g].velocity=new ot(0,0),h=s[g].force,h.normalize(),h=h.multiplyByScaler(s[g].radius),s[g].position=s[g-1].position.add(h),gt.abs(s[g].position.x)<f&&(s[g].position.x=0),s[g].force=new ot(0,0),s[g].lastGravity=new ot(p.x,p.y)}function cf(s,i,l,r,o){let f;const h=o.getScale(o.translationScale,o.angleScale);f=r*h,f<i?(f<o.valueBelowMinimum&&(o.valueBelowMinimum=f),f=i):f>l&&(f>o.valueExceededMaximum&&(o.valueExceededMaximum=f),f=l);const m=o.weight/Sf;m>=1||(f=s[0]*(1-m)+f*m),s[0]=f}function Uf(s,i,l,r,o,f,h,m){let p=0;const g=gt.max(l,i);g<s&&(s=g);const y=gt.min(l,i);y>s&&(s=y);const S=gt.min(o,f),E=gt.max(o,f),b=h,B=JC(y,g),C=s-B;switch(IC(C)){case 1:{const D=E-b,j=g-B;j!=0&&(p=C*(D/j),p+=b);break}case-1:{const D=S-b,j=y-B;j!=0&&(p=C*(D/j),p+=b);break}case 0:{p=b;break}}return m?p:p*-1}var f_;(s=>{s.CubismPhysics=Bs,s.Options=Dy})(f_||(f_={}));const ff=4,a1=36,i1=32;class l1{constructor(i){_(this,"_clearedFrameBufferFlags");_(this,"_channelColors");_(this,"_clippingContextListForMask");_(this,"_clippingContextListForDraw");_(this,"_clippingMaskBufferSize");_(this,"_renderTextureCount");_(this,"_tmpMatrix");_(this,"_tmpMatrixForMask");_(this,"_tmpMatrixForDraw");_(this,"_tmpBoundsOnModel");_(this,"_clippingContexttConstructor");this._renderTextureCount=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=new ct,this._clippingContextListForDraw=new ct,this._channelColors=new ct,this._tmpBoundsOnModel=new mu,this._tmpMatrix=new Ye,this._tmpMatrixForMask=new Ye,this._tmpMatrixForDraw=new Ye,this._clippingContexttConstructor=i;let l=new He;l.r=1,l.g=0,l.b=0,l.a=0,this._channelColors.pushBack(l),l=new He,l.r=0,l.g=1,l.b=0,l.a=0,this._channelColors.pushBack(l),l=new He,l.r=0,l.g=0,l.b=1,l.a=0,this._channelColors.pushBack(l),l=new He,l.r=0,l.g=0,l.b=0,l.a=1,this._channelColors.pushBack(l)}release(){for(let i=0;i<this._clippingContextListForMask.getSize();i++)this._clippingContextListForMask.at(i)&&(this._clippingContextListForMask.at(i).release(),this._clippingContextListForMask.set(i,void 0)),this._clippingContextListForMask.set(i,null);this._clippingContextListForMask=null;for(let i=0;i<this._clippingContextListForDraw.getSize();i++)this._clippingContextListForDraw.set(i,null);this._clippingContextListForDraw=null;for(let i=0;i<this._channelColors.getSize();i++)this._channelColors.set(i,null);this._channelColors=null,this._clearedFrameBufferFlags!=null&&this._clearedFrameBufferFlags.clear(),this._clearedFrameBufferFlags=null}initialize(i,l){l%1!=0&&(wt("The number of render textures must be specified as an integer. The decimal point is rounded down and corrected to an integer."),l=~~l),l<1&&wt("The number of render textures must be an integer greater than or equal to 1. Set the number of render textures to 1."),this._renderTextureCount=l<1?1:l,this._clearedFrameBufferFlags=new ct(this._renderTextureCount);for(let r=0;r<i.getDrawableCount();r++){if(i.getDrawableMaskCounts()[r]<=0){this._clippingContextListForDraw.pushBack(null);continue}let o=this.findSameClip(i.getDrawableMasks()[r],i.getDrawableMaskCounts()[r]);o==null&&(o=new this._clippingContexttConstructor(this,i.getDrawableMasks()[r],i.getDrawableMaskCounts()[r]),this._clippingContextListForMask.pushBack(o)),o.addClippedDrawable(r),this._clippingContextListForDraw.pushBack(o)}}findSameClip(i,l){for(let r=0;r<this._clippingContextListForMask.getSize();r++){const o=this._clippingContextListForMask.at(r),f=o._clippingIdCount;if(f!=l)continue;let h=0;for(let m=0;m<f;m++){const p=o._clippingIdList[m];for(let g=0;g<f;g++)if(i[g]==p){h++;break}}if(h==f)return o}return null}setupMatrixForHighPrecision(i,l){let r=0;for(let o=0;o<this._clippingContextListForMask.getSize();o++){const f=this._clippingContextListForMask.at(o);this.calcClippedDrawTotalBounds(i,f),f._isUsing&&r++}if(r>0){if(this.setupLayoutBounds(0),this._clearedFrameBufferFlags.getSize()!=this._renderTextureCount){this._clearedFrameBufferFlags.clear();for(let o=0;o<this._renderTextureCount;o++)this._clearedFrameBufferFlags.pushBack(!1)}else for(let o=0;o<this._renderTextureCount;o++)this._clearedFrameBufferFlags.set(o,!1);for(let o=0;o<this._clippingContextListForMask.getSize();o++){const f=this._clippingContextListForMask.at(o),h=f._allClippedDrawRect,m=f._layoutBounds,p=.05;let g=0,y=0;const S=i.getPixelsPerUnit(),E=f.getClippingManager().getClippingMaskBufferSize(),b=m.width*E,B=m.height*E;this._tmpBoundsOnModel.setRect(h),this._tmpBoundsOnModel.width*S>b?(this._tmpBoundsOnModel.expand(h.width*p,0),g=m.width/this._tmpBoundsOnModel.width):g=S/b,this._tmpBoundsOnModel.height*S>B?(this._tmpBoundsOnModel.expand(0,h.height*p),y=m.height/this._tmpBoundsOnModel.height):y=S/B,this.createMatrixForMask(l,m,g,y),f._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),f._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray())}}}createMatrixForMask(i,l,r,o){this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(r,o),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(l.x,l.y*(i?-1:1)),this._tmpMatrix.scaleRelative(r,o*(i?-1:1)),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray())}setupLayoutBounds(i){const l=this._renderTextureCount<=1?a1:i1*this._renderTextureCount;if(i<=0||i>l){i>l&&ie(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,i-l,this._renderTextureCount,i);for(let g=0;g<this._clippingContextListForMask.getSize();g++){const y=this._clippingContextListForMask.at(g);y._layoutChannelIndex=0,y._layoutBounds.x=0,y._layoutBounds.y=0,y._layoutBounds.width=1,y._layoutBounds.height=1,y._bufferIndex=0}return}const r=this._renderTextureCount<=1?9:8;let o=i/this._renderTextureCount;const f=i%this._renderTextureCount;o=Math.ceil(o);let h=o/ff;const m=o%ff;h=~~h;let p=0;for(let g=0;g<this._renderTextureCount;g++)for(let y=0;y<ff;y++){let S=h+(y<m?1:0);const E=m+(h<1?-1:0);if(y==E&&f>0&&(S-=g<f?0:1),S!=0)if(S==1){const b=this._clippingContextListForMask.at(p++);b._layoutChannelIndex=y,b._layoutBounds.x=0,b._layoutBounds.y=0,b._layoutBounds.width=1,b._layoutBounds.height=1,b._bufferIndex=g}else if(S==2)for(let b=0;b<S;b++){let B=b%2;B=~~B;const C=this._clippingContextListForMask.at(p++);C._layoutChannelIndex=y,C._layoutBounds.x=B*.5,C._layoutBounds.y=0,C._layoutBounds.width=.5,C._layoutBounds.height=1,C._bufferIndex=g}else if(S<=4)for(let b=0;b<S;b++){let B=b%2,C=b/2;B=~~B,C=~~C;const D=this._clippingContextListForMask.at(p++);D._layoutChannelIndex=y,D._layoutBounds.x=B*.5,D._layoutBounds.y=C*.5,D._layoutBounds.width=.5,D._layoutBounds.height=.5,D._bufferIndex=g}else if(S<=r)for(let b=0;b<S;b++){let B=b%3,C=b/3;B=~~B,C=~~C;const D=this._clippingContextListForMask.at(p++);D._layoutChannelIndex=y,D._layoutBounds.x=B/3,D._layoutBounds.y=C/3,D._layoutBounds.width=1/3,D._layoutBounds.height=1/3,D._bufferIndex=g}else{ie(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,i-l,this._renderTextureCount,i);for(let b=0;b<S;b++){const B=this._clippingContextListForMask.at(p++);B._layoutChannelIndex=0,B._layoutBounds.x=0,B._layoutBounds.y=0,B._layoutBounds.width=1,B._layoutBounds.height=1,B._bufferIndex=0}}}}calcClippedDrawTotalBounds(i,l){let r=Number.MAX_VALUE,o=Number.MAX_VALUE,f=Number.MIN_VALUE,h=Number.MIN_VALUE;const m=l._clippedDrawableIndexList.length;for(let p=0;p<m;p++){const g=l._clippedDrawableIndexList[p],y=i.getDrawableVertexCount(g),S=i.getDrawableVertices(g);let E=Number.MAX_VALUE,b=Number.MAX_VALUE,B=-Number.MAX_VALUE,C=-Number.MAX_VALUE;const D=y*zi.vertexStep;for(let j=zi.vertexOffset;j<D;j+=zi.vertexStep){const F=S[j],A=S[j+1];F<E&&(E=F),F>B&&(B=F),A<b&&(b=A),A>C&&(C=A)}if(E!=Number.MAX_VALUE)if(E<r&&(r=E),b<o&&(o=b),B>f&&(f=B),C>h&&(h=C),r==Number.MAX_VALUE)l._allClippedDrawRect.x=0,l._allClippedDrawRect.y=0,l._allClippedDrawRect.width=0,l._allClippedDrawRect.height=0,l._isUsing=!1;else{l._isUsing=!0;const j=f-r,F=h-o;l._allClippedDrawRect.x=r,l._allClippedDrawRect.y=o,l._allClippedDrawRect.width=j,l._allClippedDrawRect.height=F}}}getClippingContextListForDraw(){return this._clippingContextListForDraw}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}getRenderTextureCount(){return this._renderTextureCount}getChannelFlagAsColor(i){return this._channelColors.at(i)}setClippingMaskBufferSize(i){this._clippingMaskBufferSize=i}}let tn;const n1=10;class Ay{constructor(){_(this,"_shaderSets");_(this,"gl");this._shaderSets=new ct}release(){this.releaseShaderProgram()}setupShaderProgramForDraw(i,l,r){i.isPremultipliedAlpha()||ie("NoPremultipliedAlpha is not allowed"),this._shaderSets.getSize()==0&&this.generateShaders();let o,f,h,m;const p=i.getClippingContextBufferForDraw()!=null,g=l.getDrawableInvertedMaskBit(r),y=p?g?2:1:0;let S;switch(l.getDrawableBlendMode(r)){case Fi.CubismBlendMode_Normal:default:S=this._shaderSets.at(1+y),o=this.gl.ONE,f=this.gl.ONE_MINUS_SRC_ALPHA,h=this.gl.ONE,m=this.gl.ONE_MINUS_SRC_ALPHA;break;case Fi.CubismBlendMode_Additive:S=this._shaderSets.at(4+y),o=this.gl.ONE,f=this.gl.ONE,h=this.gl.ZERO,m=this.gl.ONE;break;case Fi.CubismBlendMode_Multiplicative:S=this._shaderSets.at(7+y),o=this.gl.DST_COLOR,f=this.gl.ONE_MINUS_SRC_ALPHA,h=this.gl.ZERO,m=this.gl.ONE;break}this.gl.useProgram(S.shaderProgram),i._bufferData.vertex==null&&(i._bufferData.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.vertex);const E=l.getDrawableVertices(r);this.gl.bufferData(this.gl.ARRAY_BUFFER,E,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(S.attributePositionLocation),this.gl.vertexAttribPointer(S.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),i._bufferData.uv==null&&(i._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.uv);const b=l.getDrawableVertexUvs(r);if(this.gl.bufferData(this.gl.ARRAY_BUFFER,b,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(S.attributeTexCoordLocation),this.gl.vertexAttribPointer(S.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),p){this.gl.activeTexture(this.gl.TEXTURE1);const Y=i.getClippingContextBufferForDraw().getClippingManager().getColorBuffer().at(i.getClippingContextBufferForDraw()._bufferIndex);this.gl.bindTexture(this.gl.TEXTURE_2D,Y),this.gl.uniform1i(S.samplerTexture1Location,1),this.gl.uniformMatrix4fv(S.uniformClipMatrixLocation,!1,i.getClippingContextBufferForDraw()._matrixForDraw.getArray());const Z=i.getClippingContextBufferForDraw()._layoutChannelIndex,Q=i.getClippingContextBufferForDraw().getClippingManager().getChannelFlagAsColor(Z);this.gl.uniform4f(S.uniformChannelFlagLocation,Q.r,Q.g,Q.b,Q.a)}const B=l.getDrawableTextureIndex(r),C=i.getBindedTextures().getValue(B);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,C),this.gl.uniform1i(S.samplerTexture0Location,0);const D=i.getMvpMatrix();this.gl.uniformMatrix4fv(S.uniformMatrixLocation,!1,D.getArray());const j=i.getModelColorWithOpacity(l.getDrawableOpacity(r)),F=l.getMultiplyColor(r),A=l.getScreenColor(r);this.gl.uniform4f(S.uniformBaseColorLocation,j.r,j.g,j.b,j.a),this.gl.uniform4f(S.uniformMultiplyColorLocation,F.r,F.g,F.b,F.a),this.gl.uniform4f(S.uniformScreenColorLocation,A.r,A.g,A.b,A.a),i._bufferData.index==null&&(i._bufferData.index=this.gl.createBuffer());const J=l.getDrawableVertexIndices(r);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,i._bufferData.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,J,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(o,f,h,m)}setupShaderProgramForMask(i,l,r){i.isPremultipliedAlpha()||ie("NoPremultipliedAlpha is not allowed"),this._shaderSets.getSize()==0&&this.generateShaders();const o=this._shaderSets.at(0);this.gl.useProgram(o.shaderProgram),i._bufferData.vertex==null&&(i._bufferData.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.vertex);const f=l.getDrawableVertices(r);this.gl.bufferData(this.gl.ARRAY_BUFFER,f,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(o.attributePositionLocation),this.gl.vertexAttribPointer(o.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),i._bufferData.uv==null&&(i._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.uv);const h=l.getDrawableTextureIndex(r),m=i.getBindedTextures().getValue(h);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,m),this.gl.uniform1i(o.samplerTexture0Location,0),i._bufferData.uv==null&&(i._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.uv);const p=l.getDrawableVertexUvs(r);this.gl.bufferData(this.gl.ARRAY_BUFFER,p,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(o.attributeTexCoordLocation),this.gl.vertexAttribPointer(o.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),i.getClippingContextBufferForMask();const g=i.getClippingContextBufferForMask()._layoutChannelIndex,y=i.getClippingContextBufferForMask().getClippingManager().getChannelFlagAsColor(g);this.gl.uniform4f(o.uniformChannelFlagLocation,y.r,y.g,y.b,y.a),this.gl.uniformMatrix4fv(o.uniformClipMatrixLocation,!1,i.getClippingContextBufferForMask()._matrixForMask.getArray());const S=i.getClippingContextBufferForMask()._layoutBounds;this.gl.uniform4f(o.uniformBaseColorLocation,S.x*2-1,S.y*2-1,S.getRight()*2-1,S.getBottom()*2-1);const E=l.getMultiplyColor(r),b=l.getScreenColor(r);this.gl.uniform4f(o.uniformMultiplyColorLocation,E.r,E.g,E.b,E.a),this.gl.uniform4f(o.uniformScreenColorLocation,b.r,b.g,b.b,b.a);const B=this.gl.ZERO,C=this.gl.ONE_MINUS_SRC_COLOR,D=this.gl.ZERO,j=this.gl.ONE_MINUS_SRC_ALPHA;i._bufferData.index==null&&(i._bufferData.index=this.gl.createBuffer());const F=l.getDrawableVertexIndices(r);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,i._bufferData.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,F,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(B,C,D,j)}releaseShaderProgram(){for(let i=0;i<this._shaderSets.getSize();i++)this.gl.deleteProgram(this._shaderSets.at(i).shaderProgram),this._shaderSets.at(i).shaderProgram=0,this._shaderSets.set(i,void 0),this._shaderSets.set(i,null)}generateShaders(){for(let i=0;i<n1;i++)this._shaderSets.pushBack(new Oy);this._shaderSets.at(0).shaderProgram=this.loadShaderProgram(s1,r1),this._shaderSets.at(1).shaderProgram=this.loadShaderProgram(u1,o1),this._shaderSets.at(2).shaderProgram=this.loadShaderProgram(h_,c1),this._shaderSets.at(3).shaderProgram=this.loadShaderProgram(h_,f1),this._shaderSets.at(4).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(5).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(6).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(7).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(8).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(9).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(0).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_position"),this._shaderSets.at(0).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_texCoord"),this._shaderSets.at(0).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"s_texture0"),this._shaderSets.at(0).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_clipMatrix"),this._shaderSets.at(0).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_channelFlag"),this._shaderSets.at(0).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_baseColor"),this._shaderSets.at(0).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_multiplyColor"),this._shaderSets.at(0).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_screenColor"),this._shaderSets.at(1).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_position"),this._shaderSets.at(1).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_texCoord"),this._shaderSets.at(1).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"s_texture0"),this._shaderSets.at(1).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_matrix"),this._shaderSets.at(1).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_baseColor"),this._shaderSets.at(1).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_multiplyColor"),this._shaderSets.at(1).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_screenColor"),this._shaderSets.at(2).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_position"),this._shaderSets.at(2).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_texCoord"),this._shaderSets.at(2).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture0"),this._shaderSets.at(2).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture1"),this._shaderSets.at(2).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_matrix"),this._shaderSets.at(2).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_clipMatrix"),this._shaderSets.at(2).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_channelFlag"),this._shaderSets.at(2).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_baseColor"),this._shaderSets.at(2).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_multiplyColor"),this._shaderSets.at(2).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_screenColor"),this._shaderSets.at(3).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_position"),this._shaderSets.at(3).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_texCoord"),this._shaderSets.at(3).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture0"),this._shaderSets.at(3).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture1"),this._shaderSets.at(3).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_matrix"),this._shaderSets.at(3).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_clipMatrix"),this._shaderSets.at(3).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_channelFlag"),this._shaderSets.at(3).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_baseColor"),this._shaderSets.at(3).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_multiplyColor"),this._shaderSets.at(3).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_screenColor"),this._shaderSets.at(4).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_position"),this._shaderSets.at(4).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_texCoord"),this._shaderSets.at(4).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"s_texture0"),this._shaderSets.at(4).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_matrix"),this._shaderSets.at(4).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_baseColor"),this._shaderSets.at(4).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_multiplyColor"),this._shaderSets.at(4).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_screenColor"),this._shaderSets.at(5).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_position"),this._shaderSets.at(5).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_texCoord"),this._shaderSets.at(5).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture0"),this._shaderSets.at(5).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture1"),this._shaderSets.at(5).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_matrix"),this._shaderSets.at(5).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_clipMatrix"),this._shaderSets.at(5).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_channelFlag"),this._shaderSets.at(5).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_baseColor"),this._shaderSets.at(5).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_multiplyColor"),this._shaderSets.at(5).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_screenColor"),this._shaderSets.at(6).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_position"),this._shaderSets.at(6).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_texCoord"),this._shaderSets.at(6).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture0"),this._shaderSets.at(6).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture1"),this._shaderSets.at(6).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_matrix"),this._shaderSets.at(6).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_clipMatrix"),this._shaderSets.at(6).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_channelFlag"),this._shaderSets.at(6).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_baseColor"),this._shaderSets.at(6).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_multiplyColor"),this._shaderSets.at(6).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_screenColor"),this._shaderSets.at(7).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_position"),this._shaderSets.at(7).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_texCoord"),this._shaderSets.at(7).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"s_texture0"),this._shaderSets.at(7).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_matrix"),this._shaderSets.at(7).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_baseColor"),this._shaderSets.at(7).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_multiplyColor"),this._shaderSets.at(7).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_screenColor"),this._shaderSets.at(8).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_position"),this._shaderSets.at(8).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_texCoord"),this._shaderSets.at(8).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture0"),this._shaderSets.at(8).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture1"),this._shaderSets.at(8).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_matrix"),this._shaderSets.at(8).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_clipMatrix"),this._shaderSets.at(8).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_channelFlag"),this._shaderSets.at(8).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_baseColor"),this._shaderSets.at(8).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_multiplyColor"),this._shaderSets.at(8).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_screenColor"),this._shaderSets.at(9).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_position"),this._shaderSets.at(9).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_texCoord"),this._shaderSets.at(9).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture0"),this._shaderSets.at(9).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture1"),this._shaderSets.at(9).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_matrix"),this._shaderSets.at(9).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_clipMatrix"),this._shaderSets.at(9).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_channelFlag"),this._shaderSets.at(9).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_baseColor"),this._shaderSets.at(9).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_multiplyColor"),this._shaderSets.at(9).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_screenColor")}loadShaderProgram(i,l){let r=this.gl.createProgram(),o=this.compileShaderSource(this.gl.VERTEX_SHADER,i);if(!o)return ie("Vertex shader compile error!"),0;let f=this.compileShaderSource(this.gl.FRAGMENT_SHADER,l);return f?(this.gl.attachShader(r,o),this.gl.attachShader(r,f),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS)?(this.gl.deleteShader(o),this.gl.deleteShader(f),r):(ie("Failed to link program: {0}",r),this.gl.deleteShader(o),o=0,this.gl.deleteShader(f),f=0,r&&(this.gl.deleteProgram(r),r=0),0)):(ie("Vertex shader compile error!"),0)}compileShaderSource(i,l){const r=l,o=this.gl.createShader(i);if(this.gl.shaderSource(o,r),this.gl.compileShader(o),!o){const h=this.gl.getShaderInfoLog(o);ie("Shader compile log: {0} ",h)}return this.gl.getShaderParameter(o,this.gl.COMPILE_STATUS)?o:(this.gl.deleteShader(o),null)}setGl(i){this.gl=i}}class rl{constructor(){_(this,"_shaderMap");this._shaderMap=new Ma}static getInstance(){return tn==null&&(tn=new rl),tn}static deleteInstance(){tn&&(tn.release(),tn=null)}release(){for(const i=this._shaderMap.begin();i.notEqual(this._shaderMap.end());i.preIncrement())i.ptr().second.release();this._shaderMap.clear()}getShader(i){return this._shaderMap.getValue(i)}setGlContext(i){if(!this._shaderMap.isExist(i)){const l=new Ay;l.setGl(i),this._shaderMap.setValue(i,l)}}}class Oy{constructor(){_(this,"shaderProgram");_(this,"attributePositionLocation");_(this,"attributeTexCoordLocation");_(this,"uniformMatrixLocation");_(this,"uniformClipMatrixLocation");_(this,"samplerTexture0Location");_(this,"samplerTexture1Location");_(this,"uniformBaseColorLocation");_(this,"uniformChannelFlagLocation");_(this,"uniformMultiplyColorLocation");_(this,"uniformScreenColorLocation")}}var wy=(s=>(s[s.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",s[s.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",s[s.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",s[s.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",s[s.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",s[s.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",s[s.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",s[s.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",s[s.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",s[s.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",s))(wy||{});const s1="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",r1="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",u1="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",h_="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",o1="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 color = texColor * u_baseColor;   gl_FragColor = vec4(color.rgb, color.a);}",c1="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",f1="precision mediump float;varying vec2      v_texCoord;varying vec4      v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4      u_channelFlag;uniform vec4      u_baseColor;uniform vec4      u_multiplyColor;uniform vec4      u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * (1.0 - maskVal);   gl_FragColor = col_formask;}";var d_;(s=>{s.CubismShaderSet=Oy,s.CubismShader_WebGL=Ay,s.CubismShaderManager_WebGL=rl,s.ShaderNames=wy})(d_||(d_={}));let li,Su;class xf extends l1{constructor(){super(Ly);_(this,"_currentMaskRenderTexture");_(this,"_maskRenderTextures");_(this,"_maskColorBuffers");_(this,"_currentFrameNo");_(this,"_maskTexture");_(this,"gl")}getMaskRenderTexture(){if(this._maskTexture&&this._maskTexture.textures!=null)this._maskTexture.frameNo=this._currentFrameNo;else{this._maskRenderTextures!=null&&this._maskRenderTextures.clear(),this._maskRenderTextures=new ct,this._maskColorBuffers!=null&&this._maskColorBuffers.clear(),this._maskColorBuffers=new ct;const l=this._clippingMaskBufferSize;for(let r=0;r<this._renderTextureCount;r++)this._maskColorBuffers.pushBack(this.gl.createTexture()),this.gl.bindTexture(this.gl.TEXTURE_2D,this._maskColorBuffers.at(r)),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,l,l,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this._maskRenderTextures.pushBack(this.gl.createFramebuffer()),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTextures.at(r)),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._maskColorBuffers.at(r),0);this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,Su),this._maskTexture=new zy(this._currentFrameNo,this._maskRenderTextures)}return this._maskTexture.textures}setGL(l){this.gl=l}setupClippingContext(l,r){this._currentFrameNo++;let o=0;for(let f=0;f<this._clippingContextListForMask.getSize();f++){const h=this._clippingContextListForMask.at(f);this.calcClippedDrawTotalBounds(l,h),h._isUsing&&o++}if(o>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._currentMaskRenderTexture=this.getMaskRenderTexture().at(0),r.preDraw(),this.setupLayoutBounds(o),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture),this._clearedFrameBufferFlags.getSize()!=this._renderTextureCount&&(this._clearedFrameBufferFlags.clear(),this._clearedFrameBufferFlags=new ct(this._renderTextureCount));for(let f=0;f<this._clearedFrameBufferFlags.getSize();f++)this._clearedFrameBufferFlags.set(f,!1);for(let f=0;f<this._clippingContextListForMask.getSize();f++){const h=this._clippingContextListForMask.at(f),m=h._allClippedDrawRect,p=h._layoutBounds,g=.05;let y=0,S=0;const E=this.getMaskRenderTexture().at(h._bufferIndex);this._currentMaskRenderTexture!=E&&(this._currentMaskRenderTexture=E,r.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture)),this._tmpBoundsOnModel.setRect(m),this._tmpBoundsOnModel.expand(m.width*g,m.height*g),y=p.width/this._tmpBoundsOnModel.width,S=p.height/this._tmpBoundsOnModel.height,this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(p.x,p.y),this._tmpMatrix.scaleRelative(y,S),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(p.x,p.y),this._tmpMatrix.scaleRelative(y,S),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),h._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),h._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const b=h._clippingIdCount;for(let B=0;B<b;B++){const C=h._clippingIdList[B];l.getDrawableDynamicFlagVertexPositionsDidChange(C)&&(r.setIsCulling(l.getDrawableCulling(C)!=!1),this._clearedFrameBufferFlags.at(h._bufferIndex)||(this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this._clearedFrameBufferFlags.set(h._bufferIndex,!0)),r.setClippingContextBufferForMask(h),r.drawMeshWebGL(l,C))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,Su),r.setClippingContextBufferForMask(null),this.gl.viewport(li[0],li[1],li[2],li[3])}}getColorBuffer(){return this._maskColorBuffers}getClippingMaskCount(){return this._clippingContextListForMask.getSize()}}class zy{constructor(i,l){_(this,"frameNo");_(this,"textures");this.frameNo=i,this.textures=l}}class Ly extends Hb{constructor(l,r,o){super(r,o);_(this,"_owner");this._owner=l}getClippingManager(){return this._owner}setGl(l){this._owner.setGL(l)}}class h1{constructor(){_(this,"_lastArrayBufferBinding");_(this,"_lastElementArrayBufferBinding");_(this,"_lastProgram");_(this,"_lastActiveTexture");_(this,"_lastTexture0Binding2D");_(this,"_lastTexture1Binding2D");_(this,"_lastVertexAttribArrayEnabled");_(this,"_lastScissorTest");_(this,"_lastBlend");_(this,"_lastStencilTest");_(this,"_lastDepthTest");_(this,"_lastCullFace");_(this,"_lastFrontFace");_(this,"_lastColorMask");_(this,"_lastBlending");_(this,"_lastFBO");_(this,"_lastViewport");_(this,"gl");this._lastVertexAttribArrayEnabled=new Array(4),this._lastColorMask=new Array(4),this._lastBlending=new Array(4),this._lastViewport=new Array(4)}setGlEnable(i,l){l?this.gl.enable(i):this.gl.disable(i)}setGlEnableVertexAttribArray(i,l){l?this.gl.enableVertexAttribArray(i):this.gl.disableVertexAttribArray(i)}save(){if(this.gl==null){ie(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._lastArrayBufferBinding=this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING),this._lastElementArrayBufferBinding=this.gl.getParameter(this.gl.ELEMENT_ARRAY_BUFFER_BINDING),this._lastProgram=this.gl.getParameter(this.gl.CURRENT_PROGRAM),this._lastActiveTexture=this.gl.getParameter(this.gl.ACTIVE_TEXTURE),this.gl.activeTexture(this.gl.TEXTURE1),this._lastTexture1Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this.gl.activeTexture(this.gl.TEXTURE0),this._lastTexture0Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._lastVertexAttribArrayEnabled[0]=this.gl.getVertexAttrib(0,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[1]=this.gl.getVertexAttrib(1,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[2]=this.gl.getVertexAttrib(2,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[3]=this.gl.getVertexAttrib(3,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastScissorTest=this.gl.isEnabled(this.gl.SCISSOR_TEST),this._lastStencilTest=this.gl.isEnabled(this.gl.STENCIL_TEST),this._lastDepthTest=this.gl.isEnabled(this.gl.DEPTH_TEST),this._lastCullFace=this.gl.isEnabled(this.gl.CULL_FACE),this._lastBlend=this.gl.isEnabled(this.gl.BLEND),this._lastFrontFace=this.gl.getParameter(this.gl.FRONT_FACE),this._lastColorMask=this.gl.getParameter(this.gl.COLOR_WRITEMASK),this._lastBlending[0]=this.gl.getParameter(this.gl.BLEND_SRC_RGB),this._lastBlending[1]=this.gl.getParameter(this.gl.BLEND_DST_RGB),this._lastBlending[2]=this.gl.getParameter(this.gl.BLEND_SRC_ALPHA),this._lastBlending[3]=this.gl.getParameter(this.gl.BLEND_DST_ALPHA),this._lastFBO=this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING),this._lastViewport=this.gl.getParameter(this.gl.VIEWPORT)}restore(){if(this.gl==null){ie(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this.gl.useProgram(this._lastProgram),this.setGlEnableVertexAttribArray(0,this._lastVertexAttribArrayEnabled[0]),this.setGlEnableVertexAttribArray(1,this._lastVertexAttribArrayEnabled[1]),this.setGlEnableVertexAttribArray(2,this._lastVertexAttribArrayEnabled[2]),this.setGlEnableVertexAttribArray(3,this._lastVertexAttribArrayEnabled[3]),this.setGlEnable(this.gl.SCISSOR_TEST,this._lastScissorTest),this.setGlEnable(this.gl.STENCIL_TEST,this._lastStencilTest),this.setGlEnable(this.gl.DEPTH_TEST,this._lastDepthTest),this.setGlEnable(this.gl.CULL_FACE,this._lastCullFace),this.setGlEnable(this.gl.BLEND,this._lastBlend),this.gl.frontFace(this._lastFrontFace),this.gl.colorMask(this._lastColorMask[0],this._lastColorMask[1],this._lastColorMask[2],this._lastColorMask[3]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this._lastArrayBufferBinding),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this._lastElementArrayBufferBinding),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture1Binding2D),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture0Binding2D),this.gl.activeTexture(this._lastActiveTexture),this.gl.blendFuncSeparate(this._lastBlending[0],this._lastBlending[1],this._lastBlending[2],this._lastBlending[3])}setGl(i){this.gl=i}}class jf extends Tu{constructor(){super();_(this,"_textures");_(this,"_sortedDrawableIndexList");_(this,"_clippingManager");_(this,"_clippingContextBufferForMask");_(this,"_clippingContextBufferForDraw");_(this,"_rendererProfile");_(this,"firstDraw");_(this,"_bufferData");_(this,"_extension");_(this,"gl");this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._rendererProfile=new h1,this.firstDraw=!0,this._textures=new Ma,this._sortedDrawableIndexList=new ct,this._bufferData={vertex:WebGLBuffer=null,uv:WebGLBuffer=null,index:WebGLBuffer=null},this._textures.prepareCapacity(32,!0)}initialize(l,r=1){l.isUsingMasking()&&(this._clippingManager=new xf,this._clippingManager.initialize(l,r)),this._sortedDrawableIndexList.resize(l.getDrawableCount(),0),super.initialize(l)}bindTexture(l,r){this._textures.setValue(l,r)}getBindedTextures(){return this._textures}setClippingMaskBufferSize(l){if(!this._model.isUsingMasking())return;const r=this._clippingManager.getRenderTextureCount();this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this._clippingManager=new xf,this._clippingManager.setClippingMaskBufferSize(l),this._clippingManager.initialize(this.getModel(),r)}getClippingMaskBufferSize(){return this._model.isUsingMasking()?this._clippingManager.getClippingMaskBufferSize():-1}getRenderTextureCount(){return this._model.isUsingMasking()?this._clippingManager.getRenderTextureCount():-1}release(){this._clippingManager&&(this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null),this.gl!=null&&(this.gl.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,this.gl.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,this.gl.deleteBuffer(this._bufferData.index),this._bufferData.index=null,this._bufferData=null,this._textures=null)}doDrawModel(){if(this.gl==null){ie(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._clippingManager!=null&&(this.preDraw(),this.isUsingHighPrecisionMask()?this._clippingManager.setupMatrixForHighPrecision(this.getModel(),!1):this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();const l=this.getModel().getDrawableCount(),r=this.getModel().getDrawableRenderOrders();for(let o=0;o<l;++o){const f=r[o];this._sortedDrawableIndexList.set(f,o)}for(let o=0;o<l;++o){const f=this._sortedDrawableIndexList.at(o);if(!this.getModel().getDrawableDynamicFlagIsVisible(f))continue;const h=this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw().at(f):null;if(h!=null&&this.isUsingHighPrecisionMask()){h._isUsing&&(this.gl.viewport(0,0,this._clippingManager.getClippingMaskBufferSize(),this._clippingManager.getClippingMaskBufferSize()),this.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,h.getClippingManager().getMaskRenderTexture().at(h._bufferIndex)),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT));{const m=h._clippingIdCount;for(let p=0;p<m;p++){const g=h._clippingIdList[p];this._model.getDrawableDynamicFlagVertexPositionsDidChange(g)&&(this.setIsCulling(this._model.getDrawableCulling(g)!=!1),this.setClippingContextBufferForMask(h),this.drawMeshWebGL(this._model,g))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,Su),this.setClippingContextBufferForMask(null),this.gl.viewport(li[0],li[1],li[2],li[3]),this.preDraw()}this.setClippingContextBufferForDraw(h),this.setIsCulling(this.getModel().getDrawableCulling(f)),this.drawMeshWebGL(this._model,f)}}drawMeshWebGL(l,r){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW),this.isGeneratingMask()?rl.getInstance().getShader(this.gl).setupShaderProgramForMask(this,l,r):rl.getInstance().getShader(this.gl).setupShaderProgramForDraw(this,l,r);{const o=l.getDrawableVertexIndexCount(r);this.gl.drawElements(this.gl.TRIANGLES,o,this.gl.UNSIGNED_SHORT,0)}this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}saveProfile(){this._rendererProfile.save()}restoreProfile(){this._rendererProfile.restore()}static doStaticRelease(){rl.deleteInstance()}setRenderState(l,r){Su=l,li=r}preDraw(){if(this.firstDraw&&(this.firstDraw=!1),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.getAnisotropy()>0&&this._extension)for(let l=0;l<this._textures.getSize();++l)this.gl.bindTexture(this.gl.TEXTURE_2D,this._textures.getValue(l)),this.gl.texParameterf(this.gl.TEXTURE_2D,this._extension.TEXTURE_MAX_ANISOTROPY_EXT,this.getAnisotropy())}setClippingContextBufferForMask(l){this._clippingContextBufferForMask=l}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(l){this._clippingContextBufferForDraw=l}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}isGeneratingMask(){return this.getClippingContextBufferForMask()!=null}startUp(l){this.gl=l,this._clippingManager&&this._clippingManager.setGL(l),rl.getInstance().setGlContext(l),this._rendererProfile.setGl(l),this._extension=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")}}Tu.staticRelease=()=>{jf.doStaticRelease()};var g_;(s=>{s.CubismClippingContext=Ly,s.CubismClippingManager_WebGL=xf,s.CubismRenderTextureResource=zy,s.CubismRenderer_WebGL=jf})(g_||(g_={}));class d1{constructor(i=!1,l=!1){_(this,"isOverridden");_(this,"isParameterRepeated");this.isOverridden=i,this.isParameterRepeated=l}}class m_{constructor(i=!1,l=new He){_(this,"isOverridden");_(this,"color");this.isOverridden=i,this.color=l}get isOverwritten(){return this.isOverridden}}class p_{constructor(i=!1,l=new He){_(this,"isOverridden");_(this,"color");this.isOverridden=i,this.color=l}get isOverwritten(){return this.isOverridden}}class g1{constructor(i=!1,l=!1){_(this,"isOverridden");_(this,"isCulling");this.isOverridden=i,this.isCulling=l}get isOverwritten(){return this.isOverridden}}class Ny{constructor(i){_(this,"_notExistPartOpacities");_(this,"_notExistPartId");_(this,"_notExistParameterValues");_(this,"_notExistParameterId");_(this,"_savedParameters");_(this,"_isOverriddenParameterRepeat");_(this,"_isOverriddenModelMultiplyColors");_(this,"_isOverriddenModelScreenColors");_(this,"_userParameterRepeatDataList");_(this,"_userMultiplyColors");_(this,"_userScreenColors");_(this,"_userPartScreenColors");_(this,"_userPartMultiplyColors");_(this,"_partChildDrawables");_(this,"_model");_(this,"_parameterValues");_(this,"_parameterMaximumValues");_(this,"_parameterMinimumValues");_(this,"_partOpacities");_(this,"_modelOpacity");_(this,"_parameterIds");_(this,"_partIds");_(this,"_drawableIds");_(this,"_isOverriddenCullings");_(this,"_userCullings");this._model=i,this._parameterValues=null,this._parameterMaximumValues=null,this._parameterMinimumValues=null,this._partOpacities=null,this._savedParameters=new ct,this._parameterIds=new ct,this._drawableIds=new ct,this._partIds=new ct,this._isOverriddenParameterRepeat=!0,this._isOverriddenModelMultiplyColors=!1,this._isOverriddenModelScreenColors=!1,this._isOverriddenCullings=!1,this._modelOpacity=1,this._userParameterRepeatDataList=new ct,this._userMultiplyColors=new ct,this._userScreenColors=new ct,this._userCullings=new ct,this._userPartMultiplyColors=new ct,this._userPartScreenColors=new ct,this._partChildDrawables=new ct,this._notExistPartId=new Ma,this._notExistParameterId=new Ma,this._notExistParameterValues=new Ma,this._notExistPartOpacities=new Ma}update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getPixelsPerUnit(){return this._model==null?0:this._model.canvasinfo.PixelsPerUnit}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const i=this._model.parameters.count,l=this._savedParameters.getSize();for(let r=0;r<i;++r)r<l?this._savedParameters.set(r,this._parameterValues[r]):this._savedParameters.pushBack(this._parameterValues[r])}getMultiplyColor(i){return this.getOverrideFlagForModelMultiplyColors()||this.getOverrideFlagForDrawableMultiplyColors(i)?this._userMultiplyColors.at(i).color:this.getDrawableMultiplyColor(i)}getScreenColor(i){return this.getOverrideFlagForModelScreenColors()||this.getOverrideFlagForDrawableScreenColors(i)?this._userScreenColors.at(i).color:this.getDrawableScreenColor(i)}setMultiplyColorByTextureColor(i,l){this.setMultiplyColorByRGBA(i,l.r,l.g,l.b,l.a)}setMultiplyColorByRGBA(i,l,r,o,f=1){this._userMultiplyColors.at(i).color.r=l,this._userMultiplyColors.at(i).color.g=r,this._userMultiplyColors.at(i).color.b=o,this._userMultiplyColors.at(i).color.a=f}setScreenColorByTextureColor(i,l){this.setScreenColorByRGBA(i,l.r,l.g,l.b,l.a)}setScreenColorByRGBA(i,l,r,o,f=1){this._userScreenColors.at(i).color.r=l,this._userScreenColors.at(i).color.g=r,this._userScreenColors.at(i).color.b=o,this._userScreenColors.at(i).color.a=f}getPartMultiplyColor(i){return this._userPartMultiplyColors.at(i).color}getPartScreenColor(i){return this._userPartScreenColors.at(i).color}setPartColor(i,l,r,o,f,h,m){if(h.at(i).color.r=l,h.at(i).color.g=r,h.at(i).color.b=o,h.at(i).color.a=f,h.at(i).isOverridden)for(let p=0;p<this._partChildDrawables.at(i).getSize();++p){const g=this._partChildDrawables.at(i).at(p);m.at(g).color.r=l,m.at(g).color.g=r,m.at(g).color.b=o,m.at(g).color.a=f}}setPartMultiplyColorByTextureColor(i,l){this.setPartMultiplyColorByRGBA(i,l.r,l.g,l.b,l.a)}setPartMultiplyColorByRGBA(i,l,r,o,f){this.setPartColor(i,l,r,o,f,this._userPartMultiplyColors,this._userMultiplyColors)}setPartScreenColorByTextureColor(i,l){this.setPartScreenColorByRGBA(i,l.r,l.g,l.b,l.a)}setPartScreenColorByRGBA(i,l,r,o,f){this.setPartColor(i,l,r,o,f,this._userPartScreenColors,this._userScreenColors)}getOverrideFlagForModelParameterRepeat(){return this._isOverriddenParameterRepeat}setOverrideFlagForModelParameterRepeat(i){this._isOverriddenParameterRepeat=i}getOverrideFlagForParameterRepeat(i){return this._userParameterRepeatDataList.at(i).isOverridden}setOverrideFlagForParameterRepeat(i,l){this._userParameterRepeatDataList.at(i).isOverridden=l}getRepeatFlagForParameterRepeat(i){return this._userParameterRepeatDataList.at(i).isParameterRepeated}setRepeatFlagForParameterRepeat(i,l){this._userParameterRepeatDataList.at(i).isParameterRepeated=l}getOverwriteFlagForModelMultiplyColors(){return wt("getOverwriteFlagForModelMultiplyColors() is a deprecated function. Please use getOverrideFlagForModelMultiplyColors()."),this.getOverrideFlagForModelMultiplyColors()}getOverrideFlagForModelMultiplyColors(){return this._isOverriddenModelMultiplyColors}getOverwriteFlagForModelScreenColors(){return wt("getOverwriteFlagForModelScreenColors() is a deprecated function. Please use getOverrideFlagForModelScreenColors()."),this.getOverrideFlagForModelScreenColors()}getOverrideFlagForModelScreenColors(){return this._isOverriddenModelScreenColors}setOverwriteFlagForModelMultiplyColors(i){wt("setOverwriteFlagForModelMultiplyColors(value: boolean) is a deprecated function. Please use setOverrideFlagForModelMultiplyColors(value: boolean)."),this.setOverrideFlagForModelMultiplyColors(i)}setOverrideFlagForModelMultiplyColors(i){this._isOverriddenModelMultiplyColors=i}setOverwriteFlagForModelScreenColors(i){wt("setOverwriteFlagForModelScreenColors(value: boolean) is a deprecated function. Please use setOverrideFlagForModelScreenColors(value: boolean)."),this.setOverrideFlagForModelScreenColors(i)}setOverrideFlagForModelScreenColors(i){this._isOverriddenModelScreenColors=i}getOverwriteFlagForDrawableMultiplyColors(i){return wt("getOverwriteFlagForDrawableMultiplyColors(drawableindex: number) is a deprecated function. Please use getOverrideFlagForDrawableMultiplyColors(drawableindex: number)."),this.getOverrideFlagForDrawableMultiplyColors(i)}getOverrideFlagForDrawableMultiplyColors(i){return this._userMultiplyColors.at(i).isOverridden}getOverwriteFlagForDrawableScreenColors(i){return wt("getOverwriteFlagForDrawableScreenColors(drawableindex: number) is a deprecated function. Please use getOverrideFlagForDrawableScreenColors(drawableindex: number)."),this.getOverrideFlagForDrawableScreenColors(i)}getOverrideFlagForDrawableScreenColors(i){return this._userScreenColors.at(i).isOverridden}setOverwriteFlagForDrawableMultiplyColors(i,l){wt("setOverwriteFlagForDrawableMultiplyColors(drawableindex: number, value: boolean) is a deprecated function. Please use setOverrideFlagForDrawableMultiplyColors(drawableindex: number, value: boolean)."),this.setOverrideFlagForDrawableMultiplyColors(i,l)}setOverrideFlagForDrawableMultiplyColors(i,l){this._userMultiplyColors.at(i).isOverridden=l}setOverwriteFlagForDrawableScreenColors(i,l){wt("setOverwriteFlagForDrawableScreenColors(drawableindex: number, value: boolean) is a deprecated function. Please use setOverrideFlagForDrawableScreenColors(drawableindex: number, value: boolean)."),this.setOverrideFlagForDrawableScreenColors(i,l)}setOverrideFlagForDrawableScreenColors(i,l){this._userScreenColors.at(i).isOverridden=l}getOverwriteColorForPartMultiplyColors(i){return wt("getOverwriteColorForPartMultiplyColors(partIndex: number) is a deprecated function. Please use getOverrideColorForPartMultiplyColors(partIndex: number)."),this.getOverrideColorForPartMultiplyColors(i)}getOverrideColorForPartMultiplyColors(i){return this._userPartMultiplyColors.at(i).isOverridden}getOverwriteColorForPartScreenColors(i){return wt("getOverwriteColorForPartScreenColors(partIndex: number) is a deprecated function. Please use getOverrideColorForPartScreenColors(partIndex: number)."),this.getOverrideColorForPartScreenColors(i)}getOverrideColorForPartScreenColors(i){return this._userPartScreenColors.at(i).isOverridden}setOverwriteColorForPartColors(i,l,r,o){wt("setOverwriteColorForPartColors(partIndex: number, value: boolean, partColors: csmVector<PartColorData>, drawableColors: csmVector<DrawableColorData>) is a deprecated function. Please use setOverrideColorForPartColors(partIndex: number, value: boolean, partColors: csmVector<PartColorData>, drawableColors: csmVector<DrawableColorData>)."),this.setOverrideColorForPartColors(i,l,r,o)}setOverrideColorForPartColors(i,l,r,o){r.at(i).isOverridden=l;for(let f=0;f<this._partChildDrawables.at(i).getSize();++f){const h=this._partChildDrawables.at(i).at(f);o.at(h).isOverridden=l,l&&(o.at(h).color.r=r.at(i).color.r,o.at(h).color.g=r.at(i).color.g,o.at(h).color.b=r.at(i).color.b,o.at(h).color.a=r.at(i).color.a)}}setOverwriteColorForPartMultiplyColors(i,l){wt("setOverwriteColorForPartMultiplyColors(partIndex: number, value: boolean) is a deprecated function. Please use setOverrideColorForPartMultiplyColors(partIndex: number, value: boolean)."),this.setOverrideColorForPartMultiplyColors(i,l)}setOverrideColorForPartMultiplyColors(i,l){this._userPartMultiplyColors.at(i).isOverridden=l,this.setOverrideColorForPartColors(i,l,this._userPartMultiplyColors,this._userMultiplyColors)}setOverwriteColorForPartScreenColors(i,l){wt("setOverwriteColorForPartScreenColors(partIndex: number, value: boolean) is a deprecated function. Please use setOverrideColorForPartScreenColors(partIndex: number, value: boolean)."),this.setOverrideColorForPartScreenColors(i,l)}setOverrideColorForPartScreenColors(i,l){this._userPartScreenColors.at(i).isOverridden=l,this.setOverrideColorForPartColors(i,l,this._userPartScreenColors,this._userScreenColors)}getDrawableCulling(i){if(this.getOverrideFlagForModelCullings()||this.getOverrideFlagForDrawableCullings(i))return this._userCullings.at(i).isCulling;const l=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(l[i])}setDrawableCulling(i,l){this._userCullings.at(i).isCulling=l}getOverwriteFlagForModelCullings(){return wt("getOverwriteFlagForModelCullings() is a deprecated function. Please use getOverrideFlagForModelCullings()."),this.getOverrideFlagForModelCullings()}getOverrideFlagForModelCullings(){return this._isOverriddenCullings}setOverwriteFlagForModelCullings(i){wt("setOverwriteFlagForModelCullings(isOverriddenCullings: boolean) is a deprecated function. Please use setOverrideFlagForModelCullings(isOverriddenCullings: boolean)."),this.setOverrideFlagForModelCullings(i)}setOverrideFlagForModelCullings(i){this._isOverriddenCullings=i}getOverwriteFlagForDrawableCullings(i){return wt("getOverwriteFlagForDrawableCullings(drawableIndex: number) is a deprecated function. Please use getOverrideFlagForDrawableCullings(drawableIndex: number)."),this.getOverrideFlagForDrawableCullings(i)}getOverrideFlagForDrawableCullings(i){return this._userCullings.at(i).isOverridden}setOverwriteFlagForDrawableCullings(i,l){wt("setOverwriteFlagForDrawableCullings(drawableIndex: number, isOverriddenCullings: boolean) is a deprecated function. Please use setOverrideFlagForDrawableCullings(drawableIndex: number, isOverriddenCullings: boolean)."),this.setOverrideFlagForDrawableCullings(i,l)}setOverrideFlagForDrawableCullings(i,l){this._userCullings.at(i).isOverridden=l}getModelOapcity(){return this._modelOpacity}setModelOapcity(i){this._modelOpacity=i}getModel(){return this._model}getPartIndex(i){let l;const r=this._model.parts.count;for(l=0;l<r;++l)if(i==this._partIds.at(l))return l;return this._notExistPartId.isExist(i)?this._notExistPartId.getValue(i):(l=r+this._notExistPartId.getSize(),this._notExistPartId.setValue(i,l),this._notExistPartOpacities.appendKey(l),l)}getPartId(i){const l=this._model.parts.ids[i];return kt.getIdManager().getId(l)}getPartCount(){return this._model.parts.count}getPartParentPartIndices(){return this._model.parts.parentIndices}setPartOpacityByIndex(i,l){if(this._notExistPartOpacities.isExist(i)){this._notExistPartOpacities.setValue(i,l);return}Ie(0<=i&&i<this.getPartCount()),this._partOpacities[i]=l}setPartOpacityById(i,l){const r=this.getPartIndex(i);r<0||this.setPartOpacityByIndex(r,l)}getPartOpacityByIndex(i){return this._notExistPartOpacities.isExist(i)?this._notExistPartOpacities.getValue(i):(Ie(0<=i&&i<this.getPartCount()),this._partOpacities[i])}getPartOpacityById(i){const l=this.getPartIndex(i);return l<0?0:this.getPartOpacityByIndex(l)}getParameterIndex(i){let l;const r=this._model.parameters.count;for(l=0;l<r;++l)if(i==this._parameterIds.at(l))return l;return this._notExistParameterId.isExist(i)?this._notExistParameterId.getValue(i):(l=this._model.parameters.count+this._notExistParameterId.getSize(),this._notExistParameterId.setValue(i,l),this._notExistParameterValues.appendKey(l),l)}getParameterCount(){return this._model.parameters.count}getParameterType(i){return this._model.parameters.types[i]}getParameterMaximumValue(i){return this._model.parameters.maximumValues[i]}getParameterMinimumValue(i){return this._model.parameters.minimumValues[i]}getParameterDefaultValue(i){return this._model.parameters.defaultValues[i]}getParameterId(i){return kt.getIdManager().getId(this._model.parameters.ids[i])}getParameterValueByIndex(i){return this._notExistParameterValues.isExist(i)?this._notExistParameterValues.getValue(i):(Ie(0<=i&&i<this.getParameterCount()),this._parameterValues[i])}getParameterValueById(i){const l=this.getParameterIndex(i);return this.getParameterValueByIndex(l)}setParameterValueByIndex(i,l,r=1){if(this._notExistParameterValues.isExist(i)){this._notExistParameterValues.setValue(i,r==1?l:this._notExistParameterValues.getValue(i)*(1-r)+l*r);return}Ie(0<=i&&i<this.getParameterCount()),this.isRepeat(i)?l=this.getParameterRepeatValue(i,l):l=this.getParameterClampValue(i,l),this._parameterValues[i]=r==1?l:this._parameterValues[i]=this._parameterValues[i]*(1-r)+l*r}setParameterValueById(i,l,r=1){const o=this.getParameterIndex(i);this.setParameterValueByIndex(o,l,r)}addParameterValueByIndex(i,l,r=1){this.setParameterValueByIndex(i,this.getParameterValueByIndex(i)+l*r)}addParameterValueById(i,l,r=1){const o=this.getParameterIndex(i);this.addParameterValueByIndex(o,l,r)}isRepeat(i){if(this._notExistParameterValues.isExist(i))return!1;Ie(0<=i&&i<this.getParameterCount());let l;return this._isOverriddenParameterRepeat||this._userParameterRepeatDataList.at(i).isOverridden?l=this._userParameterRepeatDataList.at(i).isParameterRepeated:l=this._model.parameters.repeats[i]!=0,l}getParameterRepeatValue(i,l){if(this._notExistParameterValues.isExist(i))return l;Ie(0<=i&&i<this.getParameterCount());const r=this._model.parameters.maximumValues[i],o=this._model.parameters.minimumValues[i],f=r-o;if(r<l){const h=gt.mod(l-r,f);Number.isNaN(h)?l=r:l=o+h}if(l<o){const h=gt.mod(o-l,f);Number.isNaN(h)?l=o:l=r-h}return l}getParameterClampValue(i,l){if(this._notExistParameterValues.isExist(i))return l;Ie(0<=i&&i<this.getParameterCount());const r=this._model.parameters.maximumValues[i],o=this._model.parameters.minimumValues[i];return gt.clamp(l,o,r)}getParameterRepeats(i){return this._model.parameters.repeats[i]!=0}multiplyParameterValueById(i,l,r=1){const o=this.getParameterIndex(i);this.multiplyParameterValueByIndex(o,l,r)}multiplyParameterValueByIndex(i,l,r=1){this.setParameterValueByIndex(i,this.getParameterValueByIndex(i)*(1+(l-1)*r))}getDrawableIndex(i){const l=this._model.drawables.count;for(let r=0;r<l;++r)if(this._drawableIds.at(r)==i)return r;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(i){const l=this._model.drawables.ids;return kt.getIdManager().getId(l[i])}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(i){return this.getDrawableTextureIndex(i)}getDrawableTextureIndex(i){return this._model.drawables.textureIndices[i]}getDrawableDynamicFlagVertexPositionsDidChange(i){const l=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(l[i])}getDrawableVertexIndexCount(i){return this._model.drawables.indexCounts[i]}getDrawableVertexCount(i){return this._model.drawables.vertexCounts[i]}getDrawableVertices(i){return this.getDrawableVertexPositions(i)}getDrawableVertexIndices(i){return this._model.drawables.indices[i]}getDrawableVertexPositions(i){return this._model.drawables.vertexPositions[i]}getDrawableVertexUvs(i){return this._model.drawables.vertexUvs[i]}getDrawableOpacity(i){return this._model.drawables.opacities[i]}getDrawableMultiplyColor(i){const l=this._model.drawables.multiplyColors,r=i*4,o=new He;return o.r=l[r],o.g=l[r+1],o.b=l[r+2],o.a=l[r+3],o}getDrawableScreenColor(i){const l=this._model.drawables.screenColors,r=i*4,o=new He;return o.r=l[r],o.g=l[r+1],o.b=l[r+2],o.a=l[r+3],o}getDrawableParentPartIndex(i){return this._model.drawables.parentPartIndices[i]}getDrawableBlendMode(i){const l=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(l[i])?Fi.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(l[i])?Fi.CubismBlendMode_Multiplicative:Fi.CubismBlendMode_Normal}getDrawableInvertedMaskBit(i){const l=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(l[i])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let i=0;i<this._model.drawables.count;++i)if(!(this._model.drawables.maskCounts[i]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(i){const l=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(l[i])}getDrawableDynamicFlagVisibilityDidChange(i){const l=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(l[i])}getDrawableDynamicFlagOpacityDidChange(i){const l=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(l[i])}getDrawableDynamicFlagRenderOrderDidChange(i){const l=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(l[i])}getDrawableDynamicFlagBlendColorDidChange(i){const l=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasBlendColorDidChangeBit(l[i])}loadParameters(){let i=this._model.parameters.count;const l=this._savedParameters.getSize();i>l&&(i=l);for(let r=0;r<i;++r)this._parameterValues[r]=this._savedParameters.at(r)}initialize(){Ie(this._model),this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const l=this._model.parameters.ids,r=this._model.parameters.count;this._parameterIds.prepareCapacity(r),this._userParameterRepeatDataList.prepareCapacity(r);for(let o=0;o<r;++o)this._parameterIds.pushBack(kt.getIdManager().getId(l[o])),this._userParameterRepeatDataList.pushBack(new d1(!1,!1))}const i=this._model.parts.count;{const l=this._model.parts.ids;this._partIds.prepareCapacity(i);for(let r=0;r<i;++r)this._partIds.pushBack(kt.getIdManager().getId(l[r]));this._userPartMultiplyColors.prepareCapacity(i),this._userPartScreenColors.prepareCapacity(i),this._partChildDrawables.prepareCapacity(i)}{const l=this._model.drawables.ids,r=this._model.drawables.count;this._userMultiplyColors.prepareCapacity(r),this._userScreenColors.prepareCapacity(r),this._userCullings.prepareCapacity(r);const o=new g1(!1,!1);for(let f=0;f<i;++f){const h=new He(1,1,1,1),m=new He(0,0,0,1),p=new p_(!1,h),g=new p_(!1,m);this._userPartMultiplyColors.pushBack(p),this._userPartScreenColors.pushBack(g),this._partChildDrawables.pushBack(new ct),this._partChildDrawables.at(f).prepareCapacity(r)}for(let f=0;f<r;++f){const h=new He(1,1,1,1),m=new He(0,0,0,1),p=new m_(!1,h),g=new m_(!1,m);this._drawableIds.pushBack(kt.getIdManager().getId(l[f])),this._userMultiplyColors.pushBack(p),this._userScreenColors.pushBack(g),this._userCullings.pushBack(o);const y=this.getDrawableParentPartIndex(f);y>=0&&this._partChildDrawables.at(y).pushBack(f)}}}release(){this._model.release(),this._model=null}}var __;(s=>{s.CubismModel=Ny})(__||(__={}));class Ru{constructor(i){_(this,"_moc");_(this,"_modelCount");_(this,"_mocVersion");this._moc=i,this._modelCount=0,this._mocVersion=0}static create(i,l){let r=null;if(l&&!this.hasMocConsistency(i))return ie("Inconsistent MOC3."),r;const o=Live2DCubismCore.Moc.fromArrayBuffer(i);return o&&(r=new Ru(o),r._mocVersion=Live2DCubismCore.Version.csmGetMocVersion(o,i)),r}static delete(i){i._moc._release(),i._moc=null,i=null}createModel(){let i=null;const l=Live2DCubismCore.Model.fromMoc(this._moc);return l&&(i=new Ny(l),i.initialize(),++this._modelCount),i}deleteModel(i){i!=null&&(i.release(),i=null,--this._modelCount)}release(){Ie(this._modelCount==0),this._moc._release(),this._moc=null}getLatestMocVersion(){return Live2DCubismCore.Version.csmGetLatestMocVersion()}getMocVersion(){return this._mocVersion}static hasMocConsistency(i){return Live2DCubismCore.Moc.prototype.hasMocConsistency(i)===1}}var y_;(s=>{s.CubismMoc=Ru})(y_||(y_={}));const v_="Meta",m1="UserDataCount",p1="TotalUserDataSize",hf="UserData",_1="Target",y1="Id",v1="Value";class Fy{constructor(i,l){_(this,"_json");this._json=Be.create(i,l)}release(){Be.delete(this._json)}getUserDataCount(){return this._json.getRoot().getValueByString(v_).getValueByString(m1).toInt()}getTotalUserDataSize(){return this._json.getRoot().getValueByString(v_).getValueByString(p1).toInt()}getUserDataTargetType(i){return this._json.getRoot().getValueByString(hf).getValueByIndex(i).getValueByString(_1).getRawString()}getUserDataId(i){return kt.getIdManager().getId(this._json.getRoot().getValueByString(hf).getValueByIndex(i).getValueByString(y1).getRawString())}getUserDataValue(i){return this._json.getRoot().getValueByString(hf).getValueByIndex(i).getValueByString(v1).getRawString()}}var S_;(s=>{s.CubismModelUserDataJson=Fy})(S_||(S_={}));const S1="ArtMesh";class Uy{constructor(){_(this,"targetType");_(this,"targetId");_(this,"value")}}class Rs{constructor(){_(this,"_userDataNodes");_(this,"_artMeshUserDataNode");this._userDataNodes=new ct,this._artMeshUserDataNode=new ct}static create(i,l){const r=new Rs;return r.parseUserData(i,l),r}static delete(i){i!=null&&(i.release(),i=null)}getArtMeshUserDatas(){return this._artMeshUserDataNode}parseUserData(i,l){let r=new Fy(i,l);if(!r){r.release(),r=void 0;return}const o=kt.getIdManager().getId(S1),f=r.getUserDataCount();for(let h=0;h<f;h++){const m=new Uy;m.targetId=r.getUserDataId(h),m.targetType=kt.getIdManager().getId(r.getUserDataTargetType(h)),m.value=new pa(r.getUserDataValue(h)),this._userDataNodes.pushBack(m),m.targetType==o&&this._artMeshUserDataNode.pushBack(m)}r.release(),r=void 0}release(){for(let i=0;i<this._userDataNodes.getSize();++i)this._userDataNodes.set(i,null);this._userDataNodes=null}}var x_;(s=>{s.CubismModelUserData=Rs,s.CubismModelUserDataNode=Uy})(x_||(x_={}));class Vu{constructor(){_(this,"_moc");_(this,"_model");_(this,"_motionManager");_(this,"_expressionManager");_(this,"_eyeBlink");_(this,"_breath");_(this,"_modelMatrix");_(this,"_pose");_(this,"_dragManager");_(this,"_physics");_(this,"_modelUserData");_(this,"_initialized");_(this,"_updating");_(this,"_opacity");_(this,"_lipsync");_(this,"_lastLipSyncValue");_(this,"_dragX");_(this,"_dragY");_(this,"_accelerationX");_(this,"_accelerationY");_(this,"_accelerationZ");_(this,"_mocConsistency");_(this,"_motionConsistency");_(this,"_debugMode");_(this,"_renderer");this._moc=null,this._model=null,this._motionManager=null,this._expressionManager=null,this._eyeBlink=null,this._breath=null,this._modelMatrix=null,this._pose=null,this._dragManager=null,this._physics=null,this._modelUserData=null,this._initialized=!1,this._updating=!1,this._opacity=1,this._lipsync=!0,this._lastLipSyncValue=0,this._dragX=0,this._dragY=0,this._accelerationX=0,this._accelerationY=0,this._accelerationZ=0,this._mocConsistency=!1,this._debugMode=!1,this._renderer=null,this._motionManager=new Cy,this._motionManager.setEventCallback(Vu.cubismDefaultMotionEventCallback,this),this._expressionManager=new dy,this._dragManager=new uy}isInitialized(){return this._initialized}setInitialized(i){this._initialized=i}isUpdating(){return this._updating}setUpdating(i){this._updating=i}setDragging(i,l){this._dragManager.set(i,l)}setAcceleration(i,l,r){this._accelerationX=i,this._accelerationY=l,this._accelerationZ=r}getModelMatrix(){return this._modelMatrix}setOpacity(i){this._opacity=i}getOpacity(){return this._opacity}loadModel(i,l=!1){if(this._moc=Ru.create(i,l),this._moc==null){ie("Failed to CubismMoc.create().");return}if(this._model=this._moc.createModel(),this._model==null){ie("Failed to CreateModel().");return}this._model.saveParameters(),this._modelMatrix=new ry(this._model.getCanvasWidth(),this._model.getCanvasHeight())}loadMotion(i,l,r,o,f,h,m,p,g=!1){if(i==null||l==0)return ie("Failed to loadMotion()."),null;const y=Bu.create(i,l,o,f,g);if(y==null)return ie("Failed to create motion from buffer in LoadMotion()"),null;if(h){const S=h.getMotionFadeInTimeValue(m,p);S>=0&&y.setFadeInTime(S);const E=h.getMotionFadeOutTimeValue(m,p);E>=0&&y.setFadeOutTime(E)}return y}loadExpression(i,l,r){return i==null||l==0?(ie("Failed to loadExpression()."),null):Li.create(i,l)}loadPose(i,l){if(i==null||l==0){ie("Failed to loadPose().");return}this._pose=Ms.create(i,l)}loadUserData(i,l){if(i==null||l==0){ie("Failed to loadUserData().");return}this._modelUserData=Rs.create(i,l)}loadPhysics(i,l){if(i==null||l==0){ie("Failed to loadPhysics().");return}this._physics=Bs.create(i,l)}isHit(i,l,r){const o=this._model.getDrawableIndex(i);if(o<0)return!1;const f=this._model.getDrawableVertexCount(o),h=this._model.getDrawableVertices(o);let m=h[0],p=h[0],g=h[1],y=h[1];for(let b=1;b<f;++b){const B=h[zi.vertexOffset+b*zi.vertexStep],C=h[zi.vertexOffset+b*zi.vertexStep+1];B<m&&(m=B),B>p&&(p=B),C<g&&(g=C),C>y&&(y=C)}const S=this._modelMatrix.invertTransformX(l),E=this._modelMatrix.invertTransformY(r);return m<=S&&S<=p&&g<=E&&E<=y}getModel(){return this._model}getRenderer(){return this._renderer}createRenderer(i=1){this._renderer&&this.deleteRenderer(),this._renderer=new jf,this._renderer.initialize(this._model,i)}deleteRenderer(){this._renderer!=null&&(this._renderer.release(),this._renderer=null)}motionEventFired(i){ma("{0}",i.s)}static cubismDefaultMotionEventCallback(i,l,r){const o=r;o!=null&&o.motionEventFired(l)}release(){this._motionManager!=null&&(this._motionManager.release(),this._motionManager=null),this._expressionManager!=null&&(this._expressionManager.release(),this._expressionManager=null),this._moc!=null&&(this._moc.deleteModel(this._model),this._moc.release(),this._moc=null),this._modelMatrix=null,Ms.delete(this._pose),Cs.delete(this._eyeBlink),Os.delete(this._breath),this._dragManager=null,Bs.delete(this._physics),Rs.delete(this._modelUserData),this.deleteRenderer()}}var b_;(s=>{s.CubismUserModel=Vu})(b_||(b_={}));class jy{}var C_;(s=>{s.ICubismModelSetting=jy})(C_||(C_={}));var Py=(s=>(s[s.FrequestNode_Groups=0]="FrequestNode_Groups",s[s.FrequestNode_Moc=1]="FrequestNode_Moc",s[s.FrequestNode_Motions=2]="FrequestNode_Motions",s[s.FrequestNode_Expressions=3]="FrequestNode_Expressions",s[s.FrequestNode_Textures=4]="FrequestNode_Textures",s[s.FrequestNode_Physics=5]="FrequestNode_Physics",s[s.FrequestNode_Pose=6]="FrequestNode_Pose",s[s.FrequestNode_HitAreas=7]="FrequestNode_HitAreas",s))(Py||{});class ky extends jy{constructor(l,r){super();_(this,"_json");_(this,"_jsonValue");_(this,"version","Version");_(this,"fileReferences","FileReferences");_(this,"groups","Groups");_(this,"layout","Layout");_(this,"hitAreas","HitAreas");_(this,"moc","Moc");_(this,"textures","Textures");_(this,"physics","Physics");_(this,"pose","Pose");_(this,"expressions","Expressions");_(this,"motions","Motions");_(this,"userData","UserData");_(this,"name","Name");_(this,"filePath","File");_(this,"id","Id");_(this,"ids","Ids");_(this,"target","Target");_(this,"idle","Idle");_(this,"tapBody","TapBody");_(this,"pinchIn","PinchIn");_(this,"pinchOut","PinchOut");_(this,"shake","Shake");_(this,"flickHead","FlickHead");_(this,"parameter","Parameter");_(this,"soundPath","Sound");_(this,"fadeInTime","FadeInTime");_(this,"fadeOutTime","FadeOutTime");_(this,"centerX","CenterX");_(this,"centerY","CenterY");_(this,"x","X");_(this,"y","Y");_(this,"width","Width");_(this,"height","Height");_(this,"lipSync","LipSync");_(this,"eyeBlink","EyeBlink");_(this,"initParameter","init_param");_(this,"initPartsVisible","init_parts_visible");_(this,"val","val");this._json=Be.create(l,r),this.getJson()&&(this._jsonValue=new ct,this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(this.groups)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(this.fileReferences).getValueByString(this.moc)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(this.fileReferences).getValueByString(this.motions)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(this.fileReferences).getValueByString(this.expressions)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(this.fileReferences).getValueByString(this.textures)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(this.fileReferences).getValueByString(this.physics)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(this.fileReferences).getValueByString(this.pose)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(this.hitAreas)))}release(){Be.delete(this._json),this._jsonValue=null}getJson(){return this._json}getModelFileName(){return this.isExistModelFile()?this._jsonValue.at(1).getRawString():""}getTextureCount(){return this.isExistTextureFiles()?this._jsonValue.at(4).getSize():0}getTextureDirectory(){const r=this._jsonValue.at(4).getValueByIndex(0).getRawString().split("/"),o=r.length-1;let f="";for(let h=0;h<o;h++)f+=r[h],h<o-1&&(f+="/");return f}getTextureFileName(l){return this._jsonValue.at(4).getValueByIndex(l).getRawString()}getHitAreasCount(){return this.isExistHitAreas()?this._jsonValue.at(7).getSize():0}getHitAreaId(l){return kt.getIdManager().getId(this._jsonValue.at(7).getValueByIndex(l).getValueByString(this.id).getRawString())}getHitAreaName(l){return this._jsonValue.at(7).getValueByIndex(l).getValueByString(this.name).getRawString()}getPhysicsFileName(){return this.isExistPhysicsFile()?this._jsonValue.at(5).getRawString():""}getPoseFileName(){return this.isExistPoseFile()?this._jsonValue.at(6).getRawString():""}getExpressionCount(){return this.isExistExpressionFile()?this._jsonValue.at(3).getSize():0}getExpressionName(l){return this._jsonValue.at(3).getValueByIndex(l).getValueByString(this.name).getRawString()}getExpressionFileName(l){return this._jsonValue.at(3).getValueByIndex(l).getValueByString(this.filePath).getRawString()}getMotionGroupCount(){return this.isExistMotionGroups()?this._jsonValue.at(2).getKeys().getSize():0}getMotionGroupName(l){return this.isExistMotionGroups()?this._jsonValue.at(2).getKeys().at(l):null}getMotionCount(l){return this.isExistMotionGroupName(l)?this._jsonValue.at(2).getValueByString(l).getSize():0}getMotionFileName(l,r){return this.isExistMotionGroupName(l)?this._jsonValue.at(2).getValueByString(l).getValueByIndex(r).getValueByString(this.filePath).getRawString():""}getMotionSoundFileName(l,r){return this.isExistMotionSoundFile(l,r)?this._jsonValue.at(2).getValueByString(l).getValueByIndex(r).getValueByString(this.soundPath).getRawString():""}getMotionFadeInTimeValue(l,r){return this.isExistMotionFadeIn(l,r)?this._jsonValue.at(2).getValueByString(l).getValueByIndex(r).getValueByString(this.fadeInTime).toFloat():-1}getMotionFadeOutTimeValue(l,r){return this.isExistMotionFadeOut(l,r)?this._jsonValue.at(2).getValueByString(l).getValueByIndex(r).getValueByString(this.fadeOutTime).toFloat():-1}getUserDataFile(){return this.isExistUserDataFile()?this.getJson().getRoot().getValueByString(this.fileReferences).getValueByString(this.userData).getRawString():""}getLayoutMap(l){const r=this.getJson().getRoot().getValueByString(this.layout).getMap();if(r==null)return!1;let o=!1;for(const f=r.begin();f.notEqual(r.end());f.preIncrement())l.setValue(f.ptr().first,f.ptr().second.toFloat()),o=!0;return o}getEyeBlinkParameterCount(){if(!this.isExistEyeBlinkParameters())return 0;let l=0;for(let r=0;r<this._jsonValue.at(0).getSize();r++){const o=this._jsonValue.at(0).getValueByIndex(r);if(!(o.isNull()||o.isError())&&o.getValueByString(this.name).getRawString()==this.eyeBlink){l=o.getValueByString(this.ids).getVector().getSize();break}}return l}getEyeBlinkParameterId(l){if(!this.isExistEyeBlinkParameters())return null;for(let r=0;r<this._jsonValue.at(0).getSize();r++){const o=this._jsonValue.at(0).getValueByIndex(r);if(!(o.isNull()||o.isError())&&o.getValueByString(this.name).getRawString()==this.eyeBlink)return kt.getIdManager().getId(o.getValueByString(this.ids).getValueByIndex(l).getRawString())}return null}getLipSyncParameterCount(){if(!this.isExistLipSyncParameters())return 0;let l=0;for(let r=0;r<this._jsonValue.at(0).getSize();r++){const o=this._jsonValue.at(0).getValueByIndex(r);if(!(o.isNull()||o.isError())&&o.getValueByString(this.name).getRawString()==this.lipSync){l=o.getValueByString(this.ids).getVector().getSize();break}}return l}getLipSyncParameterId(l){if(!this.isExistLipSyncParameters())return null;for(let r=0;r<this._jsonValue.at(0).getSize();r++){const o=this._jsonValue.at(0).getValueByIndex(r);if(!(o.isNull()||o.isError())&&o.getValueByString(this.name).getRawString()==this.lipSync)return kt.getIdManager().getId(o.getValueByString(this.ids).getValueByIndex(l).getRawString())}return null}isExistModelFile(){const l=this._jsonValue.at(1);return!l.isNull()&&!l.isError()}isExistTextureFiles(){const l=this._jsonValue.at(4);return!l.isNull()&&!l.isError()}isExistHitAreas(){const l=this._jsonValue.at(7);return!l.isNull()&&!l.isError()}isExistPhysicsFile(){const l=this._jsonValue.at(5);return!l.isNull()&&!l.isError()}isExistPoseFile(){const l=this._jsonValue.at(6);return!l.isNull()&&!l.isError()}isExistExpressionFile(){const l=this._jsonValue.at(3);return!l.isNull()&&!l.isError()}isExistMotionGroups(){const l=this._jsonValue.at(2);return!l.isNull()&&!l.isError()}isExistMotionGroupName(l){const r=this._jsonValue.at(2).getValueByString(l);return!r.isNull()&&!r.isError()}isExistMotionSoundFile(l,r){const o=this._jsonValue.at(2).getValueByString(l).getValueByIndex(r).getValueByString(this.soundPath);return!o.isNull()&&!o.isError()}isExistMotionFadeIn(l,r){const o=this._jsonValue.at(2).getValueByString(l).getValueByIndex(r).getValueByString(this.fadeInTime);return!o.isNull()&&!o.isError()}isExistMotionFadeOut(l,r){const o=this._jsonValue.at(2).getValueByString(l).getValueByIndex(r).getValueByString(this.fadeOutTime);return!o.isNull()&&!o.isError()}isExistUserDataFile(){const l=this.getJson().getRoot().getValueByString(this.fileReferences).getValueByString(this.userData);return!l.isNull()&&!l.isError()}isExistEyeBlinkParameters(){if(this._jsonValue.at(0).isNull()||this._jsonValue.at(0).isError())return!1;for(let l=0;l<this._jsonValue.at(0).getSize();++l)if(this._jsonValue.at(0).getValueByIndex(l).getValueByString(this.name).getRawString()==this.eyeBlink)return!0;return!1}isExistLipSyncParameters(){if(this._jsonValue.at(0).isNull()||this._jsonValue.at(0).isError())return!1;for(let l=0;l<this._jsonValue.at(0).getSize();++l)if(this._jsonValue.at(0).getValueByIndex(l).getValueByString(this.name).getRawString()==this.lipSync)return!0;return!1}}var M_;(s=>{s.CubismModelSettingJson=ky,s.FrequestNode=Py})(M_||(M_={}));const T_={Idle:1,Normal:2};let E_=!1;function x1(){E_||(kt.startUp({logFunction:console.log,loggingLevel:sl.LogLevel_Warning}),kt.initialize(),E_=!0)}class b1 extends Vu{constructor(){super(...arguments);_(this,"_setting",null);_(this,"_preloadedMotions",new Map);_(this,"_projMatrix",new Ye)}async initialize(l,r,o){const f=await ds(`${r}${o}`);this._setting=new ky(f,f.byteLength);const h=this._setting.getModelFileName(),m=await ds(`${r}${h}`);this.loadModel(m,!1),this.createRenderer();const p=this.getRenderer();p.startUp(l),p.setIsPremultipliedAlpha(!0);const g=this._setting.getTextureCount();for(let F=0;F<g;F++){const A=this._setting.getTextureFileName(F),J=await C1(l,`${r}${A}`);p.bindTexture(F,J)}const y=this._setting.getPhysicsFileName();if(y){const F=await ds(`${r}${y}`);this.loadPhysics(F,F.byteLength)}const S=this._setting.getPoseFileName();if(S){const F=await ds(`${r}${S}`);this.loadPose(F,F.byteLength)}const E=Os.create(),b=new ct,B=kt.getIdManager(),C=(F,A,J,Y,Z)=>{const Q=new ny;return Q.parameterId=B.getId(F),Q.offset=A,Q.peak=J,Q.cycle=Y,Q.weight=Z,Q};b.pushBack(C("ParamAngleX",0,15,6.5345,.5)),b.pushBack(C("ParamAngleY",0,8,3.5345,.5)),b.pushBack(C("ParamBodyAngleX",0,4,15.5345,.5)),b.pushBack(C("ParamBreath",0,.5,3.2345,1)),E.setParameters(b),this._breath=E,this._eyeBlink=Cs.create(this._setting);const D=this._setting.getMotionGroupCount(),j=new ct;for(let F=0;F<D;F++){const A=this._setting.getMotionGroupName(F),J=this._setting.getMotionCount(A);for(let Y=0;Y<J;Y++){const Z=this._setting.getMotionFileName(A,Y);if(!Z)continue;const Q=await ds(`${r}${Z}`),ht=this.loadMotion(Q,Q.byteLength,`${A}_${Y}`);ht.setEffectIds(j,j),this._preloadedMotions.set(`${A}_${Y}`,ht)}}this._startRandomMotion("idle",T_.Idle)}_startRandomMotion(l,r){if(!this._setting)return;const o=this._setting.getMotionCount(l);if(o===0)return;const f=Math.floor(Math.random()*o),h=`${l}_${f}`,m=this._preloadedMotions.get(h);m&&this._motionManager.startMotionPriority(m,!1,r)}playMotionGroup(l){this._startRandomMotion(l,T_.Normal)}setMouthOpen(l){const r=kt.getIdManager().getId("ParamMouthOpenY");this._model.setParameterValueById(r,l)}update(l){var o,f,h,m,p;this._dragManager.update(l);const r=this._model;r.loadParameters(),this._motionManager.isFinished()||this._motionManager.updateMotion(r,l),r.saveParameters(),(o=this._eyeBlink)==null||o.updateParameters(r,l),(f=this._expressionManager)==null||f.updateMotion(r,l),(h=this._physics)==null||h.evaluate(r,l),(m=this._breath)==null||m.updateParameters(r,l),(p=this._pose)==null||p.updateParameters(r,l),r.update()}draw(l,r){const o=this.getRenderer();this._projMatrix.loadIdentity();const{width:f,height:h}=r;this._model.getCanvasWidth()>1&&f<h?(this._modelMatrix.setWidth(2),this._projMatrix.scale(1,f/h)):this._projMatrix.scale(h/f,1),this._projMatrix.multiplyByMatrix(this._modelMatrix),o.setMvpMatrix(this._projMatrix);const m=l.getParameter(l.FRAMEBUFFER_BINDING);o.setRenderState(m,[0,0,r.width,r.height]),o.drawModel()}}async function ds(s){const i=await fetch(s);if(!i.ok)throw new Error(`Failed to fetch ${s}: ${i.status}`);return i.arrayBuffer()}function C1(s,i){return new Promise((l,r)=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{const f=s.createTexture();s.bindTexture(s.TEXTURE_2D,f),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.LINEAR_MIPMAP_LINEAR),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.LINEAR),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,o),s.generateMipmap(s.TEXTURE_2D),s.bindTexture(s.TEXTURE_2D,null),l(f)},o.onerror=()=>r(new Error(`Failed to load texture: ${i}`)),o.src=i})}class M1{constructor(i){_(this,"gl");_(this,"model",null);_(this,"rafId",0);_(this,"lastTime",0);this.canvas=i,x1();const l=i.getContext("webgl",{alpha:!0});if(!l)throw new Error("WebGL not supported");this.gl=l,l.enable(l.BLEND),l.blendFunc(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA),l.clearColor(0,0,0,0)}async loadModel(i){this.unloadModel();const l=i.lastIndexOf("/"),r=i.substring(0,l+1),o=i.substring(l+1),f=new b1;await f.initialize(this.gl,r,o),this.model=f,this.lastTime=performance.now(),this._startLoop()}setMouthOpen(i){var l;(l=this.model)==null||l.setMouthOpen(i)}triggerMotion(i){var l;(l=this.model)==null||l.playMotionGroup(i)}_startLoop(){const i=l=>{var f,h;const r=Math.min((l-this.lastTime)/1e3,.033);this.lastTime=l;const o=this.gl;o.viewport(0,0,this.canvas.width,this.canvas.height),o.clear(o.COLOR_BUFFER_BIT),(f=this.model)==null||f.update(r),(h=this.model)==null||h.draw(o,this.canvas),this.rafId=requestAnimationFrame(i)};this.rafId=requestAnimationFrame(i)}unloadModel(){var i;cancelAnimationFrame(this.rafId),(i=this.model)==null||i.release(),this.model=null}dispose(){this.unloadModel()}}const T1={:"happy",:"sad",:"angry",:"idle",:"surprised"},Iy=w.forwardRef(({modelName:s,className:i=""},l)=>{const r=w.useRef(null),o=w.useRef(null),[f,h]=w.useState("idle"),[m,p]=w.useState(""),g=w.useRef(0),y=w.useRef(0);w.useEffect(()=>{const b=r.current;if(!b)return;const B=new ResizeObserver(()=>{const C=window.devicePixelRatio||1;b.width=b.offsetWidth*C,b.height=b.offsetHeight*C});return B.observe(b),()=>B.disconnect()},[]);const S=()=>typeof window<"u"&&!window.__cubismCoreError&&typeof window.Live2DCubismCore<"u",E=w.useCallback(b=>{let B=0;const C=()=>{const D=g.current;B+=(D-B)*.3,b.setMouthOpen(B),y.current=requestAnimationFrame(C)};y.current=requestAnimationFrame(C)},[]);return w.useEffect(()=>{if(!s){h("idle");return}if(!S()){h("no-sdk");return}const b=r.current;if(!b)return;h("loading");let B;try{B=new M1(b),o.current=B}catch(C){h("error"),p(String(C));return}return fetch(`/api/models/list?name=${encodeURIComponent(s)}`).then(C=>{if(!C.ok)throw new Error(` "${s}" `);return C.json()}).then(C=>{const D=C.find(F=>F.endsWith(".model3.json"));if(!D)throw new Error(" .model3.json ");const j=`/models/${encodeURIComponent(s)}/${D}`;return B.loadModel(j)}).then(()=>{h("ready"),E(B)}).catch(C=>{h("error"),p(String(C))}),()=>{cancelAnimationFrame(y.current),B.dispose(),o.current=null}},[s,E]),w.useImperativeHandle(l,()=>({setMouthOpen(b){g.current=Math.max(0,Math.min(1,b))},triggerEmotion(b){var C;const B=T1[b]??"idle";(C=o.current)==null||C.triggerMotion(B)}}),[]),x.jsxs("div",{className:`relative ${i}`,children:[x.jsx("canvas",{ref:r,className:`w-full h-full ${f==="ready"?"":"hidden"}`,style:{background:"transparent"}}),f==="no-sdk"&&x.jsx(su,{icon:x.jsx(ep,{className:"text-yellow-400",size:40}),title:"Cubism SDK ",desc:x.jsxs(x.Fragment,{children:[""," ",x.jsx("code",{className:"text-yellow-300 text-xs",children:"frontend/public/live2d/SETUP.md"})," "," CubismSdkForWeb"]})}),f==="idle"&&x.jsx(su,{icon:x.jsx("span",{className:"text-4xl",children:""}),title:" Live2D ",desc:""}),f==="loading"&&x.jsx(su,{icon:x.jsx(Ni,{className:"text-primary-400 animate-spin",size:40}),title:"...",desc:` ${s}`}),f==="error"&&x.jsx(su,{icon:x.jsx(ep,{className:"text-red-400",size:40}),title:"",desc:x.jsx("span",{className:"text-red-300 text-xs break-all",children:m})})]})});function su({icon:s,title:i,desc:l}){return x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 bg-gray-900/80 rounded-xl",children:[s,x.jsx("p",{className:"text-gray-200 font-medium",children:i}),x.jsx("p",{className:"text-gray-400 text-sm text-center max-w-xs",children:l})]})}Iy.displayName="Live2DCanvas";const E1={:"",:"",:"",:"",:""};function B1({text:s,emotion:i}){const[l,r]=w.useState(!1);if(w.useEffect(()=>{if(s){r(!0);const f=setTimeout(()=>r(!1),5e3);return()=>clearTimeout(f)}else r(!1)},[s]),!s)return null;const o=E1[i]??"";return x.jsx("div",{className:`
        absolute bottom-4 left-1/2 -translate-x-1/2
        max-w-lg w-full px-4 transition-opacity duration-500
        ${l?"opacity-100":"opacity-0"}
      `,children:x.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-xl px-5 py-3 text-center border border-white/10",children:[x.jsx("span",{className:"text-lg mr-2",children:o}),x.jsx("span",{className:"text-white text-base leading-relaxed",children:s})]})})}function R1(){const s=w.useRef(null),[i,l]=w.useState(!1),[r,o]=w.useState({text:"",emotion:""}),[f,h]=w.useState(void 0);w.useEffect(()=>{fetch("/api/config").then(p=>p.json()).then(p=>{var g;(g=p.character)!=null&&g.live2d_model&&h(p.character.live2d_model)}).catch(()=>{})},[]);const m=w.useCallback((p,g)=>{const y=s.current;if(y)for(const{beginTime:S,endTime:E}of p){const b=g+S-performance.now(),B=g+E-performance.now();b>0&&setTimeout(()=>y.setMouthOpen(1),b),B>0&&setTimeout(()=>y.setMouthOpen(0),B)}},[]);return w.useEffect(()=>{const p=Q_(),g=setInterval(()=>l(p.connected),1e3);l(p.connected);const y=p.onMessage(S=>{var E,b;S.type==="lip_sync"?m(S.timeline,S.t0):S.type==="subtitle"?(o({text:S.text,emotion:S.emotion}),(E=s.current)==null||E.triggerEmotion(S.emotion)):S.type==="playback_done"&&((b=s.current)==null||b.setMouthOpen(0))});return()=>{clearInterval(g),y()}},[m]),x.jsxs("div",{className:"flex flex-col h-full bg-gray-950",children:[x.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-800",children:[x.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"Live2D "}),x.jsx("div",{className:"flex items-center gap-2 text-sm",children:i?x.jsxs(x.Fragment,{children:[x.jsx(rb,{size:14,className:"text-green-400"}),x.jsx("span",{className:"text-green-400",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx(sb,{size:14,className:"text-red-400"}),x.jsx("span",{className:"text-red-400",children:""})]})})]}),x.jsx("div",{className:"flex-1 relative p-4",children:x.jsxs("div",{className:"relative h-full max-w-2xl mx-auto",children:[x.jsx(Iy,{ref:s,modelName:f,className:"w-full h-full rounded-xl border border-gray-800 bg-gray-900"}),x.jsx(B1,{text:r.text,emotion:r.emotion})]})})]})}function V1(){return x.jsxs("aside",{className:"w-56 flex-none bg-gray-900 border-r border-gray-800 flex flex-col",children:[x.jsxs("div",{className:"px-6 py-5 border-b border-gray-800",children:[x.jsx("h1",{className:"text-lg font-bold text-white",children:"AI VTuber Bot"}),x.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:""})]}),x.jsxs("nav",{className:"flex-1 p-3 space-y-1",children:[x.jsxs(gs,{to:"/dashboard",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:[x.jsx(Kx,{size:18}),x.jsx("span",{children:""})]}),x.jsxs(gs,{to:"/live2d",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:[x.jsx($x,{size:18}),x.jsx("span",{children:"Live2D "})]}),x.jsxs(gs,{to:"/settings",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:[x.jsx(ab,{size:18}),x.jsx("span",{children:""})]}),x.jsxs(gs,{to:"/character",className:({isActive:s})=>`nav-link ${s?"active":""}`,children:[x.jsx(lb,{size:18}),x.jsx("span",{children:""})]})]})]})}function D1(){return x.jsx(Nx,{children:x.jsxs("div",{className:"flex h-screen overflow-hidden",children:[x.jsx(V1,{}),x.jsx("main",{className:"flex-1 overflow-auto",children:x.jsxs(hx,{children:[x.jsx(en,{path:"/",element:x.jsx(cx,{to:"/dashboard",replace:!0})}),x.jsx(en,{path:"/dashboard",element:x.jsx(db,{})}),x.jsx(en,{path:"/live2d",element:x.jsx(R1,{})}),x.jsx(en,{path:"/settings",element:x.jsx(kb,{})}),x.jsx(en,{path:"/character",element:x.jsx(Ib,{})})]})})]})})}gS.createRoot(document.getElementById("root")).render(x.jsx(w.StrictMode,{children:x.jsx(D1,{})}));
